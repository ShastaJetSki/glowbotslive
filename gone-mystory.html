<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gone ‚Äì My Story</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      min-height: 100vh;
      background: #0a0a0a;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: #ffffff;
    }

    :root {
      --primary: #0ea5e9;
      --primary-hover: #0284c7;
      --accent: #2dd4bf;
    }

    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 100;
      padding: 16px 24px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(10, 10, 10, 0.95);
      border-bottom: 1px solid #1a1a1a;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
    }

    .logo-box {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 14px;
      color: #fff;
    }

    .logo-text { font-size: 18px; font-weight: 600; color: #fff; }

    .nav { display: flex; gap: 8px; }

    .nav-btn {
      padding: 8px 16px;
      font-size: 13px;
      font-weight: 500;
      border-radius: 8px;
      border: 1px solid #2a2a2a;
      background: transparent;
      color: #888;
      text-decoration: none;
      cursor: pointer;
      transition: all 0.2s;
    }

    .nav-btn:hover { border-color: #444; color: #fff; }
    .nav-btn.active { background: var(--primary); border-color: var(--primary); color: #fff; }

    .main {
      max-width: 1000px;
      margin: 0 auto;
      padding: 100px 24px 40px;
    }

    .page-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 32px;
    }

    .page-title { font-size: 28px; font-weight: 700; margin-bottom: 8px; }
    .page-desc { font-size: 14px; color: #666; max-width: 600px; line-height: 1.6; }

    .ai-status {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 20px;
      background: linear-gradient(135deg, rgba(14, 165, 233, 0.1), rgba(45, 212, 191, 0.1));
      border: 1px solid rgba(14, 165, 233, 0.2);
      border-radius: 12px;
    }

    .ai-status-dot {
      width: 10px;
      height: 10px;
      background: var(--accent);
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .ai-status-text {
      font-size: 13px;
      color: #888;
    }

    .ai-status-text strong {
      color: var(--accent);
    }

    /* Progress Bar */
    .progress-section {
      background: #141414;
      border: 1px solid #2a2a2a;
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 24px;
    }

    .progress-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    .progress-title {
      font-size: 14px;
      font-weight: 600;
    }

    .progress-percent {
      font-size: 24px;
      font-weight: 700;
      color: var(--primary);
    }

    .progress-bar {
      height: 8px;
      background: #2a2a2a;
      border-radius: 4px;
      overflow: hidden;
      margin-bottom: 16px;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      border-radius: 4px;
      transition: width 0.5s ease;
    }

    .progress-sections {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .progress-section-tag {
      padding: 6px 12px;
      font-size: 11px;
      border-radius: 6px;
      background: #0a0a0a;
      border: 1px solid #2a2a2a;
      color: #666;
    }

    .progress-section-tag.complete {
      border-color: var(--accent);
      color: var(--accent);
    }

    .progress-section-tag.active {
      border-color: var(--primary);
      color: var(--primary);
    }

    /* Story Sections */
    .story-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
      margin-bottom: 24px;
    }

    .story-card {
      background: #141414;
      border: 1px solid #2a2a2a;
      border-radius: 16px;
      padding: 24px;
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
    }

    .story-card:hover {
      border-color: var(--primary);
      transform: translateY(-2px);
    }

    .story-card.complete {
      border-color: var(--accent);
    }

    .story-card-status {
      position: absolute;
      top: 16px;
      right: 16px;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }

    .story-card-status.complete {
      background: var(--accent);
      color: #000;
    }

    .story-card-status.incomplete {
      background: #2a2a2a;
      color: #666;
    }

    .story-card-icon {
      width: 48px;
      height: 48px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      margin-bottom: 16px;
    }

    .story-card-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .story-card-desc {
      font-size: 13px;
      color: #666;
      line-height: 1.5;
    }

    .story-card-count {
      font-size: 11px;
      color: var(--primary);
      margin-top: 12px;
    }

    /* Full Width Card */
    .story-card.full {
      grid-column: 1 / -1;
    }

    /* Section */
    .section {
      background: #141414;
      border: 1px solid #2a2a2a;
      border-radius: 16px;
      margin-bottom: 20px;
      overflow: hidden;
    }

    .section-header {
      padding: 20px 24px;
      border-bottom: 1px solid #2a2a2a;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .section-title { font-size: 16px; font-weight: 600; }
    .section-desc { font-size: 13px; color: #666; margin-top: 4px; }
    .section-body { padding: 24px; }

    /* Form */
    .form-group { margin-bottom: 20px; }
    .form-group:last-child { margin-bottom: 0; }

    .form-label {
      display: block;
      font-size: 12px;
      color: #888;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .form-input, .form-select, .form-textarea {
      width: 100%;
      padding: 14px 16px;
      font-size: 14px;
      border-radius: 10px;
      border: 1px solid #2a2a2a;
      background: #0a0a0a;
      color: #fff;
      transition: border-color 0.2s;
      font-family: inherit;
    }

    .form-input:focus, .form-select:focus, .form-textarea:focus {
      outline: none;
      border-color: var(--primary);
    }

    .form-textarea {
      min-height: 120px;
      resize: vertical;
      line-height: 1.6;
    }

    .form-textarea.large {
      min-height: 200px;
    }

    .form-hint {
      font-size: 12px;
      color: #555;
      margin-top: 8px;
      line-height: 1.5;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    /* Character Traits */
    .traits-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 16px;
    }

    .trait-tag {
      padding: 8px 16px;
      font-size: 13px;
      border-radius: 20px;
      border: 1px solid #2a2a2a;
      background: transparent;
      color: #888;
      cursor: pointer;
      transition: all 0.2s;
    }

    .trait-tag:hover {
      border-color: var(--primary);
      color: var(--primary);
    }

    .trait-tag.selected {
      background: var(--primary);
      border-color: var(--primary);
      color: #fff;
    }

    /* Voice Sample */
    .voice-sample {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 16px;
      background: #0a0a0a;
      border: 1px solid #2a2a2a;
      border-radius: 12px;
      margin-bottom: 12px;
    }

    .voice-btn {
      width: 48px;
      height: 48px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      border: none;
      border-radius: 50%;
      color: #fff;
      font-size: 16px;
      cursor: pointer;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }

    .voice-btn:hover {
      transform: scale(1.05);
    }

    .voice-btn.recording {
      animation: pulse-record 1s infinite;
    }

    @keyframes pulse-record {
      0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.5); }
      50% { box-shadow: 0 0 0 12px rgba(239, 68, 68, 0); }
    }

    .voice-info {
      flex: 1;
    }

    .voice-label {
      font-size: 13px;
      font-weight: 500;
      margin-bottom: 4px;
    }

    .voice-duration {
      font-size: 12px;
      color: #666;
    }

    .voice-delete {
      padding: 8px;
      background: transparent;
      border: none;
      color: #666;
      cursor: pointer;
      font-size: 16px;
    }

    .voice-delete:hover {
      color: #ef4444;
    }

    /* Story Entry */
    .story-entry {
      padding: 16px;
      background: #0a0a0a;
      border: 1px solid #2a2a2a;
      border-radius: 12px;
      margin-bottom: 12px;
    }

    .story-entry-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 12px;
    }

    .story-entry-title {
      font-size: 14px;
      font-weight: 500;
    }

    .story-entry-date {
      font-size: 11px;
      color: #666;
    }

    .story-entry-text {
      font-size: 13px;
      color: #888;
      line-height: 1.6;
    }

    .story-entry-actions {
      display: flex;
      gap: 8px;
      margin-top: 12px;
    }

    /* Recipient Specific */
    .recipient-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 20px;
      overflow-x: auto;
    }

    .recipient-tab {
      padding: 10px 20px;
      font-size: 13px;
      font-weight: 500;
      border-radius: 8px;
      border: 1px solid #2a2a2a;
      background: transparent;
      color: #888;
      cursor: pointer;
      white-space: nowrap;
      transition: all 0.2s;
    }

    .recipient-tab:hover {
      border-color: #444;
      color: #fff;
    }

    .recipient-tab.active {
      background: var(--primary);
      border-color: var(--primary);
      color: #fff;
    }

    /* Buttons */
    .btn {
      padding: 12px 24px;
      font-size: 14px;
      font-weight: 500;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.2s;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn-primary {
      background: var(--primary);
      border: 1px solid var(--primary);
      color: #fff;
    }

    .btn-primary:hover {
      background: var(--primary-hover);
      border-color: var(--primary-hover);
    }

    .btn-secondary {
      background: transparent;
      border: 1px solid #2a2a2a;
      color: #888;
    }

    .btn-secondary:hover {
      border-color: #444;
      color: #fff;
    }

    .btn-small {
      padding: 6px 12px;
      font-size: 12px;
    }

    .actions-row {
      display: flex;
      gap: 12px;
      justify-content: flex-end;
      padding-top: 20px;
      border-top: 1px solid #1a1a1a;
      margin-top: 20px;
    }

    /* Preview Box */
    .preview-box {
      background: linear-gradient(135deg, rgba(14, 165, 233, 0.05), rgba(45, 212, 191, 0.05));
      border: 1px solid rgba(14, 165, 233, 0.2);
      border-radius: 12px;
      padding: 20px;
      margin-top: 20px;
    }

    .preview-title {
      font-size: 12px;
      color: var(--primary);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 12px;
    }

    .preview-text {
      font-size: 14px;
      color: #ccc;
      line-height: 1.7;
      font-style: italic;
    }

    /* Modal */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: 24px;
    }

    .modal-overlay.active { display: flex; }

    .modal {
      background: #141414;
      border: 1px solid #2a2a2a;
      border-radius: 18px;
      width: 100%;
      max-width: 640px;
      max-height: 90vh;
      overflow-y: auto;
    }

    .modal-header {
      padding: 20px 24px;
      border-bottom: 1px solid #2a2a2a;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      background: #141414;
    }

    .modal-title { font-size: 18px; font-weight: 600; }

    .modal-close {
      width: 32px;
      height: 32px;
      background: transparent;
      border: 1px solid #2a2a2a;
      border-radius: 8px;
      color: #888;
      font-size: 18px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-close:hover {
      border-color: var(--primary);
      color: var(--primary);
    }

    .modal-body { padding: 24px; }

    .modal-footer {
      padding: 16px 24px;
      border-top: 1px solid #2a2a2a;
      display: flex;
      gap: 12px;
      justify-content: flex-end;
    }

    /* Mobile */
    @media (max-width: 768px) {
      .main { padding: 80px 16px 24px; }
      .story-grid { grid-template-columns: 1fr; }
      .form-row { grid-template-columns: 1fr; }
      .page-header { flex-direction: column; gap: 16px; }
    }
  </style>
</head>
<body>

<header class="header">
  <a href="gone-dashboard.html" class="logo">
    <div class="logo-box">G</div>
    <span class="logo-text">Gone</span>
  </a>
  <nav class="nav">
    <a href="gone-dashboard.html" class="nav-btn">Dashboard</a>
    <a href="gone-mystory.html" class="nav-btn active">My Story</a>
    <a href="#" class="nav-btn">Recipients</a>
    <a href="gone-settings.html" class="nav-btn">Settings</a>
    <button class="nav-btn" onclick="logout()">Logout</button>
  </nav>
</header>

<div class="main">
  <div class="page-header">
    <div>
      <h1 class="page-title">My Story</h1>
      <p class="page-desc">Share your life story, personality, and wisdom. This information helps our AI speak to your loved ones as you would‚Äîwith your voice, your values, and your love.</p>
    </div>
    <div class="ai-status">
      <div class="ai-status-dot"></div>
      <div class="ai-status-text">AI Persona: <strong>Active</strong></div>
    </div>
  </div>

  <!-- Progress -->
  <div class="progress-section">
    <div class="progress-header">
      <div class="progress-title">Story Completeness</div>
      <div class="progress-percent">45%</div>
    </div>
    <div class="progress-bar">
      <div class="progress-fill" style="width: 45%"></div>
    </div>
    <div class="progress-sections">
      <span class="progress-section-tag complete">Basic Info</span>
      <span class="progress-section-tag complete">Personality</span>
      <span class="progress-section-tag active">Life Stories</span>
      <span class="progress-section-tag">Voice Sample</span>
      <span class="progress-section-tag">Values & Beliefs</span>
      <span class="progress-section-tag">Messages</span>
    </div>
  </div>

  <!-- Story Cards -->
  <div class="story-grid">
    <div class="story-card complete" onclick="openModal('identity')">
      <div class="story-card-status complete">‚úì</div>
      <div class="story-card-icon">üë§</div>
      <div class="story-card-title">Who I Am</div>
      <div class="story-card-desc">Your background, where you grew up, what shaped you as a person</div>
      <div class="story-card-count">3 entries saved</div>
    </div>

    <div class="story-card complete" onclick="openModal('personality')">
      <div class="story-card-status complete">‚úì</div>
      <div class="story-card-icon">üí´</div>
      <div class="story-card-title">My Personality</div>
      <div class="story-card-desc">How you communicate, your humor, expressions you use</div>
      <div class="story-card-count">Traits selected</div>
    </div>

    <div class="story-card" onclick="openModal('stories')">
      <div class="story-card-status incomplete">‚óã</div>
      <div class="story-card-icon">üìñ</div>
      <div class="story-card-title">Life Stories</div>
      <div class="story-card-desc">Important memories and experiences you want to share</div>
      <div class="story-card-count">2 of 10 recommended</div>
    </div>

    <div class="story-card" onclick="openModal('voice')">
      <div class="story-card-status incomplete">‚óã</div>
      <div class="story-card-icon">üéôÔ∏è</div>
      <div class="story-card-title">Voice & Mannerisms</div>
      <div class="story-card-desc">Record your voice so AI can capture your tone and cadence</div>
      <div class="story-card-count">No recordings yet</div>
    </div>

    <div class="story-card" onclick="openModal('values')">
      <div class="story-card-status incomplete">‚óã</div>
      <div class="story-card-icon">üß≠</div>
      <div class="story-card-title">Values & Beliefs</div>
      <div class="story-card-desc">What you stand for, your philosophy on life</div>
      <div class="story-card-count">Not started</div>
    </div>

    <div class="story-card" onclick="openModal('wisdom')">
      <div class="story-card-status incomplete">‚óã</div>
      <div class="story-card-icon">üí°</div>
      <div class="story-card-title">Life Wisdom</div>
      <div class="story-card-desc">Lessons learned, advice for different situations</div>
      <div class="story-card-count">Not started</div>
    </div>

    <div class="story-card full" onclick="openModal('messages')">
      <div class="story-card-status incomplete">‚óã</div>
      <div class="story-card-icon">üíå</div>
      <div class="story-card-title">Messages for Each Child</div>
      <div class="story-card-desc">Personalized guidance, inside jokes, and memories specific to each of your children. The AI will use these to speak uniquely to each one.</div>
      <div class="story-card-count">0 personalized messages</div>
    </div>
  </div>

  <!-- Test AI Preview -->
  <div class="section">
    <div class="section-header">
      <div>
        <div class="section-title">Preview Your AI Voice</div>
        <div class="section-desc">See how the AI would respond as you based on your story</div>
      </div>
      <button class="btn btn-primary btn-small" onclick="testAI()">Test AI Response</button>
    </div>
    <div class="section-body">
      <div class="form-group">
        <label class="form-label">Ask a question your child might ask</label>
        <input type="text" class="form-input" id="testQuestion" placeholder="e.g., Dad, what should I do about my job?">
      </div>
      <div class="preview-box" id="aiPreview" style="display:none;">
        <div class="preview-title">AI Response (As You)</div>
        <div class="preview-text" id="aiPreviewText"></div>
      </div>
    </div>
  </div>
</div>

<!-- Identity Modal -->
<div class="modal-overlay" id="identityModal">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">Who I Am</div>
      <button class="modal-close" onclick="closeModal('identity')">√ó</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label class="form-label">Full Name</label>
        <input type="text" class="form-input" value="John Michael Smith">
      </div>
      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Nickname(s)</label>
          <input type="text" class="form-input" placeholder="What do your kids call you?">
        </div>
        <div class="form-group">
          <label class="form-label">Born</label>
          <input type="text" class="form-input" value="June 15, 1975 ‚Äì Chicago, IL">
        </div>
      </div>
      <div class="form-group">
        <label class="form-label">My Background</label>
        <textarea class="form-textarea large" placeholder="Tell your story... Where did you grow up? What was your childhood like? What experiences shaped who you are today?">I grew up on the south side of Chicago in a small two-bedroom apartment with my parents and two brothers. My father worked at the steel mill and my mother was a schoolteacher. We didn't have much, but we had each other. Those years taught me the value of hard work and the importance of family above all else.</textarea>
        <div class="form-hint">This helps the AI understand your roots and speak authentically about your background.</div>
      </div>
      <div class="form-group">
        <label class="form-label">What I Do / Did for Work</label>
        <textarea class="form-textarea" placeholder="Your career, what you're proud of professionally"></textarea>
      </div>
      <div class="form-group">
        <label class="form-label">My Greatest Accomplishments</label>
        <textarea class="form-textarea" placeholder="What are you most proud of in life?"></textarea>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeModal('identity')">Cancel</button>
      <button class="btn btn-primary" onclick="saveAndClose('identity')">Save</button>
    </div>
  </div>
</div>

<!-- Personality Modal -->
<div class="modal-overlay" id="personalityModal">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">My Personality</div>
      <button class="modal-close" onclick="closeModal('personality')">√ó</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label class="form-label">Select traits that describe you</label>
        <div class="traits-grid">
          <button class="trait-tag selected" onclick="toggleTrait(this)">Warm</button>
          <button class="trait-tag selected" onclick="toggleTrait(this)">Patient</button>
          <button class="trait-tag" onclick="toggleTrait(this)">Direct</button>
          <button class="trait-tag selected" onclick="toggleTrait(this)">Humorous</button>
          <button class="trait-tag" onclick="toggleTrait(this)">Serious</button>
          <button class="trait-tag" onclick="toggleTrait(this)">Quiet</button>
          <button class="trait-tag selected" onclick="toggleTrait(this)">Encouraging</button>
          <button class="trait-tag" onclick="toggleTrait(this)">Strict</button>
          <button class="trait-tag" onclick="toggleTrait(this)">Easy-going</button>
          <button class="trait-tag" onclick="toggleTrait(this)">Protective</button>
          <button class="trait-tag selected" onclick="toggleTrait(this)">Supportive</button>
          <button class="trait-tag" onclick="toggleTrait(this)">Analytical</button>
          <button class="trait-tag" onclick="toggleTrait(this)">Emotional</button>
          <button class="trait-tag" onclick="toggleTrait(this)">Stoic</button>
          <button class="trait-tag" onclick="toggleTrait(this)">Adventurous</button>
        </div>
      </div>
      <div class="form-group">
        <label class="form-label">How do you typically give advice?</label>
        <textarea class="form-textarea" placeholder="Do you tell stories? Use metaphors? Give direct instructions?">I usually start with a story from my own life. I believe people learn better from examples than lectures. I'll often say "Let me tell you what happened to me..." and then relate it to their situation.</textarea>
      </div>
      <div class="form-group">
        <label class="form-label">Phrases or expressions you often use</label>
        <textarea class="form-textarea" placeholder="e.g., 'Here's the thing...', 'Back in my day...', pet names for kids">"Here's the thing, kiddo..."
"You know what your grandfather used to say?"
"I'm proud of you, no matter what."
"Trust your gut, but use your head."</textarea>
        <div class="form-hint">The AI will incorporate these into responses to sound more like you.</div>
      </div>
      <div class="form-group">
        <label class="form-label">Your sense of humor</label>
        <textarea class="form-textarea" placeholder="What kind of jokes do you make? Any running jokes with your kids?">I love dad jokes - the cornier the better. I have a running joke with Sarah about being her "favorite dad" (I'm her only dad). With Michael, we always quote lines from The Godfather to each other.</textarea>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeModal('personality')">Cancel</button>
      <button class="btn btn-primary" onclick="saveAndClose('personality')">Save</button>
    </div>
  </div>
</div>

<!-- Life Stories Modal -->
<div class="modal-overlay" id="storiesModal">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">Life Stories</div>
      <button class="modal-close" onclick="closeModal('stories')">√ó</button>
    </div>
    <div class="modal-body">
      <div class="form-hint" style="margin-bottom:20px;">Share important moments from your life. These stories help the AI understand your experiences and share them with your children when relevant.</div>
      
      <div class="story-entry">
        <div class="story-entry-header">
          <div class="story-entry-title">The day I became a father</div>
          <div class="story-entry-date">Added Dec 12, 2024</div>
        </div>
        <div class="story-entry-text">When Sarah was born, I was so nervous I drove to the wrong hospital. Your mother still teases me about it...</div>
        <div class="story-entry-actions">
          <button class="btn btn-secondary btn-small">Edit</button>
          <button class="btn btn-secondary btn-small">Delete</button>
        </div>
      </div>

      <div class="story-entry">
        <div class="story-entry-header">
          <div class="story-entry-title">How I met your mother</div>
          <div class="story-entry-date">Added Dec 10, 2024</div>
        </div>
        <div class="story-entry-text">It was 1998, at a coffee shop on Michigan Avenue. She was reading a book and I accidentally spilled coffee on it...</div>
        <div class="story-entry-actions">
          <button class="btn btn-secondary btn-small">Edit</button>
          <button class="btn btn-secondary btn-small">Delete</button>
        </div>
      </div>

      <div class="form-group" style="margin-top:20px;">
        <label class="form-label">Add a new story</label>
        <input type="text" class="form-input" placeholder="Story title (e.g., 'My first job', 'The camping trip disaster')" style="margin-bottom:12px;">
        <textarea class="form-textarea large" placeholder="Tell the story... Include details, emotions, and what you learned."></textarea>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeModal('stories')">Cancel</button>
      <button class="btn btn-primary" onclick="saveAndClose('stories')">Add Story</button>
    </div>
  </div>
</div>

<!-- Voice Modal -->
<div class="modal-overlay" id="voiceModal">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">Voice & Mannerisms</div>
      <button class="modal-close" onclick="closeModal('voice')">√ó</button>
    </div>
    <div class="modal-body">
      <div class="form-hint" style="margin-bottom:20px;">Record yourself speaking so our AI can learn your voice patterns, pacing, and tone. These recordings help create a more authentic experience for your loved ones.</div>
      
      <div class="form-group">
        <label class="form-label">Voice Samples</label>
        <div class="voice-sample">
          <button class="voice-btn" onclick="toggleRecording(this)">‚óè</button>
          <div class="voice-info">
            <div class="voice-label">Record a greeting</div>
            <div class="voice-duration">Say "Hey kiddo, it's dad. I want you to know..."</div>
          </div>
        </div>
        <div class="voice-sample">
          <button class="voice-btn" onclick="toggleRecording(this)">‚óè</button>
          <div class="voice-info">
            <div class="voice-label">Tell a short story</div>
            <div class="voice-duration">Share a 1-2 minute memory naturally</div>
          </div>
        </div>
        <div class="voice-sample">
          <button class="voice-btn" onclick="toggleRecording(this)">‚óè</button>
          <div class="voice-info">
            <div class="voice-label">Give some advice</div>
            <div class="voice-duration">Record yourself giving life advice</div>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">Upload existing recordings</label>
        <input type="file" class="form-input" accept="audio/*" multiple style="padding:12px;">
        <div class="form-hint">Upload voicemails, videos, or other recordings of yourself speaking.</div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeModal('voice')">Cancel</button>
      <button class="btn btn-primary" onclick="saveAndClose('voice')">Save</button>
    </div>
  </div>
</div>

<!-- Values Modal -->
<div class="modal-overlay" id="valuesModal">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">Values & Beliefs</div>
      <button class="modal-close" onclick="closeModal('values')">√ó</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label class="form-label">What do you believe in most strongly?</label>
        <textarea class="form-textarea large" placeholder="Your core values, what you stand for, what's non-negotiable..."></textarea>
      </div>
      <div class="form-group">
        <label class="form-label">Your views on family</label>
        <textarea class="form-textarea" placeholder="What does family mean to you?"></textarea>
      </div>
      <div class="form-group">
        <label class="form-label">Your views on work and success</label>
        <textarea class="form-textarea" placeholder="What do you think makes a person successful?"></textarea>
      </div>
      <div class="form-group">
        <label class="form-label">Your views on love and relationships</label>
        <textarea class="form-textarea" placeholder="What advice would you give about finding and keeping love?"></textarea>
      </div>
      <div class="form-group">
        <label class="form-label">Your spiritual or religious beliefs</label>
        <textarea class="form-textarea" placeholder="Optional - share if you'd like the AI to reflect these beliefs"></textarea>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeModal('values')">Cancel</button>
      <button class="btn btn-primary" onclick="saveAndClose('values')">Save</button>
    </div>
  </div>
</div>

<!-- Wisdom Modal -->
<div class="modal-overlay" id="wisdomModal">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">Life Wisdom</div>
      <button class="modal-close" onclick="closeModal('wisdom')">√ó</button>
    </div>
    <div class="modal-body">
      <div class="form-hint" style="margin-bottom:20px;">Share your advice for different life situations. The AI will draw from this wisdom when your children need guidance.</div>
      
      <div class="form-group">
        <label class="form-label">Advice about career and work</label>
        <textarea class="form-textarea" placeholder="What would you tell your kids about finding their path, dealing with bosses, handling setbacks?"></textarea>
      </div>
      <div class="form-group">
        <label class="form-label">Advice about relationships</label>
        <textarea class="form-textarea" placeholder="What would you say about choosing a partner, dealing with heartbreak, maintaining friendships?"></textarea>
      </div>
      <div class="form-group">
        <label class="form-label">Advice about money</label>
        <textarea class="form-textarea" placeholder="What financial wisdom would you share?"></textarea>
      </div>
      <div class="form-group">
        <label class="form-label">Advice about raising children</label>
        <textarea class="form-textarea" placeholder="What would you tell your kids when they become parents?"></textarea>
      </div>
      <div class="form-group">
        <label class="form-label">Advice about hard times</label>
        <textarea class="form-textarea" placeholder="What would you say to help them through grief, failure, or difficult periods?"></textarea>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeModal('wisdom')">Cancel</button>
      <button class="btn btn-primary" onclick="saveAndClose('wisdom')">Save</button>
    </div>
  </div>
</div>

<!-- Messages Modal -->
<div class="modal-overlay" id="messagesModal">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">Messages for Each Child</div>
      <button class="modal-close" onclick="closeModal('messages')">√ó</button>
    </div>
    <div class="modal-body">
      <div class="form-hint" style="margin-bottom:20px;">Create personalized content for each of your children. The AI will use these details to speak uniquely to each one.</div>
      
      <div class="recipient-tabs">
        <button class="recipient-tab active" onclick="selectRecipient('sarah', this)">Sarah</button>
        <button class="recipient-tab" onclick="selectRecipient('michael', this)">Michael</button>
        <button class="recipient-tab" onclick="selectRecipient('add', this)">+ Add Child</button>
      </div>

      <div id="recipientContent">
        <div class="form-group">
          <label class="form-label">Pet name / nickname for Sarah</label>
          <input type="text" class="form-input" placeholder="What do you call her?" value="Princess, Sar-bear">
        </div>
        <div class="form-group">
          <label class="form-label">Special memories with Sarah</label>
          <textarea class="form-textarea" placeholder="Memories only you two share, inside jokes, special moments...">Our Saturday morning pancake tradition. Teaching her to ride a bike in Lincoln Park. The time we got lost hiking and found that hidden waterfall.</textarea>
        </div>
        <div class="form-group">
          <label class="form-label">What you want Sarah to know</label>
          <textarea class="form-textarea large" placeholder="Things you've always wanted to say, hopes for her future, how proud you are...">Sarah, from the moment you were born, you changed my life in ways I never expected. You have your mother's kindness and my stubbornness - and somehow that combination makes you unstoppable. I want you to know that every time I see you stand up for what's right, my heart swells with pride...</textarea>
        </div>
        <div class="form-group">
          <label class="form-label">Advice specifically for Sarah</label>
          <textarea class="form-textarea" placeholder="Guidance tailored to her personality, challenges, or dreams...">You've always been the planner, the one who thinks ten steps ahead. That's a gift. But sometimes, princess, you need to let go and trust the journey. Not everything can be controlled, and that's okay.</textarea>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeModal('messages')">Cancel</button>
      <button class="btn btn-primary" onclick="saveAndClose('messages')">Save</button>
    </div>
  </div>
</div>

<script>
// Modal functions
function openModal(type) {
  document.getElementById(type + 'Modal').classList.add('active');
}

function closeModal(type) {
  document.getElementById(type + 'Modal').classList.remove('active');
}

function saveAndClose(type) {
  // In real app, save to database
  alert('Saved successfully!');
  closeModal(type);
  
  // Update card status
  const cards = document.querySelectorAll('.story-card');
  cards.forEach(card => {
    if (card.onclick.toString().includes(type)) {
      card.classList.add('complete');
      card.querySelector('.story-card-status').classList.remove('incomplete');
      card.querySelector('.story-card-status').classList.add('complete');
      card.querySelector('.story-card-status').textContent = '‚úì';
    }
  });
}

// Trait selection
function toggleTrait(el) {
  el.classList.toggle('selected');
}

// Voice recording
function toggleRecording(btn) {
  btn.classList.toggle('recording');
  if (btn.classList.contains('recording')) {
    btn.textContent = '‚ñ†';
  } else {
    btn.textContent = '‚óè';
  }
}

// Recipient tabs
function selectRecipient(id, btn) {
  document.querySelectorAll('.recipient-tab').forEach(t => t.classList.remove('active'));
  btn.classList.add('active');
  
  if (id === 'add') {
    const name = prompt('Enter child\'s name:');
    if (name) {
      const tab = document.createElement('button');
      tab.className = 'recipient-tab active';
      tab.textContent = name;
      tab.onclick = function() { selectRecipient(name.toLowerCase(), this); };
      btn.before(tab);
      document.querySelectorAll('.recipient-tab').forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
    }
  }
}

// Test AI
function testAI() {
  const question = document.getElementById('testQuestion').value.trim();
  if (!question) {
    alert('Please enter a question');
    return;
  }
  
  const preview = document.getElementById('aiPreview');
  const previewText = document.getElementById('aiPreviewText');
  
  // Simulate AI response based on stored persona data
  const responses = [
    `Hey kiddo, here's the thing... I've been where you are. When I was about your age, I faced something similar. What I learned is that the answer isn't always clear right away, and that's okay. Trust your gut, but use your head too. Whatever you decide, I'm proud of you for thinking it through.`,
    `You know what your grandfather used to say? "The best time to plant a tree was twenty years ago. The second best time is now." I think that applies here. Don't worry about what you should have done - focus on what you can do now. And remember, I believe in you, no matter what.`,
    `Let me tell you something, princess. Life's going to throw curveballs at you - it always does. But I've watched you handle tough situations before, and you've got more strength than you know. Take it one step at a time, and don't be afraid to ask for help. That's not weakness, that's wisdom.`
  ];
  
  previewText.textContent = responses[Math.floor(Math.random() * responses.length)];
  preview.style.display = 'block';
}

function logout() {
  window.location.href = 'gone-login.html';
}
</script>

</body>
</html>
