<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #0b0f14;
      min-height: 100vh;
      padding: 20px;
      color: #e8eef6;
    }

    .container {
      max-width: 1600px;
      margin: 0 auto;
    }

    .header {
      background: #0f1621;
      border: 1px solid #2d3f56;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .header h1 {
      color: #60a5fa;
      font-size: 28px;
      font-weight: 700;
    }

    .header-nav {
      display: flex;
      gap: 12px;
    }

    .nav-btn {
      padding: 10px 20px;
      border-radius: 8px;
      border: 1px solid #2d3f56;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      color: white;
      background: #3b82f6;
      font-size: 14px;
    }

    .nav-btn:hover {
      background: #2563eb;
      transform: translateY(-2px);
    }

    .nav-btn.secondary {
      background: #1e40af;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 24px;
    }

    .stat-card {
      background: #0f1621;
      border: 1px solid #2d3f56;
      border-radius: 12px;
      padding: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      transition: transform 0.2s;
    }

    .stat-card:hover {
      transform: translateY(-4px);
      border-color: #3b82f6;
    }

    .stat-label {
      font-size: 11px;
      color: #94a3b8;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 8px;
    }

    .stat-value {
      font-size: 36px;
      font-weight: 700;
      color: #e8eef6;
      margin-bottom: 8px;
    }

    .stat-change {
      font-size: 13px;
      font-weight: 600;
    }

    .stat-change.positive { color: #10b981; }
    .stat-change.negative { color: #ef4444; }

    /* Collapsible Section */
    .section {
      background: #0f1621;
      border: 1px solid #2d3f56;
      border-radius: 12px;
      margin-bottom: 20px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .section-header {
      padding: 20px 24px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all 0.2s;
      user-select: none;
    }

    .section-header:hover {
      background: #1a2535;
    }

    .section-title {
      font-size: 20px;
      font-weight: 700;
      color: #60a5fa;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .section-toggle {
      font-size: 14px;
      color: #94a3b8;
      transition: transform 0.3s;
    }

    .section.collapsed .section-toggle {
      transform: rotate(-90deg);
    }

    .section-content {
      padding: 0 24px 24px;
      max-height: 5000px;
      overflow: hidden;
      transition: all 0.3s;
    }

    .section.collapsed .section-content {
      max-height: 0;
      padding: 0 24px;
    }

    .financial-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 16px;
      margin-bottom: 24px;
    }

    .financial-card {
      background: #1a2535;
      border: 1px solid #2d3f56;
      border-radius: 10px;
      padding: 20px;
      transition: all 0.2s;
    }

    .financial-card:hover {
      border-color: #3b82f6;
      transform: translateY(-2px);
    }

    .financial-label {
      font-size: 12px;
      color: #94a3b8;
      font-weight: 600;
      margin-bottom: 12px;
      text-transform: uppercase;
    }

    .financial-value {
      font-size: 32px;
      font-weight: 700;
      color: #e8eef6;
      margin-bottom: 8px;
    }

    .financial-subtitle {
      font-size: 13px;
      color: #94a3b8;
    }

    .breakdown-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      margin-top: 20px;
    }

    .breakdown-item {
      display: flex;
      justify-content: space-between;
      padding: 12px 16px;
      background: #1a2535;
      border-radius: 8px;
      border-left: 4px solid #3b82f6;
    }

    .breakdown-label {
      font-size: 13px;
      color: #94a3b8;
      font-weight: 600;
    }

    .breakdown-value {
      font-size: 15px;
      color: #e8eef6;
      font-weight: 700;
    }

    .customer-table-wrapper {
      overflow-x: auto;
      margin-top: 16px;
    }

    .customer-table {
      width: 100%;
      border-collapse: collapse;
    }

    .customer-table thead {
      background: #1a2535;
      border-bottom: 2px solid #2d3f56;
    }

    .customer-table th {
      padding: 12px 16px;
      text-align: left;
      font-size: 11px;
      font-weight: 700;
      color: #94a3b8;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .customer-table tbody tr {
      border-bottom: 1px solid #2d3f56;
      transition: all 0.2s;
    }

    .customer-table tbody tr:hover {
      background: #1a2535;
    }

    .customer-table td {
      padding: 14px 16px;
      font-size: 13px;
      color: #e8eef6;
    }

    .customer-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .customer-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      color: white;
      font-size: 14px;
    }

    .customer-name {
      font-weight: 600;
      color: #e8eef6;
    }

    .tier-badge {
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
    }

    .tier-free { background: #2d3f56; color: #94a3b8; }
    .tier-basic { background: #1e40af; color: #93c5fd; }
    .tier-pro { background: #5b21b6; color: #c4b5fd; }
    .tier-enterprise { background: #78350f; color: #fcd34d; }

    .status-badge {
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
    }

    .status-active { background: #065f46; color: #6ee7b7; }
    .status-trial { background: #1e40af; color: #93c5fd; }
    .status-inactive { background: #7f1d1d; color: #fca5a5; }

    .action-btn {
      padding: 6px 12px;
      border-radius: 6px;
      border: 1px solid #2d3f56;
      background: #1a2535;
      color: #94a3b8;
      font-size: 11px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      margin-right: 4px;
    }

    .action-btn:hover {
      background: #223044;
      border-color: #3b82f6;
      color: #60a5fa;
    }

    .pagination {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 20px;
      gap: 12px;
    }

    .pagination-btn {
      padding: 8px 16px;
      border-radius: 6px;
      border: 1px solid #2d3f56;
      background: #1a2535;
      color: #94a3b8;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .pagination-btn:hover:not(:disabled) {
      background: #223044;
      border-color: #3b82f6;
      color: #60a5fa;
    }

    .pagination-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    @media (max-width: 1200px) {
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .breakdown-grid {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 640px) {
      .stats-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <!-- Header -->
  <div class="header">
    <h1>Admin Dashboard</h1>
    <div class="header-nav">
      <a href="admin-settings.html" class="nav-btn">Settings</a>
      <a href="screen-tracker.html" class="nav-btn">Screen Tracker</a>
      <a href="progress-view-new.html" class="nav-btn secondary">Progress View</a>
    </div>
  </div>

  <!-- Top Stats Grid (Always Visible) -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-label">Total Revenue (MRR)</div>
      <div class="stat-value">$45,280</div>
      <div class="stat-change positive">‚Üë 18.2% from last month</div>
    </div>

    <div class="stat-card">
      <div class="stat-label">Total Costs</div>
      <div class="stat-value">$12,450</div>
      <div class="stat-change positive">‚Üì 3.5% from last month</div>
    </div>

    <div class="stat-card">
      <div class="stat-label">Net Profit</div>
      <div class="stat-value">$32,830</div>
      <div class="stat-change positive">‚Üë 24.1% from last month</div>
    </div>

    <div class="stat-card">
      <div class="stat-label">Profit Margin</div>
      <div class="stat-value">72.5%</div>
      <div class="stat-change positive">‚Üë 4.2% from last month</div>
    </div>

    <div class="stat-card">
      <div class="stat-label">Total Users</div>
      <div class="stat-value">2,847</div>
      <div class="stat-change positive">‚Üë 12.5% from last month</div>
    </div>

    <div class="stat-card">
      <div class="stat-label">Active Subscribers</div>
      <div class="stat-value">1,342</div>
      <div class="stat-change positive">‚Üë 8.7% from last month</div>
    </div>
  </div>

  <!-- Financial Overview Section (Collapsible) -->
  <div class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <div class="section-title">
        <span>üí∞ Financial Overview</span>
      </div>
      <div class="section-toggle">‚ñº</div>
    </div>
    <div class="section-content">
      <div class="financial-grid">
        <div class="financial-card">
          <div class="financial-label">Monthly Recurring Revenue</div>
          <div class="financial-value">$45,280</div>
          <div class="financial-subtitle">From 1,342 active subscriptions</div>
        </div>

        <div class="financial-card">
          <div class="financial-label">Annual Run Rate (ARR)</div>
          <div class="financial-value">$543,360</div>
          <div class="financial-subtitle">Projected annual revenue</div>
        </div>

        <div class="financial-card">
          <div class="financial-label">Average Revenue Per User</div>
          <div class="financial-value">$33.75</div>
          <div class="financial-subtitle">Per active subscriber/month</div>
        </div>

        <div class="financial-card">
          <div class="financial-label">Customer Lifetime Value</div>
          <div class="financial-value">$1,245</div>
          <div class="financial-subtitle">Average LTV per customer</div>
        </div>
      </div>

      <div class="breakdown-grid">
        <div>
          <div class="section-title" style="font-size: 16px; margin-bottom: 12px;">Revenue by Tier</div>
          <div class="breakdown-item" style="border-left-color: #78350f;">
            <span class="breakdown-label">Enterprise ($299/mo)</span>
            <span class="breakdown-value">$20,920</span>
          </div>
          <div class="breakdown-item" style="border-left-color: #5b21b6; margin-top: 8px;">
            <span class="breakdown-label">Pro ($49/mo)</span>
            <span class="breakdown-value">$18,130</span>
          </div>
          <div class="breakdown-item" style="border-left-color: #1e40af; margin-top: 8px;">
            <span class="breakdown-label">Basic ($19/mo)</span>
            <span class="breakdown-value">$6,230</span>
          </div>
        </div>

        <div>
          <div class="section-title" style="font-size: 16px; margin-bottom: 12px;">Monthly Costs</div>
          <div class="breakdown-item" style="border-left-color: #ef4444;">
            <span class="breakdown-label">Server & Hosting</span>
            <span class="breakdown-value">$4,850</span>
          </div>
          <div class="breakdown-item" style="border-left-color: #f59e0b; margin-top: 8px;">
            <span class="breakdown-label">Third-Party Services</span>
            <span class="breakdown-value">$3,200</span>
          </div>
          <div class="breakdown-item" style="border-left-color: #f59e0b; margin-top: 8px;">
            <span class="breakdown-label">Payment Processing</span>
            <span class="breakdown-value">$1,810</span>
          </div>
          <div class="breakdown-item" style="border-left-color: #f59e0b; margin-top: 8px;">
            <span class="breakdown-label">Support & Operations</span>
            <span class="breakdown-value">$2,590</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Cost Breakdown Section (Collapsible) -->
  <div class="section collapsed">
    <div class="section-header" onclick="toggleSection(this)">
      <div class="section-title">
        <span>üí∏ Detailed Cost Breakdown</span>
      </div>
      <div class="section-toggle">‚ñº</div>
    </div>
    <div class="section-content">
      <div class="customer-table-wrapper">
        <table class="customer-table">
          <thead>
            <tr>
              <th>Category</th>
              <th>Service/Item</th>
              <th>Provider</th>
              <th>Monthly Cost</th>
              <th>Annual Cost</th>
              <th>% of Total</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><span class="tier-badge tier-enterprise">Infrastructure</span></td>
              <td>Cloud Hosting (AWS)</td>
              <td>Amazon Web Services</td>
              <td>$3,200</td>
              <td>$38,400</td>
              <td>25.7%</td>
            </tr>
            <tr>
              <td><span class="tier-badge tier-enterprise">Infrastructure</span></td>
              <td>CDN & Storage</td>
              <td>Cloudflare</td>
              <td>$850</td>
              <td>$10,200</td>
              <td>6.8%</td>
            </tr>
            <tr>
              <td><span class="tier-badge tier-enterprise">Infrastructure</span></td>
              <td>Database Hosting</td>
              <td>Supabase Pro</td>
              <td>$800</td>
              <td>$9,600</td>
              <td>6.4%</td>
            </tr>
            <tr>
              <td><span class="tier-badge tier-pro">Services</span></td>
              <td>Email Service</td>
              <td>SendGrid</td>
              <td>$450</td>
              <td>$5,400</td>
              <td>3.6%</td>
            </tr>
            <tr>
              <td><span class="tier-badge tier-pro">Services</span></td>
              <td>Authentication</td>
              <td>Auth0</td>
              <td>$680</td>
              <td>$8,160</td>
              <td>5.5%</td>
            </tr>
            <tr>
              <td><span class="tier-badge tier-pro">Services</span></td>
              <td>Analytics & Monitoring</td>
              <td>DataDog</td>
              <td>$520</td>
              <td>$6,240</td>
              <td>4.2%</td>
            </tr>
            <tr>
              <td><span class="tier-badge tier-pro">Services</span></td>
              <td>Customer Support</td>
              <td>Intercom</td>
              <td>$890</td>
              <td>$10,680</td>
              <td>7.1%</td>
            </tr>
            <tr>
              <td><span class="tier-badge tier-basic">Fees</span></td>
              <td>Payment Processing (Stripe)</td>
              <td>Stripe</td>
              <td>$1,810</td>
              <td>$21,720</td>
              <td>14.5%</td>
            </tr>
            <tr>
              <td><span class="tier-badge tier-basic">Operations</span></td>
              <td>Support Staff (Part-time)</td>
              <td>Contract</td>
              <td>$1,800</td>
              <td>$21,600</td>
              <td>14.5%</td>
            </tr>
          </tbody>
          <tfoot style="border-top: 2px solid #2d3f56; font-weight: 700;">
            <tr>
              <td colspan="3" style="padding: 16px; color: #60a5fa;">TOTAL MONTHLY COSTS</td>
              <td style="padding: 16px; color: #60a5fa;">$12,450</td>
              <td style="padding: 16px; color: #60a5fa;">$149,400</td>
              <td style="padding: 16px; color: #60a5fa;">100%</td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </div>

  <!-- Customer List Section (Collapsible) -->
  <div class="section collapsed">
    <div class="section-header" onclick="toggleSection(this)">
      <div class="section-title">
        <span>üë• Customer List (25 Total)</span>
      </div>
      <div class="section-toggle">‚ñº</div>
    </div>
    <div class="section-content">
      <div style="display: flex; gap: 12px; margin-bottom: 16px;">
        <input type="text" id="customerSearch" placeholder="Search customers..." 
               onkeyup="filterCustomers()"
               style="padding: 8px 12px; border-radius: 6px; border: 1px solid #2d3f56; background: #1a2535; color: #e8eef6; width: 250px;">
        <select id="filterStatus" onchange="filterCustomers()" 
                style="padding: 8px 12px; border-radius: 6px; border: 1px solid #2d3f56; background: #1a2535; color: #e8eef6;">
          <option value="all">All Status</option>
          <option value="active">Active</option>
          <option value="trial">Trial</option>
          <option value="inactive">Inactive</option>
        </select>
        <select id="filterTier" onchange="filterCustomers()"
                style="padding: 8px 12px; border-radius: 6px; border: 1px solid #2d3f56; background: #1a2535; color: #e8eef6;">
          <option value="all">All Tiers</option>
          <option value="free">Free</option>
          <option value="basic">Basic</option>
          <option value="pro">Pro</option>
          <option value="enterprise">Enterprise</option>
        </select>
      </div>

      <div class="customer-table-wrapper">
        <table class="customer-table">
          <thead>
            <tr>
              <th>Customer</th>
              <th>Email</th>
              <th>Subscription</th>
              <th>Status</th>
              <th>Join Date</th>
              <th>Last Login</th>
              <th>Total Orders</th>
              <th>Lifetime Value</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="customerTableBody">
          </tbody>
        </table>
      </div>

      <div class="pagination">
        <button class="pagination-btn" onclick="prevPage()" id="prevBtn">‚Üê Previous</button>
        <span id="pageInfo" style="color: #94a3b8; font-size: 13px;">Page 1 of 3</span>
        <button class="pagination-btn" onclick="nextPage()" id="nextBtn">Next ‚Üí</button>
      </div>
    </div>
  </div>
</div>

<script>
  // Collapsible sections
  function toggleSection(header) {
    const section = header.parentElement;
    section.classList.toggle('collapsed');
  }

  // Customer List Data
  const allCustomers = [
    { id: 1, name: "John Smith", email: "john.smith@example.com", tier: "pro", status: "active", joinDate: "2024-01-15", lastLogin: "2 hours ago", orders: 47, ltv: 4890 },
    { id: 2, name: "Sarah Johnson", email: "sarah.j@company.com", tier: "enterprise", status: "active", joinDate: "2023-11-22", lastLogin: "1 day ago", orders: 142, ltv: 28400 },
    { id: 3, name: "Mike Chen", email: "mchen@startup.io", tier: "basic", status: "active", joinDate: "2024-03-10", lastLogin: "5 hours ago", orders: 23, ltv: 890 },
    { id: 4, name: "Emma Wilson", email: "emma.w@email.com", tier: "pro", status: "trial", joinDate: "2024-12-28", lastLogin: "30 min ago", orders: 3, ltv: 150 },
    { id: 5, name: "David Martinez", email: "d.martinez@corp.com", tier: "enterprise", status: "active", joinDate: "2023-08-05", lastLogin: "3 days ago", orders: 298, ltv: 52300 },
    { id: 6, name: "Lisa Anderson", email: "lisa.a@domain.com", tier: "free", status: "inactive", joinDate: "2024-06-18", lastLogin: "2 weeks ago", orders: 0, ltv: 0 },
    { id: 7, name: "James Taylor", email: "jtaylor@business.net", tier: "pro", status: "active", joinDate: "2024-02-20", lastLogin: "1 hour ago", orders: 68, ltv: 6720 },
    { id: 8, name: "Maria Garcia", email: "maria.g@example.org", tier: "basic", status: "active", joinDate: "2024-04-12", lastLogin: "6 hours ago", orders: 31, ltv: 1240 },
    { id: 9, name: "Robert Lee", email: "robert.lee@firm.com", tier: "enterprise", status: "active", joinDate: "2023-05-30", lastLogin: "4 hours ago", orders: 187, ltv: 38900 },
    { id: 10, name: "Jennifer White", email: "jen.white@mail.com", tier: "pro", status: "trial", joinDate: "2024-12-20", lastLogin: "2 days ago", orders: 5, ltv: 280 }
  ];

  let currentPage = 1;
  const itemsPerPage = 10;
  let filteredCustomers = [...allCustomers];

  function getInitials(name) {
    return name.split(' ').map(n => n[0]).join('').toUpperCase();
  }

  function formatCurrency(amount) {
    return '$' + amount.toLocaleString();
  }

  function renderCustomers() {
    const tbody = document.getElementById('customerTableBody');
    const start = (currentPage - 1) * itemsPerPage;
    const end = start + itemsPerPage;
    const pageCustomers = filteredCustomers.slice(start, end);

    tbody.innerHTML = pageCustomers.map(customer => `
      <tr>
        <td>
          <div class="customer-info">
            <div class="customer-avatar">${getInitials(customer.name)}</div>
            <div class="customer-name">${customer.name}</div>
          </div>
        </td>
        <td>${customer.email}</td>
        <td><span class="tier-badge tier-${customer.tier}">${customer.tier}</span></td>
        <td><span class="status-badge status-${customer.status}">${customer.status}</span></td>
        <td>${customer.joinDate}</td>
        <td>${customer.lastLogin}</td>
        <td>${customer.orders}</td>
        <td>${formatCurrency(customer.ltv)}</td>
        <td>
          <button class="action-btn" onclick="viewCustomer(${customer.id})">View</button>
          <button class="action-btn" onclick="editCustomer(${customer.id})">Edit</button>
        </td>
      </tr>
    `).join('');

    updatePagination();
  }

  function updatePagination() {
    const totalPages = Math.ceil(filteredCustomers.length / itemsPerPage);
    document.getElementById('pageInfo').textContent = `Page ${currentPage} of ${totalPages}`;
    document.getElementById('prevBtn').disabled = currentPage === 1;
    document.getElementById('nextBtn').disabled = currentPage === totalPages;
  }

  function nextPage() {
    const totalPages = Math.ceil(filteredCustomers.length / itemsPerPage);
    if (currentPage < totalPages) {
      currentPage++;
      renderCustomers();
    }
  }

  function prevPage() {
    if (currentPage > 1) {
      currentPage--;
      renderCustomers();
    }
  }

  function filterCustomers() {
    const search = document.getElementById('customerSearch').value.toLowerCase();
    const statusFilter = document.getElementById('filterStatus').value;
    const tierFilter = document.getElementById('filterTier').value;

    filteredCustomers = allCustomers.filter(customer => {
      const matchesSearch = customer.name.toLowerCase().includes(search) || 
                           customer.email.toLowerCase().includes(search);
      const matchesStatus = statusFilter === 'all' || customer.status === statusFilter;
      const matchesTier = tierFilter === 'all' || customer.tier === tierFilter;
      return matchesSearch && matchesStatus && matchesTier;
    });

    currentPage = 1;
    renderCustomers();
  }

  function viewCustomer(id) {
    const customer = allCustomers.find(c => c.id === id);
    alert(`Viewing ${customer.name}\n\nEmail: ${customer.email}\nTier: ${customer.tier}\nStatus: ${customer.status}\nJoin Date: ${customer.joinDate}\nLast Login: ${customer.lastLogin}\nTotal Orders: ${customer.orders}\nLifetime Value: ${formatCurrency(customer.ltv)}`);
  }

  function editCustomer(id) {
    alert(`Edit customer #${id} - Feature coming soon!`);
  }

  renderCustomers();
</script>

</body>
</html>
