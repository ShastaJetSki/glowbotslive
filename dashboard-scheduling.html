<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Concept 1: Tech Lanes</title>
  <style>
    /* ===== THEME SYSTEM ===== */
    :root {
      --bg-primary: #0b0f14; --bg-secondary: #0f1621; --bg-card: #1a2535; --bg-hover: #223044;
      --border-default: #223044; --text-primary: #e8eef6; --text-secondary: #9fb0c3;
      --accent-primary: #3b82f6; --accent-light: #60a5fa;
    }
    [data-theme="dark-blue"] {
      --bg-primary: #0b0f14; --bg-secondary: #0f1621; --bg-card: #1a2535; --bg-hover: #223044;
      --border-default: #223044; --text-primary: #e8eef6; --text-secondary: #9fb0c3;
      --accent-primary: #3b82f6; --accent-light: #60a5fa;
    }
    [data-theme="grey"] {
      --bg-primary: #111111; --bg-secondary: #1a1a1a; --bg-card: #242424; --bg-hover: #2e2e2e;
      --border-default: #333333; --text-primary: #e5e5e5; --text-secondary: #a3a3a3;
      --accent-primary: #525252; --accent-light: #737373;
    }
    [data-theme="slate"] {
      --bg-primary: #0f172a; --bg-secondary: #1e293b; --bg-card: #273549; --bg-hover: #334155;
      --border-default: #334155; --text-primary: #f1f5f9; --text-secondary: #94a3b8;
      --accent-primary: #6366f1; --accent-light: #818cf8;
    }
    [data-theme="charcoal"] {
      --bg-primary: #121214; --bg-secondary: #18181b; --bg-card: #27272a; --bg-hover: #3f3f46;
      --border-default: #3f3f46; --text-primary: #fafafa; --text-secondary: #a1a1aa;
      --accent-primary: #a1a1aa; --accent-light: #d4d4d8;
    }
    [data-theme="midnight"] {
      --bg-primary: #09090b; --bg-secondary: #0f0f12; --bg-card: #18181d; --bg-hover: #222228;
      --border-default: #27272f; --text-primary: #eeeef0; --text-secondary: #9898a4;
      --accent-primary: #8b5cf6; --accent-light: #a78bfa;
    }
    [data-theme="navy"] {
      --bg-primary: #0a0e1a; --bg-secondary: #0f1526; --bg-card: #182035; --bg-hover: #1f2a45;
      --border-default: #253352; --text-primary: #e8ecf4; --text-secondary: #9aa5bd;
      --accent-primary: #4a7cc9; --accent-light: #6b9ae0;
    }
    [data-theme="graphite"] {
      --bg-primary: #0d0d0d; --bg-secondary: #141414; --bg-card: #1f1f1f; --bg-hover: #292929;
      --border-default: #2e2e2e; --text-primary: #e8e8e8; --text-secondary: #999999;
      --accent-primary: #4a9eff; --accent-light: #6bb3ff;
    }
    [data-theme="ocean"] {
      --bg-primary: #0a1214; --bg-secondary: #0e181c; --bg-card: #152228; --bg-hover: #1c2d35;
      --border-default: #243842; --text-primary: #e5f0f3; --text-secondary: #8faab5;
      --accent-primary: #14b8a6; --accent-light: #2dd4bf;
    }
    [data-theme="forest"] {
      --bg-primary: #0a100c; --bg-secondary: #0f1812; --bg-card: #16221a; --bg-hover: #1e2e24;
      --border-default: #263830; --text-primary: #e5f0e8; --text-secondary: #8faa96;
      --accent-primary: #22c55e; --accent-light: #4ade80;
    }
    [data-theme="obsidian"] {
      --bg-primary: #050505; --bg-secondary: #0a0a0a; --bg-card: #141414; --bg-hover: #1c1c1c;
      --border-default: #252525; --text-primary: #e0e0e0; --text-secondary: #888888;
      --accent-primary: #0ea5e9; --accent-light: #38bdf8;
    }
    [data-theme="steel"] {
      --bg-primary: #0c0f13; --bg-secondary: #12161c; --bg-card: #1a2028; --bg-hover: #242c38;
      --border-default: #2c3644; --text-primary: #e4e8ed; --text-secondary: #8b95a5;
      --accent-primary: #64748b; --accent-light: #94a3b8;
    }
    [data-theme="espresso"] {
      --bg-primary: #0f0c0a; --bg-secondary: #161210; --bg-card: #211c18; --bg-hover: #2c2520;
      --border-default: #382f28; --text-primary: #f0ebe5; --text-secondary: #a89e94;
      --accent-primary: #a78b6e; --accent-light: #c4a88a;
    }
    [data-theme="onyx"] {
      --bg-primary: #000000; --bg-secondary: #080808; --bg-card: #121212; --bg-hover: #1a1a1a;
      --border-default: #222222; --text-primary: #f5f5f5; --text-secondary: #8c8c8c;
      --accent-primary: #06b6d4; --accent-light: #22d3ee;
    }

    /* Status Colors */
    --success: #22c55e;
    --warning: #eab308;
    --danger: #ef4444;

    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    html, body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      overflow-x: hidden;
      -webkit-tap-highlight-color: transparent;
      -webkit-font-smoothing: antialiased;
    }

    body {
      padding-bottom: 200px;
    }

    /* ===== HEADER ===== */
    .header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--bg-secondary);
      border-bottom: 1px solid var(--border-default);
    }

    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 16px;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .menu-btn {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      border: 1px solid var(--border-default);
      background: var(--bg-card);
      color: var(--text-secondary);
      font-size: 18px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .header-title {
      font-size: 20px;
      font-weight: 700;
      letter-spacing: -0.3px;
    }

    .header-actions {
      display: flex;
      gap: 8px;
    }

    .icon-btn {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      border: 1px solid var(--border-default);
      background: var(--bg-card);
      color: var(--text-secondary);
      font-size: 16px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .icon-btn:active {
      background: var(--bg-hover);
    }

    /* Date Navigation */
    .date-nav-bar {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px 16px;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }

    .date-nav-bar::-webkit-scrollbar { display: none; }

    .date-chip {
      flex-shrink: 0;
      padding: 10px 14px;
      border-radius: 12px;
      background: var(--bg-card);
      border: 1px solid var(--border-default);
      color: var(--text-secondary);
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 56px;
    }

    .date-chip.active {
      background: var(--accent-primary);
      border-color: var(--accent-primary);
      color: white;
    }

    .date-chip .day-name {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      opacity: 0.8;
    }

    .date-chip .day-num {
      font-size: 18px;
      font-weight: 700;
      margin-top: 2px;
    }

    /* ===== VIEW & FILTER ROW ===== */
    .controls-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 16px;
      gap: 12px;
      border-bottom: 1px solid var(--border-default);
    }

    .view-toggle {
      display: flex;
      gap: 4px;
      background: var(--bg-card);
      padding: 4px;
      border-radius: 10px;
    }

    .view-btn {
      padding: 8px 14px;
      border-radius: 8px;
      border: none;
      background: transparent;
      color: var(--text-secondary);
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
    }

    .view-btn.active {
      background: var(--accent-primary);
      color: white;
    }

    .filter-pills {
      display: flex;
      gap: 6px;
      overflow-x: auto;
      flex: 1;
      padding-right: 8px;
    }

    .filter-pills::-webkit-scrollbar { display: none; }

    .filter-pill {
      flex-shrink: 0;
      padding: 8px 12px;
      border-radius: 8px;
      border: 1px solid var(--border-default);
      background: var(--bg-card);
      color: var(--text-secondary);
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .filter-pill.active {
      background: color-mix(in srgb, var(--accent-primary) 20%, transparent);
      border-color: var(--accent-primary);
      color: var(--accent-light);
    }

    .filter-pill .count {
      background: var(--bg-hover);
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 10px;
    }

    /* ===== TECH LANES ===== */
    .lanes-container {
      padding: 16px 0;
    }

    .tech-lane {
      margin-bottom: 20px;
    }

    .lane-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px;
      margin-bottom: 12px;
    }

    .lane-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .tech-avatar {
      width: 44px;
      height: 44px;
      border-radius: 12px;
      background: var(--accent-primary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 15px;
      font-weight: 700;
      color: white;
    }

    .tech-avatar.green { background: #22c55e; }
    .tech-avatar.orange { background: #f97316; }
    .tech-avatar.purple { background: #8b5cf6; }

    .tech-details h3 {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 2px;
    }

    .tech-details span {
      font-size: 13px;
      color: var(--text-secondary);
    }

    .lane-stats {
      display: flex;
      gap: 16px;
    }

    .stat-item {
      text-align: center;
    }

    .stat-value {
      font-size: 18px;
      font-weight: 700;
    }

    .stat-label {
      font-size: 10px;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Lane Cards Scroll */
    .lane-cards {
      display: flex;
      gap: 12px;
      overflow-x: auto;
      padding: 0 16px 8px;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }

    .lane-cards::-webkit-scrollbar { display: none; }

    /* ===== WORK ORDER CARD ===== */
    .wo-card {
      flex-shrink: 0;
      width: 280px;
      background: var(--bg-card);
      border-radius: 14px;
      border: 1px solid var(--border-default);
      padding: 14px;
      scroll-snap-align: start;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      position: relative;
    }

    .wo-card:active {
      transform: scale(0.98);
    }

    .wo-card.dragging {
      opacity: 0.5;
      transform: scale(0.95);
    }

    .wo-card::before {
      content: '';
      position: absolute;
      left: 0;
      top: 10px;
      bottom: 10px;
      width: 4px;
      border-radius: 0 4px 4px 0;
      background: var(--accent-primary);
    }

    .wo-card.status-in_progress::before { background: var(--accent-primary); }
    .wo-card.status-waiting::before { background: #eab308; }
    .wo-card.status-completed::before { background: #22c55e; }
    .wo-card.status-urgent::before { background: #ef4444; }

    .card-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .time-badge {
      background: var(--bg-hover);
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 600;
    }

    .status-badge {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 10px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }

    .status-badge.in_progress {
      background: color-mix(in srgb, var(--accent-primary) 20%, transparent);
      color: var(--accent-light);
    }

    .status-badge.waiting {
      background: rgba(234, 179, 8, 0.15);
      color: #eab308;
    }

    .status-badge.completed {
      background: rgba(34, 197, 94, 0.15);
      color: #22c55e;
    }

    .status-badge.urgent {
      background: rgba(239, 68, 68, 0.15);
      color: #ef4444;
    }

    .card-customer {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 4px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .card-vehicle {
      font-size: 13px;
      color: var(--text-secondary);
      margin-bottom: 10px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .card-services {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 12px;
    }

    .service-tag {
      padding: 4px 8px;
      border-radius: 4px;
      background: var(--bg-hover);
      font-size: 11px;
      font-weight: 500;
      color: var(--text-secondary);
    }

    .card-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 10px;
      border-top: 1px solid var(--border-default);
    }

    .wo-number {
      font-size: 12px;
      color: var(--accent-light);
      font-weight: 600;
    }

    .card-amount {
      font-size: 15px;
      font-weight: 700;
    }

    /* Add Card */
    .add-card {
      flex-shrink: 0;
      width: 120px;
      min-height: 160px;
      background: var(--bg-secondary);
      border-radius: 14px;
      border: 2px dashed var(--border-default);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 8px;
      cursor: pointer;
    }

    .add-card:active {
      background: var(--bg-hover);
      border-color: var(--accent-primary);
    }

    .add-card-icon {
      width: 36px;
      height: 36px;
      border-radius: 10px;
      background: var(--bg-hover);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: var(--text-secondary);
    }

    .add-card span {
      font-size: 12px;
      color: var(--text-secondary);
      font-weight: 500;
    }

    /* Drop Zone Active */
    .lane-cards.drop-active {
      background: color-mix(in srgb, var(--accent-primary) 10%, transparent);
      border-radius: 12px;
    }

    /* ===== MOBILE ACTION BUTTONS ===== */
    .mobile-action-buttons {
      position: fixed;
      bottom: 102px;
      left: 0;
      right: 0;
      background: var(--bg-secondary);
      padding: 8px 8px 0 8px;
      z-index: 101;
      border-top: 1px solid var(--border-default);
    }

    .mobile-action-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 6px;
      margin-bottom: 6px;
    }

    .mobile-action-btn {
      padding: 10px 8px;
      border-radius: 8px;
      background: color-mix(in srgb, var(--accent-primary) 10%, transparent);
      border: 1px solid color-mix(in srgb, var(--accent-primary) 30%, transparent);
      color: var(--accent-light);
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      white-space: nowrap;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 44px;
    }

    .mobile-action-btn:active {
      transform: scale(0.95);
    }

    .mobile-action-btn.active {
      background: color-mix(in srgb, var(--accent-primary) 60%, transparent);
      border-color: var(--accent-primary);
      color: var(--text-primary);
    }

    /* ===== MOBILE BOTTOM NAV ===== */
    .mobile-bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: var(--bg-secondary);
      padding: 8px;
      padding-bottom: max(8px, env(safe-area-inset-bottom));
      z-index: 100;
      border-top: 1px solid var(--border-default);
    }

    .mobile-nav-top {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 6px;
      margin-bottom: 6px;
    }

    .mobile-nav-secondary {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 6px;
    }

    .mobile-nav-btn {
      padding: 10px 8px;
      border-radius: 8px;
      border: 1px solid var(--border-default);
      background: var(--bg-card);
      color: var(--text-secondary);
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 44px;
    }

    .mobile-nav-btn.active {
      background: color-mix(in srgb, var(--accent-primary) 60%, transparent);
      border-color: var(--accent-primary);
      color: var(--text-primary);
    }

    .mobile-nav-btn.related {
      background: color-mix(in srgb, var(--accent-primary) 10%, transparent);
      border-color: color-mix(in srgb, var(--accent-primary) 30%, transparent);
      color: var(--text-primary);
    }

    /* Fallback for browsers without color-mix */
    @supports not (background: color-mix(in srgb, red 50%, blue)) {
      .mobile-nav-btn.active,
      .mobile-action-btn.active {
        background: var(--accent-primary);
        opacity: 0.7;
      }
      .mobile-nav-btn.related,
      .mobile-action-btn {
        background: var(--bg-hover);
        border-color: var(--accent-primary);
      }
    }

    /* Toast */
    .toast {
      position: fixed;
      bottom: 220px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--bg-card);
      border: 1px solid var(--border-default);
      color: var(--text-primary);
      padding: 12px 20px;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 500;
      z-index: 1000;
      display: none;
    }

    .toast.show {
      display: block;
      animation: toastIn 0.3s ease;
    }

    @keyframes toastIn {
      from { opacity: 0; transform: translateX(-50%) translateY(20px); }
      to { opacity: 1; transform: translateX(-50%) translateY(0); }
    }
  </style>
</head>
<body>

<!-- Header -->
<header class="header">
  <div class="header-top">
    <div class="header-left">
      <button class="menu-btn">‚ò∞</button>
      <h1 class="header-title">Tech Lanes</h1>
    </div>
    <div class="header-actions">
      <button class="icon-btn">üîç</button>
      <button class="icon-btn" onclick="cycleTheme()">üé®</button>
    </div>
  </div>
  
  <div class="date-nav-bar" id="dateNav"></div>
</header>

<!-- Controls Row -->
<div class="controls-row">
  <div class="view-toggle">
    <button class="view-btn active" data-view="day">Day</button>
    <button class="view-btn" data-view="week">Week</button>
    <button class="view-btn" data-view="30d">30D</button>
  </div>
  <div class="filter-pills">
    <button class="filter-pill active">All <span class="count">12</span></button>
    <button class="filter-pill">Active <span class="count">5</span></button>
    <button class="filter-pill">Waiting <span class="count">3</span></button>
  </div>
</div>

<!-- Tech Lanes -->
<div class="lanes-container" id="lanesContainer">
  <!-- Tech Lane 1: Mike -->
  <div class="tech-lane" data-tech="mike">
    <div class="lane-header">
      <div class="lane-info">
        <div class="tech-avatar">MR</div>
        <div class="tech-details">
          <h3>Mike Rodriguez</h3>
          <span>Master Tech ‚Ä¢ Bay 1</span>
        </div>
      </div>
      <div class="lane-stats">
        <div class="stat-item">
          <div class="stat-value">5</div>
          <div class="stat-label">Jobs</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">7.5h</div>
          <div class="stat-label">Booked</div>
        </div>
      </div>
    </div>
    
    <div class="lane-cards" data-tech="mike">
      <div class="wo-card status-in_progress" draggable="true" data-wo="WO-2847">
        <div class="card-top">
          <span class="time-badge">8:00 AM</span>
          <span class="status-badge in_progress">Active</span>
        </div>
        <div class="card-customer">James Wilson</div>
        <div class="card-vehicle">2022 Ford F-150 Lightning</div>
        <div class="card-services">
          <span class="service-tag">Brake Service</span>
          <span class="service-tag">Rotation</span>
        </div>
        <div class="card-footer">
          <span class="wo-number">WO-2847</span>
          <span class="card-amount">$485</span>
        </div>
      </div>

      <div class="wo-card status-waiting" draggable="true" data-wo="WO-2851">
        <div class="card-top">
          <span class="time-badge">10:30 AM</span>
          <span class="status-badge waiting">Parts</span>
        </div>
        <div class="card-customer">Sarah Chen</div>
        <div class="card-vehicle">2023 Tesla Model Y</div>
        <div class="card-services">
          <span class="service-tag">Suspension</span>
        </div>
        <div class="card-footer">
          <span class="wo-number">WO-2851</span>
          <span class="card-amount">$890</span>
        </div>
      </div>

      <div class="wo-card" draggable="true" data-wo="WO-2856">
        <div class="card-top">
          <span class="time-badge">1:00 PM</span>
        </div>
        <div class="card-customer">Robert Martinez</div>
        <div class="card-vehicle">2021 Chevy Silverado</div>
        <div class="card-services">
          <span class="service-tag">Oil Change</span>
          <span class="service-tag">Filter</span>
        </div>
        <div class="card-footer">
          <span class="wo-number">WO-2856</span>
          <span class="card-amount">$245</span>
        </div>
      </div>

      <div class="wo-card" draggable="true" data-wo="WO-2860">
        <div class="card-top">
          <span class="time-badge">3:30 PM</span>
        </div>
        <div class="card-customer">Emily Thompson</div>
        <div class="card-vehicle">2024 Honda CR-V</div>
        <div class="card-services">
          <span class="service-tag">AC Service</span>
        </div>
        <div class="card-footer">
          <span class="wo-number">WO-2860</span>
          <span class="card-amount">$320</span>
        </div>
      </div>

      <div class="add-card">
        <div class="add-card-icon">+</div>
        <span>Add Job</span>
      </div>
    </div>
  </div>

  <!-- Tech Lane 2: Tom -->
  <div class="tech-lane" data-tech="tom">
    <div class="lane-header">
      <div class="lane-info">
        <div class="tech-avatar green">TJ</div>
        <div class="tech-details">
          <h3>Tom Jackson</h3>
          <span>Senior Tech ‚Ä¢ Bay 2</span>
        </div>
      </div>
      <div class="lane-stats">
        <div class="stat-item">
          <div class="stat-value">4</div>
          <div class="stat-label">Jobs</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">6h</div>
          <div class="stat-label">Booked</div>
        </div>
      </div>
    </div>
    
    <div class="lane-cards" data-tech="tom">
      <div class="wo-card status-completed" draggable="true" data-wo="WO-2845">
        <div class="card-top">
          <span class="time-badge">8:00 AM</span>
          <span class="status-badge completed">Done</span>
        </div>
        <div class="card-customer">David Kim</div>
        <div class="card-vehicle">2023 BMW X5</div>
        <div class="card-services">
          <span class="service-tag">Inspection</span>
        </div>
        <div class="card-footer">
          <span class="wo-number">WO-2845</span>
          <span class="card-amount">$125</span>
        </div>
      </div>

      <div class="wo-card status-in_progress" draggable="true" data-wo="WO-2849">
        <div class="card-top">
          <span class="time-badge">9:30 AM</span>
          <span class="status-badge in_progress">Active</span>
        </div>
        <div class="card-customer">Maria Garcia</div>
        <div class="card-vehicle">2020 Toyota Camry</div>
        <div class="card-services">
          <span class="service-tag">Transmission</span>
          <span class="service-tag">Diagnostic</span>
        </div>
        <div class="card-footer">
          <span class="wo-number">WO-2849</span>
          <span class="card-amount">$1,250</span>
        </div>
      </div>

      <div class="wo-card status-urgent" draggable="true" data-wo="WO-2862">
        <div class="card-top">
          <span class="time-badge">2:00 PM</span>
          <span class="status-badge urgent">Urgent</span>
        </div>
        <div class="card-customer">Kevin O'Brien</div>
        <div class="card-vehicle">2019 Jeep Wrangler</div>
        <div class="card-services">
          <span class="service-tag">Engine Light</span>
        </div>
        <div class="card-footer">
          <span class="wo-number">WO-2862</span>
          <span class="card-amount">TBD</span>
        </div>
      </div>

      <div class="add-card">
        <div class="add-card-icon">+</div>
        <span>Add Job</span>
      </div>
    </div>
  </div>

  <!-- Tech Lane 3: Alex -->
  <div class="tech-lane" data-tech="alex">
    <div class="lane-header">
      <div class="lane-info">
        <div class="tech-avatar orange">AL</div>
        <div class="tech-details">
          <h3>Alex Lee</h3>
          <span>Technician ‚Ä¢ Bay 3</span>
        </div>
      </div>
      <div class="lane-stats">
        <div class="stat-item">
          <div class="stat-value">3</div>
          <div class="stat-label">Jobs</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">4.5h</div>
          <div class="stat-label">Booked</div>
        </div>
      </div>
    </div>
    
    <div class="lane-cards" data-tech="alex">
      <div class="wo-card status-completed" draggable="true" data-wo="WO-2844">
        <div class="card-top">
          <span class="time-badge">8:30 AM</span>
          <span class="status-badge completed">Done</span>
        </div>
        <div class="card-customer">Lisa Brown</div>
        <div class="card-vehicle">2022 Mazda CX-5</div>
        <div class="card-services">
          <span class="service-tag">Oil Change</span>
          <span class="service-tag">Filter</span>
        </div>
        <div class="card-footer">
          <span class="wo-number">WO-2844</span>
          <span class="card-amount">$185</span>
        </div>
      </div>

      <div class="wo-card status-in_progress" draggable="true" data-wo="WO-2853">
        <div class="card-top">
          <span class="time-badge">11:00 AM</span>
          <span class="status-badge in_progress">Active</span>
        </div>
        <div class="card-customer">Chris Taylor</div>
        <div class="card-vehicle">2021 Audi Q7</div>
        <div class="card-services">
          <span class="service-tag">Wheel Alignment</span>
        </div>
        <div class="card-footer">
          <span class="wo-number">WO-2853</span>
          <span class="card-amount">$395</span>
        </div>
      </div>

      <div class="wo-card" draggable="true" data-wo="WO-2858">
        <div class="card-top">
          <span class="time-badge">2:30 PM</span>
        </div>
        <div class="card-customer">Amanda White</div>
        <div class="card-vehicle">2023 Hyundai Tucson</div>
        <div class="card-services">
          <span class="service-tag">Recall Service</span>
        </div>
        <div class="card-footer">
          <span class="wo-number">WO-2858</span>
          <span class="card-amount">$0</span>
        </div>
      </div>

      <div class="add-card">
        <div class="add-card-icon">+</div>
        <span>Add Job</span>
      </div>
    </div>
  </div>

  <!-- Unassigned Lane -->
  <div class="tech-lane" data-tech="unassigned">
    <div class="lane-header">
      <div class="lane-info">
        <div class="tech-avatar purple">?</div>
        <div class="tech-details">
          <h3>Unassigned</h3>
          <span>Drag to assign tech</span>
        </div>
      </div>
      <div class="lane-stats">
        <div class="stat-item">
          <div class="stat-value">2</div>
          <div class="stat-label">Jobs</div>
        </div>
      </div>
    </div>
    
    <div class="lane-cards" data-tech="unassigned">
      <div class="wo-card" draggable="true" data-wo="WO-2864">
        <div class="card-top">
          <span class="time-badge">TBD</span>
        </div>
        <div class="card-customer">Michael Chang</div>
        <div class="card-vehicle">2024 Kia Telluride</div>
        <div class="card-services">
          <span class="service-tag">First Service</span>
        </div>
        <div class="card-footer">
          <span class="wo-number">WO-2864</span>
          <span class="card-amount">$220</span>
        </div>
      </div>

      <div class="wo-card status-waiting" draggable="true" data-wo="WO-2865">
        <div class="card-top">
          <span class="time-badge">TBD</span>
          <span class="status-badge waiting">Parts</span>
        </div>
        <div class="card-customer">Jennifer Lopez</div>
        <div class="card-vehicle">2022 Lexus RX</div>
        <div class="card-services">
          <span class="service-tag">Brake Inspection</span>
        </div>
        <div class="card-footer">
          <span class="wo-number">WO-2865</span>
          <span class="card-amount">Est. $400</span>
        </div>
      </div>

      <div class="add-card">
        <div class="add-card-icon">+</div>
        <span>Add Job</span>
      </div>
    </div>
  </div>
</div>

<!-- Mobile Action Buttons -->
<div class="mobile-action-buttons">
  <div class="mobile-action-grid">
    <button class="mobile-action-btn">+ Work Order</button>
    <button class="mobile-action-btn active">Scheduler</button>
    <button class="mobile-action-btn">+ Appointment</button>
  </div>
</div>

<!-- Mobile Bottom Nav -->
<nav class="mobile-bottom-nav">
  <div class="mobile-nav-top">
    <a href="#" class="mobile-nav-btn related">Business</a>
    <a href="#" class="mobile-nav-btn">Search</a>
  </div>
  <div class="mobile-nav-secondary">
    <a href="#" class="mobile-nav-btn related">Service</a>
    <a href="#" class="mobile-nav-btn related">Parts</a>
    <a href="#" class="mobile-nav-btn related">Sales</a>
  </div>
</nav>

<!-- Toast -->
<div class="toast" id="toast"></div>

<script>
// Theme System
const themes = ['dark-blue', 'grey', 'slate', 'charcoal', 'midnight', 'navy', 'graphite', 'ocean', 'forest', 'obsidian', 'steel', 'espresso', 'onyx'];
let currentThemeIndex = 0;

function loadTheme() {
  const savedTheme = localStorage.getItem('app-theme') || 'dark-blue';
  document.documentElement.setAttribute('data-theme', savedTheme);
  currentThemeIndex = themes.indexOf(savedTheme);
}

function cycleTheme() {
  currentThemeIndex = (currentThemeIndex + 1) % themes.length;
  const newTheme = themes[currentThemeIndex];
  document.documentElement.setAttribute('data-theme', newTheme);
  localStorage.setItem('app-theme', newTheme);
  showToast(`Theme: ${newTheme}`);
}

loadTheme();

// Generate date nav
function generateDateNav() {
  const nav = document.getElementById('dateNav');
  const today = new Date();
  const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
  
  let html = '';
  for (let i = -2; i < 7; i++) {
    const date = new Date(today);
    date.setDate(date.getDate() + i);
    const isToday = i === 0;
    
    html += `
      <div class="date-chip ${isToday ? 'active' : ''}" data-date="${date.toISOString()}">
        <span class="day-name">${days[date.getDay()]}</span>
        <span class="day-num">${date.getDate()}</span>
      </div>
    `;
  }
  nav.innerHTML = html;

  nav.querySelectorAll('.date-chip').forEach(chip => {
    chip.addEventListener('click', () => {
      nav.querySelectorAll('.date-chip').forEach(c => c.classList.remove('active'));
      chip.classList.add('active');
    });
  });
}

generateDateNav();

// View toggle
document.querySelectorAll('.view-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    showToast(`${btn.dataset.view.toUpperCase()} view`);
  });
});

// Filter pills
document.querySelectorAll('.filter-pill').forEach(pill => {
  pill.addEventListener('click', () => {
    document.querySelectorAll('.filter-pill').forEach(p => p.classList.remove('active'));
    pill.classList.add('active');
  });
});

// Drag and Drop
let draggedCard = null;

document.querySelectorAll('.wo-card[draggable="true"]').forEach(card => {
  card.addEventListener('dragstart', (e) => {
    draggedCard = card;
    card.classList.add('dragging');
  });

  card.addEventListener('dragend', () => {
    card.classList.remove('dragging');
    document.querySelectorAll('.lane-cards').forEach(lane => lane.classList.remove('drop-active'));
    draggedCard = null;
  });
});

document.querySelectorAll('.lane-cards').forEach(lane => {
  lane.addEventListener('dragover', (e) => {
    e.preventDefault();
    lane.classList.add('drop-active');
  });

  lane.addEventListener('dragleave', () => {
    lane.classList.remove('drop-active');
  });

  lane.addEventListener('drop', (e) => {
    e.preventDefault();
    lane.classList.remove('drop-active');
    
    if (draggedCard) {
      const addCard = lane.querySelector('.add-card');
      if (addCard) {
        lane.insertBefore(draggedCard, addCard);
      } else {
        lane.appendChild(draggedCard);
      }
      showToast(`Moved to ${lane.dataset.tech}`);
    }
  });
});

// Touch drag for mobile
document.querySelectorAll('.wo-card').forEach(card => {
  let longPressTimer;
  let isDragging = false;
  let ghost = null;
  let startPos = { x: 0, y: 0 };

  card.addEventListener('touchstart', (e) => {
    startPos = { x: e.touches[0].clientX, y: e.touches[0].clientY };
    
    longPressTimer = setTimeout(() => {
      isDragging = true;
      card.classList.add('dragging');
      navigator.vibrate && navigator.vibrate(50);
      
      ghost = card.cloneNode(true);
      ghost.style.cssText = `
        position: fixed;
        pointer-events: none;
        z-index: 1000;
        width: ${card.offsetWidth}px;
        opacity: 0.9;
        transform: rotate(2deg);
        box-shadow: 0 8px 32px rgba(0,0,0,0.3);
      `;
      document.body.appendChild(ghost);
    }, 300);
  });

  card.addEventListener('touchmove', (e) => {
    if (!isDragging) {
      if (Math.abs(e.touches[0].clientY - startPos.y) > 10) {
        clearTimeout(longPressTimer);
      }
      return;
    }
    
    e.preventDefault();
    const touch = e.touches[0];
    
    if (ghost) {
      ghost.style.left = (touch.clientX - 140) + 'px';
      ghost.style.top = (touch.clientY - 80) + 'px';
    }

    document.querySelectorAll('.lane-cards').forEach(lane => {
      const rect = lane.getBoundingClientRect();
      if (touch.clientY >= rect.top && touch.clientY <= rect.bottom) {
        lane.classList.add('drop-active');
      } else {
        lane.classList.remove('drop-active');
      }
    });
  });

  card.addEventListener('touchend', () => {
    clearTimeout(longPressTimer);
    
    if (isDragging) {
      const activeLane = document.querySelector('.lane-cards.drop-active');
      if (activeLane) {
        const addCard = activeLane.querySelector('.add-card');
        if (addCard) {
          activeLane.insertBefore(card, addCard);
        } else {
          activeLane.appendChild(card);
        }
        showToast(`Moved to ${activeLane.dataset.tech}`);
      }
      
      card.classList.remove('dragging');
      if (ghost) ghost.remove();
      ghost = null;
      isDragging = false;
    }
    
    document.querySelectorAll('.lane-cards').forEach(lane => lane.classList.remove('drop-active'));
  });
});

// Toast
function showToast(message) {
  const toast = document.getElementById('toast');
  toast.textContent = message;
  toast.classList.add('show');
  setTimeout(() => toast.classList.remove('show'), 2000);
}
</script>

</body>
</html>
