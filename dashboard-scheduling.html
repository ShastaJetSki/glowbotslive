<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Concept 3: Calendar Grid</title>
  <style>
    /* ===== THEME SYSTEM ===== */
    :root {
      --bg-primary: #0b0f14; --bg-secondary: #0f1621; --bg-card: #1a2535; --bg-hover: #223044;
      --border-default: #223044; --text-primary: #e8eef6; --text-secondary: #9fb0c3;
      --accent-primary: #3b82f6; --accent-light: #60a5fa;
    }
    [data-theme="dark-blue"] {
      --bg-primary: #0b0f14; --bg-secondary: #0f1621; --bg-card: #1a2535; --bg-hover: #223044;
      --border-default: #223044; --text-primary: #e8eef6; --text-secondary: #9fb0c3;
      --accent-primary: #3b82f6; --accent-light: #60a5fa;
    }
    [data-theme="grey"] {
      --bg-primary: #111111; --bg-secondary: #1a1a1a; --bg-card: #242424; --bg-hover: #2e2e2e;
      --border-default: #333333; --text-primary: #e5e5e5; --text-secondary: #a3a3a3;
      --accent-primary: #525252; --accent-light: #737373;
    }
    [data-theme="slate"] {
      --bg-primary: #0f172a; --bg-secondary: #1e293b; --bg-card: #273549; --bg-hover: #334155;
      --border-default: #334155; --text-primary: #f1f5f9; --text-secondary: #94a3b8;
      --accent-primary: #6366f1; --accent-light: #818cf8;
    }
    [data-theme="charcoal"] {
      --bg-primary: #121214; --bg-secondary: #18181b; --bg-card: #27272a; --bg-hover: #3f3f46;
      --border-default: #3f3f46; --text-primary: #fafafa; --text-secondary: #a1a1aa;
      --accent-primary: #a1a1aa; --accent-light: #d4d4d8;
    }
    [data-theme="midnight"] {
      --bg-primary: #09090b; --bg-secondary: #0f0f12; --bg-card: #18181d; --bg-hover: #222228;
      --border-default: #27272f; --text-primary: #eeeef0; --text-secondary: #9898a4;
      --accent-primary: #8b5cf6; --accent-light: #a78bfa;
    }
    [data-theme="navy"] {
      --bg-primary: #0a0e1a; --bg-secondary: #0f1526; --bg-card: #182035; --bg-hover: #1f2a45;
      --border-default: #253352; --text-primary: #e8ecf4; --text-secondary: #9aa5bd;
      --accent-primary: #4a7cc9; --accent-light: #6b9ae0;
    }
    [data-theme="graphite"] {
      --bg-primary: #0d0d0d; --bg-secondary: #141414; --bg-card: #1f1f1f; --bg-hover: #292929;
      --border-default: #2e2e2e; --text-primary: #e8e8e8; --text-secondary: #999999;
      --accent-primary: #4a9eff; --accent-light: #6bb3ff;
    }
    [data-theme="ocean"] {
      --bg-primary: #0a1214; --bg-secondary: #0e181c; --bg-card: #152228; --bg-hover: #1c2d35;
      --border-default: #243842; --text-primary: #e5f0f3; --text-secondary: #8faab5;
      --accent-primary: #14b8a6; --accent-light: #2dd4bf;
    }
    [data-theme="forest"] {
      --bg-primary: #0a100c; --bg-secondary: #0f1812; --bg-card: #16221a; --bg-hover: #1e2e24;
      --border-default: #263830; --text-primary: #e5f0e8; --text-secondary: #8faa96;
      --accent-primary: #22c55e; --accent-light: #4ade80;
    }
    [data-theme="obsidian"] {
      --bg-primary: #050505; --bg-secondary: #0a0a0a; --bg-card: #141414; --bg-hover: #1c1c1c;
      --border-default: #252525; --text-primary: #e0e0e0; --text-secondary: #888888;
      --accent-primary: #0ea5e9; --accent-light: #38bdf8;
    }
    [data-theme="steel"] {
      --bg-primary: #0c0f13; --bg-secondary: #12161c; --bg-card: #1a2028; --bg-hover: #242c38;
      --border-default: #2c3644; --text-primary: #e4e8ed; --text-secondary: #8b95a5;
      --accent-primary: #64748b; --accent-light: #94a3b8;
    }
    [data-theme="espresso"] {
      --bg-primary: #0f0c0a; --bg-secondary: #161210; --bg-card: #211c18; --bg-hover: #2c2520;
      --border-default: #382f28; --text-primary: #f0ebe5; --text-secondary: #a89e94;
      --accent-primary: #a78b6e; --accent-light: #c4a88a;
    }
    [data-theme="onyx"] {
      --bg-primary: #000000; --bg-secondary: #080808; --bg-card: #121212; --bg-hover: #1a1a1a;
      --border-default: #222222; --text-primary: #f5f5f5; --text-secondary: #8c8c8c;
      --accent-primary: #06b6d4; --accent-light: #22d3ee;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    html, body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      -webkit-tap-highlight-color: transparent;
    }

    body { padding-bottom: 200px; }

    /* ===== HEADER ===== */
    .header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--bg-secondary);
      border-bottom: 1px solid var(--border-default);
    }

    .header-main {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 16px;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .menu-btn, .icon-btn {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      border: 1px solid var(--border-default);
      background: var(--bg-card);
      color: var(--text-secondary);
      font-size: 18px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .header-title {
      font-size: 20px;
      font-weight: 700;
    }

    .header-actions {
      display: flex;
      gap: 8px;
    }

    /* Date Row */
    .date-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      border-bottom: 1px solid var(--border-default);
    }

    .date-picker {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .date-arrow {
      width: 36px;
      height: 36px;
      border-radius: 8px;
      border: 1px solid var(--border-default);
      background: var(--bg-card);
      color: var(--text-secondary);
      cursor: pointer;
      font-size: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .date-display {
      text-align: center;
      min-width: 120px;
    }

    .date-primary {
      font-size: 18px;
      font-weight: 700;
    }

    .date-secondary {
      font-size: 12px;
      color: var(--text-secondary);
      margin-top: 2px;
    }

    .view-switcher {
      display: flex;
      gap: 4px;
      background: var(--bg-card);
      padding: 4px;
      border-radius: 10px;
    }

    .view-btn {
      padding: 8px 12px;
      border-radius: 8px;
      border: none;
      background: transparent;
      color: var(--text-secondary);
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
    }

    .view-btn.active {
      background: var(--accent-primary);
      color: white;
    }

    /* ===== FILTER PILLS ===== */
    .filter-row {
      display: flex;
      gap: 8px;
      padding: 12px 16px;
      overflow-x: auto;
      border-bottom: 1px solid var(--border-default);
    }

    .filter-row::-webkit-scrollbar { display: none; }

    .filter-pill {
      flex-shrink: 0;
      padding: 8px 14px;
      border-radius: 20px;
      border: 1px solid var(--border-default);
      background: var(--bg-card);
      color: var(--text-secondary);
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .filter-pill.active {
      background: var(--accent-primary);
      border-color: var(--accent-primary);
      color: white;
    }

    .filter-pill .count {
      padding: 2px 6px;
      border-radius: 10px;
      background: rgba(255,255,255,0.2);
      font-size: 10px;
    }

    .filter-pill:not(.active) .count {
      background: var(--bg-hover);
    }

    /* ===== DAY VIEW - 3 COLUMNS ===== */
    .day-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1px;
      background: var(--border-default);
    }

    .day-grid:not(.active) { display: none; }
    .day-grid.active { display: grid; }

    .time-column {
      background: var(--bg-primary);
      min-height: calc(100vh - 280px);
    }

    .column-header {
      position: sticky;
      top: 130px;
      background: var(--bg-secondary);
      padding: 10px 8px;
      text-align: center;
      border-bottom: 1px solid var(--border-default);
      z-index: 10;
    }

    .column-time {
      font-size: 13px;
      font-weight: 700;
    }

    .column-slots {
      font-size: 10px;
      color: var(--text-secondary);
      margin-top: 2px;
    }

    .column-body {
      padding: 8px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    /* ===== COMPACT WORK ORDER CARD ===== */
    .wo-card {
      background: var(--bg-card);
      border-radius: 10px;
      padding: 10px;
      border: 1px solid var(--border-default);
      cursor: pointer;
      position: relative;
    }

    .wo-card:active {
      transform: scale(0.98);
    }

    .wo-card.dragging {
      opacity: 0.5;
    }

    .wo-card::before {
      content: '';
      position: absolute;
      left: 0;
      top: 8px;
      bottom: 8px;
      width: 3px;
      border-radius: 0 3px 3px 0;
      background: var(--accent-primary);
    }

    .wo-card.status-in_progress::before { background: var(--accent-primary); }
    .wo-card.status-waiting::before { background: #eab308; }
    .wo-card.status-completed::before { background: #22c55e; }
    .wo-card.status-urgent::before { background: #ef4444; }

    .card-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }

    .card-time {
      font-size: 10px;
      font-weight: 600;
      color: var(--text-secondary);
      background: var(--bg-hover);
      padding: 2px 6px;
      border-radius: 4px;
    }

    .card-status {
      font-size: 8px;
      font-weight: 700;
      text-transform: uppercase;
      padding: 2px 5px;
      border-radius: 3px;
    }

    .card-status.in_progress {
      background: color-mix(in srgb, var(--accent-primary) 20%, transparent);
      color: var(--accent-light);
    }
    .card-status.waiting {
      background: rgba(234, 179, 8, 0.15);
      color: #eab308;
    }
    .card-status.completed {
      background: rgba(34, 197, 94, 0.15);
      color: #22c55e;
    }
    .card-status.urgent {
      background: rgba(239, 68, 68, 0.15);
      color: #ef4444;
    }

    .card-customer {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 2px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .card-vehicle {
      font-size: 10px;
      color: var(--text-secondary);
      margin-bottom: 8px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .card-tech {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .tech-dot {
      width: 18px;
      height: 18px;
      border-radius: 4px;
      background: var(--accent-primary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 8px;
      font-weight: 700;
      color: white;
    }

    .tech-dot.green { background: #22c55e; }
    .tech-dot.orange { background: #f97316; }

    .tech-name {
      font-size: 10px;
      color: var(--text-secondary);
    }

    .card-amount {
      font-size: 12px;
      font-weight: 700;
      margin-left: auto;
    }

    /* Column drop active */
    .time-column.drop-active {
      background: color-mix(in srgb, var(--accent-primary) 10%, transparent);
    }

    /* ===== WEEK VIEW ===== */
    .week-view {
      display: none;
      padding: 12px;
    }

    .week-view.active { display: block; }

    .week-header {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 4px;
      margin-bottom: 8px;
    }

    .week-day-label {
      text-align: center;
      font-size: 10px;
      font-weight: 600;
      color: var(--text-secondary);
      text-transform: uppercase;
      padding: 6px;
    }

    .week-day-label.today { color: var(--accent-light); }

    .week-body {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 4px;
    }

    .week-cell {
      background: var(--bg-card);
      border-radius: 10px;
      padding: 8px;
      min-height: 100px;
      border: 1px solid var(--border-default);
    }

    .week-cell.today {
      border-color: var(--accent-primary);
      background: color-mix(in srgb, var(--accent-primary) 10%, transparent);
    }

    .cell-date {
      font-size: 13px;
      font-weight: 700;
      margin-bottom: 6px;
      text-align: center;
    }

    .cell-jobs {
      display: flex;
      flex-direction: column;
      gap: 3px;
    }

    .mini-job {
      background: var(--bg-hover);
      border-radius: 4px;
      padding: 4px 6px;
      font-size: 9px;
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      border-left: 2px solid var(--accent-primary);
    }

    .mini-job.waiting { border-left-color: #eab308; }
    .mini-job.completed { border-left-color: #22c55e; }
    .mini-job.urgent { border-left-color: #ef4444; }

    .cell-more {
      font-size: 9px;
      color: var(--accent-light);
      font-weight: 600;
      text-align: center;
      margin-top: 4px;
    }

    /* ===== MONTH VIEW (30D) ===== */
    .month-view {
      display: none;
      padding: 12px;
    }

    .month-view.active { display: block; }

    .month-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .month-title {
      font-size: 16px;
      font-weight: 700;
    }

    .month-arrows {
      display: flex;
      gap: 6px;
    }

    .month-arrow {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      border: 1px solid var(--border-default);
      background: var(--bg-card);
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-secondary);
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 4px;
    }

    .cal-header {
      text-align: center;
      font-size: 10px;
      font-weight: 600;
      color: var(--text-secondary);
      text-transform: uppercase;
      padding: 6px;
    }

    .cal-cell {
      aspect-ratio: 1;
      background: var(--bg-card);
      border-radius: 8px;
      border: 1px solid var(--border-default);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      position: relative;
    }

    .cal-cell:active { background: var(--bg-hover); }

    .cal-cell.today {
      border-color: var(--accent-primary);
      background: color-mix(in srgb, var(--accent-primary) 15%, transparent);
    }

    .cal-cell.other { opacity: 0.3; }

    .cal-cell .day-num {
      font-size: 13px;
      font-weight: 600;
    }

    .cal-cell .job-dots {
      display: flex;
      gap: 2px;
      margin-top: 3px;
    }

    .job-dot {
      width: 5px;
      height: 5px;
      border-radius: 50%;
      background: var(--accent-primary);
    }

    .job-dot.warning { background: #eab308; }
    .job-dot.danger { background: #ef4444; }

    .cal-cell .job-count {
      position: absolute;
      bottom: 3px;
      font-size: 8px;
      font-weight: 600;
      color: var(--text-secondary);
    }

    /* ===== MOBILE ACTION BUTTONS ===== */
    .mobile-action-buttons {
      position: fixed;
      bottom: 102px;
      left: 0;
      right: 0;
      background: var(--bg-secondary);
      padding: 8px 8px 0 8px;
      z-index: 101;
      border-top: 1px solid var(--border-default);
    }

    .mobile-action-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 6px;
      margin-bottom: 6px;
    }

    .mobile-action-btn {
      padding: 10px 8px;
      border-radius: 8px;
      background: color-mix(in srgb, var(--accent-primary) 10%, transparent);
      border: 1px solid color-mix(in srgb, var(--accent-primary) 30%, transparent);
      color: var(--accent-light);
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      min-height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .mobile-action-btn.active {
      background: color-mix(in srgb, var(--accent-primary) 60%, transparent);
      border-color: var(--accent-primary);
      color: var(--text-primary);
    }

    /* ===== MOBILE BOTTOM NAV ===== */
    .mobile-bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: var(--bg-secondary);
      padding: 8px;
      padding-bottom: max(8px, env(safe-area-inset-bottom));
      z-index: 100;
      border-top: 1px solid var(--border-default);
    }

    .mobile-nav-top {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 6px;
      margin-bottom: 6px;
    }

    .mobile-nav-secondary {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 6px;
    }

    .mobile-nav-btn {
      padding: 10px 8px;
      border-radius: 8px;
      border: 1px solid var(--border-default);
      background: var(--bg-card);
      color: var(--text-secondary);
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 44px;
    }

    .mobile-nav-btn.active {
      background: color-mix(in srgb, var(--accent-primary) 60%, transparent);
      border-color: var(--accent-primary);
      color: var(--text-primary);
    }

    .mobile-nav-btn.related {
      background: color-mix(in srgb, var(--accent-primary) 10%, transparent);
      border-color: color-mix(in srgb, var(--accent-primary) 30%, transparent);
      color: var(--text-primary);
    }

    @supports not (background: color-mix(in srgb, red 50%, blue)) {
      .mobile-nav-btn.active, .mobile-action-btn.active {
        background: var(--accent-primary);
        opacity: 0.7;
      }
      .mobile-nav-btn.related, .mobile-action-btn {
        background: var(--bg-hover);
      }
      .cal-cell.today, .week-cell.today {
        background: var(--bg-hover);
      }
    }

    .toast {
      position: fixed;
      bottom: 220px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--bg-card);
      border: 1px solid var(--border-default);
      color: var(--text-primary);
      padding: 12px 20px;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 500;
      z-index: 1000;
      display: none;
    }

    .toast.show {
      display: block;
      animation: toastIn 0.3s ease;
    }

    @keyframes toastIn {
      from { opacity: 0; transform: translateX(-50%) translateY(20px); }
      to { opacity: 1; transform: translateX(-50%) translateY(0); }
    }
  </style>
</head>
<body>

<!-- Header -->
<header class="header">
  <div class="header-main">
    <div class="header-left">
      <button class="menu-btn">‚ò∞</button>
      <h1 class="header-title">Calendar</h1>
    </div>
    <div class="header-actions">
      <button class="icon-btn">üîç</button>
      <button class="icon-btn" onclick="cycleTheme()">üé®</button>
    </div>
  </div>
  
  <div class="date-row">
    <div class="date-picker">
      <button class="date-arrow" onclick="changeDate(-1)">‚Üê</button>
      <div class="date-display">
        <div class="date-primary" id="datePrimary">Today</div>
        <div class="date-secondary" id="dateSecondary">Fri, Jan 10</div>
      </div>
      <button class="date-arrow" onclick="changeDate(1)">‚Üí</button>
    </div>
    
    <div class="view-switcher">
      <button class="view-btn active" onclick="switchView('day')">Day</button>
      <button class="view-btn" onclick="switchView('week')">Week</button>
      <button class="view-btn" onclick="switchView('month')">30D</button>
    </div>
  </div>
</header>

<!-- Filter Pills -->
<div class="filter-row">
  <button class="filter-pill active">All Techs <span class="count">12</span></button>
  <button class="filter-pill">Mike R <span class="count">5</span></button>
  <button class="filter-pill">Tom J <span class="count">4</span></button>
  <button class="filter-pill">Alex L <span class="count">3</span></button>
</div>

<!-- DAY VIEW -->
<div class="day-grid active" id="dayView">
  <!-- Morning Column -->
  <div class="time-column" data-slot="morning">
    <div class="column-header">
      <div class="column-time">Morning</div>
      <div class="column-slots">8am - 12pm</div>
    </div>
    <div class="column-body">
      <div class="wo-card status-in_progress" draggable="true">
        <div class="card-top">
          <span class="card-time">8:00</span>
          <span class="card-status in_progress">Active</span>
        </div>
        <div class="card-customer">James Wilson</div>
        <div class="card-vehicle">2022 Ford F-150</div>
        <div class="card-tech">
          <div class="tech-dot">MR</div>
          <span class="tech-name">Mike R</span>
          <span class="card-amount">$485</span>
        </div>
      </div>

      <div class="wo-card status-completed" draggable="true">
        <div class="card-top">
          <span class="card-time">8:00</span>
          <span class="card-status completed">Done</span>
        </div>
        <div class="card-customer">David Kim</div>
        <div class="card-vehicle">2023 BMW X5</div>
        <div class="card-tech">
          <div class="tech-dot green">TJ</div>
          <span class="tech-name">Tom J</span>
          <span class="card-amount">$125</span>
        </div>
      </div>

      <div class="wo-card status-completed" draggable="true">
        <div class="card-top">
          <span class="card-time">8:30</span>
          <span class="card-status completed">Done</span>
        </div>
        <div class="card-customer">Lisa Brown</div>
        <div class="card-vehicle">2022 Mazda CX-5</div>
        <div class="card-tech">
          <div class="tech-dot orange">AL</div>
          <span class="tech-name">Alex L</span>
          <span class="card-amount">$185</span>
        </div>
      </div>

      <div class="wo-card status-in_progress" draggable="true">
        <div class="card-top">
          <span class="card-time">9:30</span>
          <span class="card-status in_progress">Active</span>
        </div>
        <div class="card-customer">Maria Garcia</div>
        <div class="card-vehicle">2020 Toyota Camry</div>
        <div class="card-tech">
          <div class="tech-dot green">TJ</div>
          <span class="tech-name">Tom J</span>
          <span class="card-amount">$1,250</span>
        </div>
      </div>

      <div class="wo-card status-waiting" draggable="true">
        <div class="card-top">
          <span class="card-time">10:30</span>
          <span class="card-status waiting">Parts</span>
        </div>
        <div class="card-customer">Sarah Chen</div>
        <div class="card-vehicle">2023 Tesla Model Y</div>
        <div class="card-tech">
          <div class="tech-dot">MR</div>
          <span class="tech-name">Mike R</span>
          <span class="card-amount">$890</span>
        </div>
      </div>

      <div class="wo-card status-in_progress" draggable="true">
        <div class="card-top">
          <span class="card-time">11:00</span>
          <span class="card-status in_progress">Active</span>
        </div>
        <div class="card-customer">Chris Taylor</div>
        <div class="card-vehicle">2021 Audi Q7</div>
        <div class="card-tech">
          <div class="tech-dot orange">AL</div>
          <span class="tech-name">Alex L</span>
          <span class="card-amount">$395</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Midday Column -->
  <div class="time-column" data-slot="midday">
    <div class="column-header">
      <div class="column-time">Midday</div>
      <div class="column-slots">12pm - 3pm</div>
    </div>
    <div class="column-body">
      <div class="wo-card" draggable="true">
        <div class="card-top">
          <span class="card-time">1:00</span>
        </div>
        <div class="card-customer">Robert Martinez</div>
        <div class="card-vehicle">2021 Chevy Silverado</div>
        <div class="card-tech">
          <div class="tech-dot">MR</div>
          <span class="tech-name">Mike R</span>
          <span class="card-amount">$245</span>
        </div>
      </div>

      <div class="wo-card status-urgent" draggable="true">
        <div class="card-top">
          <span class="card-time">2:00</span>
          <span class="card-status urgent">Urgent</span>
        </div>
        <div class="card-customer">Kevin O'Brien</div>
        <div class="card-vehicle">2019 Jeep Wrangler</div>
        <div class="card-tech">
          <div class="tech-dot green">TJ</div>
          <span class="tech-name">Tom J</span>
          <span class="card-amount">TBD</span>
        </div>
      </div>

      <div class="wo-card" draggable="true">
        <div class="card-top">
          <span class="card-time">2:30</span>
        </div>
        <div class="card-customer">Amanda White</div>
        <div class="card-vehicle">2023 Hyundai Tucson</div>
        <div class="card-tech">
          <div class="tech-dot orange">AL</div>
          <span class="tech-name">Alex L</span>
          <span class="card-amount">$0</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Afternoon Column -->
  <div class="time-column" data-slot="afternoon">
    <div class="column-header">
      <div class="column-time">Afternoon</div>
      <div class="column-slots">3pm - 6pm</div>
    </div>
    <div class="column-body">
      <div class="wo-card" draggable="true">
        <div class="card-top">
          <span class="card-time">3:30</span>
        </div>
        <div class="card-customer">Emily Thompson</div>
        <div class="card-vehicle">2024 Honda CR-V</div>
        <div class="card-tech">
          <div class="tech-dot">MR</div>
          <span class="tech-name">Mike R</span>
          <span class="card-amount">$320</span>
        </div>
      </div>

      <div class="wo-card" draggable="true">
        <div class="card-top">
          <span class="card-time">4:00</span>
        </div>
        <div class="card-customer">Michael Chang</div>
        <div class="card-vehicle">2024 Kia Telluride</div>
        <div class="card-tech">
          <div class="tech-dot green">TJ</div>
          <span class="tech-name">Tom J</span>
          <span class="card-amount">$220</span>
        </div>
      </div>

      <div class="wo-card status-waiting" draggable="true">
        <div class="card-top">
          <span class="card-time">5:00</span>
          <span class="card-status waiting">Parts</span>
        </div>
        <div class="card-customer">Jennifer Lopez</div>
        <div class="card-vehicle">2022 Lexus RX</div>
        <div class="card-tech">
          <div class="tech-dot orange">AL</div>
          <span class="tech-name">Alex L</span>
          <span class="card-amount">$400</span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- WEEK VIEW -->
<div class="week-view" id="weekView">
  <div class="week-header">
    <div class="week-day-label">Sun</div>
    <div class="week-day-label">Mon</div>
    <div class="week-day-label">Tue</div>
    <div class="week-day-label">Wed</div>
    <div class="week-day-label">Thu</div>
    <div class="week-day-label today">Fri</div>
    <div class="week-day-label">Sat</div>
  </div>
  <div class="week-body">
    <div class="week-cell"><div class="cell-date">5</div></div>
    <div class="week-cell">
      <div class="cell-date">6</div>
      <div class="cell-jobs">
        <div class="mini-job">Wilson - Brakes</div>
        <div class="mini-job completed">Kim - Insp</div>
        <div class="mini-job waiting">Chen - Susp</div>
      </div>
      <div class="cell-more">+5 more</div>
    </div>
    <div class="week-cell">
      <div class="cell-date">7</div>
      <div class="cell-jobs">
        <div class="mini-job">Garcia - Trans</div>
        <div class="mini-job">Brown - Oil</div>
      </div>
      <div class="cell-more">+3 more</div>
    </div>
    <div class="week-cell">
      <div class="cell-date">8</div>
      <div class="cell-jobs">
        <div class="mini-job urgent">O'Brien - Engine</div>
        <div class="mini-job">Martinez - Oil</div>
      </div>
      <div class="cell-more">+4 more</div>
    </div>
    <div class="week-cell">
      <div class="cell-date">9</div>
      <div class="cell-jobs">
        <div class="mini-job">Taylor - Align</div>
        <div class="mini-job">Thompson - AC</div>
      </div>
      <div class="cell-more">+2 more</div>
    </div>
    <div class="week-cell today">
      <div class="cell-date">10</div>
      <div class="cell-jobs">
        <div class="mini-job">Wilson - Brakes</div>
        <div class="mini-job waiting">Chen - Susp</div>
        <div class="mini-job urgent">O'Brien - Eng</div>
      </div>
      <div class="cell-more">+9 more</div>
    </div>
    <div class="week-cell"><div class="cell-date">11</div></div>
  </div>
</div>

<!-- MONTH VIEW -->
<div class="month-view" id="monthView">
  <div class="month-nav">
    <h2 class="month-title">January 2026</h2>
    <div class="month-arrows">
      <button class="month-arrow">‚Üê</button>
      <button class="month-arrow">‚Üí</button>
    </div>
  </div>
  
  <div class="calendar-grid">
    <div class="cal-header">S</div>
    <div class="cal-header">M</div>
    <div class="cal-header">T</div>
    <div class="cal-header">W</div>
    <div class="cal-header">T</div>
    <div class="cal-header">F</div>
    <div class="cal-header">S</div>
    
    <div class="cal-cell other"><span class="day-num">28</span></div>
    <div class="cal-cell other"><span class="day-num">29</span></div>
    <div class="cal-cell other"><span class="day-num">30</span></div>
    <div class="cal-cell other"><span class="day-num">31</span></div>
    <div class="cal-cell"><span class="day-num">1</span><div class="job-dots"><div class="job-dot"></div><div class="job-dot"></div></div></div>
    <div class="cal-cell"><span class="day-num">2</span><div class="job-dots"><div class="job-dot"></div><div class="job-dot warning"></div></div></div>
    <div class="cal-cell"><span class="day-num">3</span></div>
    
    <div class="cal-cell"><span class="day-num">4</span></div>
    <div class="cal-cell"><span class="day-num">5</span><div class="job-dots"><div class="job-dot"></div></div></div>
    <div class="cal-cell"><span class="day-num">6</span><div class="job-dots"><div class="job-dot"></div><div class="job-dot"></div><div class="job-dot warning"></div></div><span class="job-count">8</span></div>
    <div class="cal-cell"><span class="day-num">7</span><div class="job-dots"><div class="job-dot"></div><div class="job-dot"></div></div><span class="job-count">5</span></div>
    <div class="cal-cell"><span class="day-num">8</span><div class="job-dots"><div class="job-dot danger"></div><div class="job-dot"></div></div><span class="job-count">6</span></div>
    <div class="cal-cell"><span class="day-num">9</span><div class="job-dots"><div class="job-dot"></div><div class="job-dot"></div></div><span class="job-count">4</span></div>
    <div class="cal-cell today"><span class="day-num">10</span><div class="job-dots"><div class="job-dot"></div><div class="job-dot warning"></div><div class="job-dot danger"></div></div><span class="job-count">12</span></div>
    
    <div class="cal-cell"><span class="day-num">11</span></div>
    <div class="cal-cell"><span class="day-num">12</span><div class="job-dots"><div class="job-dot"></div></div></div>
    <div class="cal-cell"><span class="day-num">13</span><div class="job-dots"><div class="job-dot"></div></div></div>
    <div class="cal-cell"><span class="day-num">14</span><div class="job-dots"><div class="job-dot"></div><div class="job-dot"></div></div></div>
    <div class="cal-cell"><span class="day-num">15</span><div class="job-dots"><div class="job-dot warning"></div></div></div>
    <div class="cal-cell"><span class="day-num">16</span><div class="job-dots"><div class="job-dot"></div></div></div>
    <div class="cal-cell"><span class="day-num">17</span></div>
    
    <div class="cal-cell"><span class="day-num">18</span></div>
    <div class="cal-cell"><span class="day-num">19</span><div class="job-dots"><div class="job-dot"></div></div></div>
    <div class="cal-cell"><span class="day-num">20</span><div class="job-dots"><div class="job-dot"></div><div class="job-dot"></div></div></div>
    <div class="cal-cell"><span class="day-num">21</span><div class="job-dots"><div class="job-dot"></div></div></div>
    <div class="cal-cell"><span class="day-num">22</span><div class="job-dots"><div class="job-dot"></div></div></div>
    <div class="cal-cell"><span class="day-num">23</span><div class="job-dots"><div class="job-dot"></div><div class="job-dot"></div></div></div>
    <div class="cal-cell"><span class="day-num">24</span></div>
    
    <div class="cal-cell"><span class="day-num">25</span></div>
    <div class="cal-cell"><span class="day-num">26</span><div class="job-dots"><div class="job-dot"></div></div></div>
    <div class="cal-cell"><span class="day-num">27</span><div class="job-dots"><div class="job-dot"></div><div class="job-dot"></div></div></div>
    <div class="cal-cell"><span class="day-num">28</span><div class="job-dots"><div class="job-dot"></div></div></div>
    <div class="cal-cell"><span class="day-num">29</span><div class="job-dots"><div class="job-dot warning"></div></div></div>
    <div class="cal-cell"><span class="day-num">30</span><div class="job-dots"><div class="job-dot"></div><div class="job-dot"></div></div></div>
    <div class="cal-cell"><span class="day-num">31</span></div>
  </div>
</div>

<!-- Mobile Action Buttons -->
<div class="mobile-action-buttons">
  <div class="mobile-action-grid">
    <button class="mobile-action-btn">+ Work Order</button>
    <button class="mobile-action-btn active">Scheduler</button>
    <button class="mobile-action-btn">+ Appointment</button>
  </div>
</div>

<!-- Mobile Bottom Nav -->
<nav class="mobile-bottom-nav">
  <div class="mobile-nav-top">
    <a href="#" class="mobile-nav-btn related">Business</a>
    <a href="#" class="mobile-nav-btn">Search</a>
  </div>
  <div class="mobile-nav-secondary">
    <a href="#" class="mobile-nav-btn related">Service</a>
    <a href="#" class="mobile-nav-btn related">Parts</a>
    <a href="#" class="mobile-nav-btn related">Sales</a>
  </div>
</nav>

<div class="toast" id="toast"></div>

<script>
// Theme System
const themes = ['dark-blue', 'grey', 'slate', 'charcoal', 'midnight', 'navy', 'graphite', 'ocean', 'forest', 'obsidian', 'steel', 'espresso', 'onyx'];
let currentThemeIndex = 0;

function loadTheme() {
  const savedTheme = localStorage.getItem('app-theme') || 'dark-blue';
  document.documentElement.setAttribute('data-theme', savedTheme);
  currentThemeIndex = themes.indexOf(savedTheme);
}

function cycleTheme() {
  currentThemeIndex = (currentThemeIndex + 1) % themes.length;
  const newTheme = themes[currentThemeIndex];
  document.documentElement.setAttribute('data-theme', newTheme);
  localStorage.setItem('app-theme', newTheme);
  showToast(`Theme: ${newTheme}`);
}

loadTheme();

// View Switching
function switchView(view) {
  document.querySelectorAll('.view-btn').forEach(btn => btn.classList.remove('active'));
  document.querySelector(`.view-btn[onclick="switchView('${view}')"]`).classList.add('active');
  
  document.getElementById('dayView').classList.remove('active');
  document.getElementById('weekView').classList.remove('active');
  document.getElementById('monthView').classList.remove('active');
  
  if (view === 'day') document.getElementById('dayView').classList.add('active');
  else if (view === 'week') document.getElementById('weekView').classList.add('active');
  else document.getElementById('monthView').classList.add('active');
  
  showToast(`${view.charAt(0).toUpperCase() + view.slice(1)} view`);
}

// Date Navigation
let currentDate = new Date();

function updateDateDisplay() {
  const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
  const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
  
  const today = new Date();
  today.setHours(0,0,0,0);
  const current = new Date(currentDate);
  current.setHours(0,0,0,0);
  
  const diff = Math.floor((current - today) / (1000 * 60 * 60 * 24));
  
  let primaryText = '';
  if (diff === 0) primaryText = 'Today';
  else if (diff === 1) primaryText = 'Tomorrow';
  else if (diff === -1) primaryText = 'Yesterday';
  else primaryText = `${months[currentDate.getMonth()]} ${currentDate.getDate()}`;
  
  document.getElementById('datePrimary').textContent = primaryText;
  document.getElementById('dateSecondary').textContent = `${days[currentDate.getDay()]}, ${months[currentDate.getMonth()]} ${currentDate.getDate()}`;
}

function changeDate(delta) {
  currentDate.setDate(currentDate.getDate() + delta);
  updateDateDisplay();
}

updateDateDisplay();

// Filter pills
document.querySelectorAll('.filter-pill').forEach(pill => {
  pill.addEventListener('click', () => {
    document.querySelectorAll('.filter-pill').forEach(p => p.classList.remove('active'));
    pill.classList.add('active');
  });
});

// Drag and drop
document.querySelectorAll('.wo-card').forEach(card => {
  card.addEventListener('dragstart', () => card.classList.add('dragging'));
  card.addEventListener('dragend', () => {
    card.classList.remove('dragging');
    document.querySelectorAll('.time-column').forEach(col => col.classList.remove('drop-active'));
  });
});

document.querySelectorAll('.time-column').forEach(col => {
  col.addEventListener('dragover', (e) => {
    e.preventDefault();
    col.classList.add('drop-active');
  });
  col.addEventListener('dragleave', () => col.classList.remove('drop-active'));
  col.addEventListener('drop', (e) => {
    e.preventDefault();
    col.classList.remove('drop-active');
    const dragging = document.querySelector('.wo-card.dragging');
    if (dragging) {
      col.querySelector('.column-body').appendChild(dragging);
      showToast(`Moved to ${col.dataset.slot}`);
    }
  });
});

// Calendar cell clicks
document.querySelectorAll('.cal-cell:not(.other)').forEach(cell => {
  cell.addEventListener('click', () => {
    const day = cell.querySelector('.day-num')?.textContent;
    if (day) {
      currentDate = new Date(2026, 0, parseInt(day));
      updateDateDisplay();
      switchView('day');
    }
  });
});

// Week cell clicks
document.querySelectorAll('.week-cell').forEach(cell => {
  cell.addEventListener('click', () => {
    const day = cell.querySelector('.cell-date')?.textContent;
    if (day) {
      currentDate = new Date(2026, 0, parseInt(day));
      updateDateDisplay();
      switchView('day');
    }
  });
});

// Toast
function showToast(message) {
  const toast = document.getElementById('toast');
  toast.textContent = message;
  toast.classList.add('show');
  setTimeout(() => toast.classList.remove('show'), 2000);
}
</script>

</body>
</html>
