<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Concept 1: Tech Lanes</title>
  <style>
    /* ===== THEME SYSTEM ===== */
    :root {
      --bg-primary: #0b0f14; --bg-secondary: #0f1621; --bg-card: #1a2535; --bg-hover: #223044;
      --border-default: #223044; --text-primary: #e8eef6; --text-secondary: #9fb0c3;
      --accent-primary: #3b82f6; --accent-light: #60a5fa;
    }
    [data-theme="dark-blue"] {
      --bg-primary: #0b0f14; --bg-secondary: #0f1621; --bg-card: #1a2535; --bg-hover: #223044;
      --border-default: #223044; --text-primary: #e8eef6; --text-secondary: #9fb0c3;
      --accent-primary: #3b82f6; --accent-light: #60a5fa;
    }
    [data-theme="grey"] {
      --bg-primary: #111111; --bg-secondary: #1a1a1a; --bg-card: #242424; --bg-hover: #2e2e2e;
      --border-default: #333333; --text-primary: #e5e5e5; --text-secondary: #a3a3a3;
      --accent-primary: #525252; --accent-light: #737373;
    }
    [data-theme="slate"] {
      --bg-primary: #0f172a; --bg-secondary: #1e293b; --bg-card: #273549; --bg-hover: #334155;
      --border-default: #334155; --text-primary: #f1f5f9; --text-secondary: #94a3b8;
      --accent-primary: #6366f1; --accent-light: #818cf8;
    }
    [data-theme="charcoal"] {
      --bg-primary: #121214; --bg-secondary: #18181b; --bg-card: #27272a; --bg-hover: #3f3f46;
      --border-default: #3f3f46; --text-primary: #fafafa; --text-secondary: #a1a1aa;
      --accent-primary: #a1a1aa; --accent-light: #d4d4d8;
    }
    [data-theme="midnight"] {
      --bg-primary: #09090b; --bg-secondary: #0f0f12; --bg-card: #18181d; --bg-hover: #222228;
      --border-default: #27272f; --text-primary: #eeeef0; --text-secondary: #9898a4;
      --accent-primary: #8b5cf6; --accent-light: #a78bfa;
    }
    [data-theme="navy"] {
      --bg-primary: #0a0e1a; --bg-secondary: #0f1526; --bg-card: #182035; --bg-hover: #1f2a45;
      --border-default: #253352; --text-primary: #e8ecf4; --text-secondary: #9aa5bd;
      --accent-primary: #4a7cc9; --accent-light: #6b9ae0;
    }
    [data-theme="graphite"] {
      --bg-primary: #0d0d0d; --bg-secondary: #141414; --bg-card: #1f1f1f; --bg-hover: #292929;
      --border-default: #2e2e2e; --text-primary: #e8e8e8; --text-secondary: #999999;
      --accent-primary: #4a9eff; --accent-light: #6bb3ff;
    }
    [data-theme="ocean"] {
      --bg-primary: #0a1214; --bg-secondary: #0e181c; --bg-card: #152228; --bg-hover: #1c2d35;
      --border-default: #243842; --text-primary: #e5f0f3; --text-secondary: #8faab5;
      --accent-primary: #14b8a6; --accent-light: #2dd4bf;
    }
    [data-theme="forest"] {
      --bg-primary: #0a100c; --bg-secondary: #0f1812; --bg-card: #16221a; --bg-hover: #1e2e24;
      --border-default: #263830; --text-primary: #e5f0e8; --text-secondary: #8faa96;
      --accent-primary: #22c55e; --accent-light: #4ade80;
    }
    [data-theme="obsidian"] {
      --bg-primary: #050505; --bg-secondary: #0a0a0a; --bg-card: #141414; --bg-hover: #1c1c1c;
      --border-default: #252525; --text-primary: #e0e0e0; --text-secondary: #888888;
      --accent-primary: #0ea5e9; --accent-light: #38bdf8;
    }
    [data-theme="steel"] {
      --bg-primary: #0c0f13; --bg-secondary: #12161c; --bg-card: #1a2028; --bg-hover: #242c38;
      --border-default: #2c3644; --text-primary: #e4e8ed; --text-secondary: #8b95a5;
      --accent-primary: #64748b; --accent-light: #94a3b8;
    }
    [data-theme="espresso"] {
      --bg-primary: #0f0c0a; --bg-secondary: #161210; --bg-card: #211c18; --bg-hover: #2c2520;
      --border-default: #382f28; --text-primary: #f0ebe5; --text-secondary: #a89e94;
      --accent-primary: #a78b6e; --accent-light: #c4a88a;
    }
    [data-theme="onyx"] {
      --bg-primary: #000000; --bg-secondary: #080808; --bg-card: #121212; --bg-hover: #1a1a1a;
      --border-default: #222222; --text-primary: #f5f5f5; --text-secondary: #8c8c8c;
      --accent-primary: #06b6d4; --accent-light: #22d3ee;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    html, body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      overflow-x: hidden;
      -webkit-tap-highlight-color: transparent;
    }

    body { padding-bottom: 165px; }

    /* ===== HEADER ===== */
    .header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--bg-secondary);
      border-bottom: 1px solid var(--border-default);
    }

    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 16px;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .menu-btn, .icon-btn {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      border: 1px solid var(--border-default);
      background: var(--bg-card);
      color: var(--text-secondary);
      font-size: 18px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .header-title {
      font-size: 20px;
      font-weight: 700;
    }

    .header-actions {
      display: flex;
      gap: 8px;
    }

    /* Date Nav */
    .date-nav-bar {
      display: flex;
      gap: 8px;
      padding: 12px 16px;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }
    .date-nav-bar::-webkit-scrollbar { display: none; }

    .date-chip {
      flex-shrink: 0;
      padding: 10px 14px;
      border-radius: 12px;
      background: var(--bg-card);
      border: 1px solid var(--border-default);
      color: var(--text-secondary);
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 56px;
    }

    .date-chip.active {
      background: var(--accent-primary);
      border-color: var(--accent-primary);
      color: white;
    }

    .date-chip .day-name {
      font-size: 10px;
      text-transform: uppercase;
      opacity: 0.8;
    }

    .date-chip .day-num {
      font-size: 18px;
      font-weight: 700;
      margin-top: 2px;
    }

    /* Controls Row */
    .controls-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 16px;
      gap: 12px;
      border-bottom: 1px solid var(--border-default);
    }

    .view-toggle {
      display: flex;
      gap: 4px;
      background: var(--bg-card);
      padding: 4px;
      border-radius: 10px;
    }

    .view-btn {
      padding: 8px 14px;
      border-radius: 8px;
      border: none;
      background: transparent;
      color: var(--text-secondary);
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
    }

    .view-btn.active {
      background: var(--accent-primary);
      color: white;
    }

    .filter-pills {
      display: flex;
      gap: 6px;
      overflow-x: auto;
      flex: 1;
    }
    .filter-pills::-webkit-scrollbar { display: none; }

    .filter-pill {
      flex-shrink: 0;
      padding: 8px 12px;
      border-radius: 8px;
      border: 1px solid var(--border-default);
      background: var(--bg-card);
      color: var(--text-secondary);
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .filter-pill.active {
      background: color-mix(in srgb, var(--accent-primary) 20%, transparent);
      border-color: var(--accent-primary);
      color: var(--accent-light);
    }

    .filter-pill .count {
      background: var(--bg-hover);
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 10px;
    }

    /* ===== TECH LANES ===== */
    .lanes-container { padding: 16px 0; }

    .tech-lane { margin-bottom: 20px; }

    .lane-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px;
      margin-bottom: 12px;
    }

    .lane-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .tech-avatar {
      width: 44px;
      height: 44px;
      border-radius: 12px;
      background: var(--accent-primary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 15px;
      font-weight: 700;
      color: white;
    }
    .tech-avatar.green { background: #22c55e; }
    .tech-avatar.orange { background: #f97316; }
    .tech-avatar.purple { background: #8b5cf6; }

    .tech-details h3 {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 2px;
    }
    .tech-details span {
      font-size: 13px;
      color: var(--text-secondary);
    }

    .lane-stats {
      display: flex;
      gap: 16px;
    }
    .stat-item { text-align: center; }
    .stat-value { font-size: 18px; font-weight: 700; }
    .stat-label { font-size: 10px; color: var(--text-secondary); text-transform: uppercase; }

    .lane-cards {
      display: flex;
      gap: 10px;
      overflow-x: auto;
      padding: 0 16px 8px;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }
    .lane-cards::-webkit-scrollbar { display: none; }

    /* ===== COLLAPSED WORK ORDER CARD (3 Lines) ===== */
    .wo-card {
      flex-shrink: 0;
      width: 220px;
      background: var(--bg-card);
      border-radius: 12px;
      border: 1px solid var(--border-default);
      padding: 12px 14px;
      scroll-snap-align: start;
      cursor: pointer;
      position: relative;
      border-left: 4px solid var(--accent-primary);
    }

    .wo-card:active { transform: scale(0.98); }
    .wo-card.dragging { opacity: 0.5; }

    .wo-card.status-in_progress { border-left-color: var(--accent-primary); }
    .wo-card.status-waiting { border-left-color: #eab308; }
    .wo-card.status-completed { border-left-color: #22c55e; }
    .wo-card.status-urgent { border-left-color: #ef4444; }

    /* Line 1: Time */
    .card-time {
      font-size: 13px;
      font-weight: 600;
      color: var(--text-secondary);
      margin-bottom: 4px;
    }

    /* Line 2: Customer */
    .card-customer {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 6px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    /* Line 3: Info row */
    .card-info-row {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .card-vehicle {
      font-size: 12px;
      color: var(--text-secondary);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 80px;
    }

    .card-dot {
      width: 3px;
      height: 3px;
      border-radius: 50%;
      background: var(--text-secondary);
    }

    .card-status {
      font-size: 10px;
      font-weight: 600;
      text-transform: uppercase;
      padding: 2px 6px;
      border-radius: 4px;
    }
    .card-status.in_progress { background: color-mix(in srgb, var(--accent-primary) 20%, transparent); color: var(--accent-light); }
    .card-status.waiting { background: rgba(234,179,8,0.15); color: #eab308; }
    .card-status.completed { background: rgba(34,197,94,0.15); color: #22c55e; }
    .card-status.urgent { background: rgba(239,68,68,0.15); color: #ef4444; }
    .card-status.scheduled { background: var(--bg-hover); color: var(--text-secondary); }

    .card-amount {
      font-size: 13px;
      font-weight: 700;
      margin-left: auto;
    }

    /* Add Card */
    .add-card {
      flex-shrink: 0;
      width: 80px;
      min-height: 70px;
      background: var(--bg-secondary);
      border-radius: 12px;
      border: 2px dashed var(--border-default);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 4px;
      cursor: pointer;
    }
    .add-card:active { background: var(--bg-hover); border-color: var(--accent-primary); }
    .add-card-icon {
      width: 24px;
      height: 24px;
      border-radius: 6px;
      background: var(--bg-hover);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      color: var(--text-secondary);
    }
    .add-card span { font-size: 10px; color: var(--text-secondary); }

    .lane-cards.drop-active {
      background: color-mix(in srgb, var(--accent-primary) 10%, transparent);
      border-radius: 12px;
    }

    /* ===== MOBILE ACTION BUTTONS ===== */
    .mobile-action-buttons {
      position: fixed;
      bottom: 102px;
      left: 0;
      right: 0;
      background: var(--bg-secondary);
      border-top: 1px solid var(--border-default);
      padding: 8px 8px 0 8px;
      z-index: 101;
    }

    .mobile-action-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 6px;
      margin-bottom: 6px;
    }

    .mobile-action-btn {
      padding: 10px 8px;
      border-radius: 8px;
      background: color-mix(in srgb, var(--accent-primary) 10%, transparent);
      border: 1px solid color-mix(in srgb, var(--accent-primary) 30%, transparent);
      color: var(--accent-light);
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      min-height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .mobile-action-btn:active { transform: scale(0.95); }
    .mobile-action-btn.active {
      background: color-mix(in srgb, var(--accent-primary) 60%, transparent);
      border-color: var(--accent-primary);
      color: var(--text-primary);
    }

    /* ===== MOBILE BOTTOM NAV ===== */
    .mobile-bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: var(--bg-secondary);
      border-top: 1px solid var(--border-default);
      padding: 8px;
      z-index: 100;
    }

    .mobile-nav-top {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 6px;
      margin-bottom: 6px;
    }

    .mobile-nav-secondary {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 6px;
    }

    .mobile-nav-btn {
      padding: 10px 8px;
      border-radius: 8px;
      border: 1px solid var(--border-default);
      background: var(--bg-card);
      color: var(--text-secondary);
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 44px;
    }

    .mobile-nav-btn.active {
      background: color-mix(in srgb, var(--accent-primary) 60%, transparent);
      border-color: var(--accent-primary);
      color: var(--text-primary);
    }

    .mobile-nav-btn.related {
      background: color-mix(in srgb, var(--accent-primary) 10%, transparent);
      border-color: color-mix(in srgb, var(--accent-primary) 30%, transparent);
      color: var(--text-primary);
    }

    @supports not (background: color-mix(in srgb, red 50%, blue)) {
      .mobile-nav-btn.active, .mobile-action-btn.active { background: var(--accent-primary); opacity: 0.7; }
      .mobile-nav-btn.related, .mobile-action-btn { background: var(--bg-hover); }
      .filter-pill.active, .card-status.in_progress { background: var(--bg-hover); }
    }

    .toast {
      position: fixed;
      bottom: 200px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--bg-card);
      border: 1px solid var(--border-default);
      color: var(--text-primary);
      padding: 12px 20px;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 500;
      z-index: 1000;
      display: none;
    }
    .toast.show { display: block; animation: toastIn 0.3s ease; }
    @keyframes toastIn {
      from { opacity: 0; transform: translateX(-50%) translateY(20px); }
      to { opacity: 1; transform: translateX(-50%) translateY(0); }
    }
  </style>
</head>
<body>

<header class="header">
  <div class="header-top">
    <div class="header-left">
      <button class="menu-btn">‚ò∞</button>
      <h1 class="header-title">Tech Lanes</h1>
    </div>
    <div class="header-actions">
      <button class="icon-btn">üîç</button>
      <button class="icon-btn" onclick="cycleTheme()">üé®</button>
    </div>
  </div>
  <div class="date-nav-bar" id="dateNav"></div>
</header>

<div class="controls-row">
  <div class="view-toggle">
    <button class="view-btn active">Day</button>
    <button class="view-btn">Week</button>
    <button class="view-btn">30D</button>
  </div>
  <div class="filter-pills">
    <button class="filter-pill active">All <span class="count">12</span></button>
    <button class="filter-pill">Active <span class="count">5</span></button>
    <button class="filter-pill">Waiting <span class="count">3</span></button>
  </div>
</div>

<div class="lanes-container">
  <!-- Mike Lane -->
  <div class="tech-lane">
    <div class="lane-header">
      <div class="lane-info">
        <div class="tech-avatar">MR</div>
        <div class="tech-details">
          <h3>Mike Rodriguez</h3>
          <span>Master Tech ‚Ä¢ Bay 1</span>
        </div>
      </div>
      <div class="lane-stats">
        <div class="stat-item"><div class="stat-value">5</div><div class="stat-label">Jobs</div></div>
        <div class="stat-item"><div class="stat-value">7.5h</div><div class="stat-label">Booked</div></div>
      </div>
    </div>
    <div class="lane-cards" data-tech="mike">
      <div class="wo-card status-in_progress" draggable="true">
        <div class="card-time">8:00 AM</div>
        <div class="card-customer">James Wilson</div>
        <div class="card-info-row">
          <span class="card-vehicle">Ford F-150</span>
          <span class="card-dot"></span>
          <span class="card-status in_progress">Active</span>
          <span class="card-amount">$485</span>
        </div>
      </div>
      <div class="wo-card status-waiting" draggable="true">
        <div class="card-time">10:30 AM</div>
        <div class="card-customer">Sarah Chen</div>
        <div class="card-info-row">
          <span class="card-vehicle">Tesla Model Y</span>
          <span class="card-dot"></span>
          <span class="card-status waiting">Parts</span>
          <span class="card-amount">$890</span>
        </div>
      </div>
      <div class="wo-card" draggable="true">
        <div class="card-time">1:00 PM</div>
        <div class="card-customer">Robert Martinez</div>
        <div class="card-info-row">
          <span class="card-vehicle">Chevy Silverado</span>
          <span class="card-dot"></span>
          <span class="card-status scheduled">Scheduled</span>
          <span class="card-amount">$245</span>
        </div>
      </div>
      <div class="wo-card" draggable="true">
        <div class="card-time">3:30 PM</div>
        <div class="card-customer">Emily Thompson</div>
        <div class="card-info-row">
          <span class="card-vehicle">Honda CR-V</span>
          <span class="card-dot"></span>
          <span class="card-status scheduled">Scheduled</span>
          <span class="card-amount">$320</span>
        </div>
      </div>
      <div class="add-card"><div class="add-card-icon">+</div><span>Add</span></div>
    </div>
  </div>

  <!-- Tom Lane -->
  <div class="tech-lane">
    <div class="lane-header">
      <div class="lane-info">
        <div class="tech-avatar green">TJ</div>
        <div class="tech-details">
          <h3>Tom Jackson</h3>
          <span>Senior Tech ‚Ä¢ Bay 2</span>
        </div>
      </div>
      <div class="lane-stats">
        <div class="stat-item"><div class="stat-value">4</div><div class="stat-label">Jobs</div></div>
        <div class="stat-item"><div class="stat-value">6h</div><div class="stat-label">Booked</div></div>
      </div>
    </div>
    <div class="lane-cards" data-tech="tom">
      <div class="wo-card status-completed" draggable="true">
        <div class="card-time">8:00 AM</div>
        <div class="card-customer">David Kim</div>
        <div class="card-info-row">
          <span class="card-vehicle">BMW X5</span>
          <span class="card-dot"></span>
          <span class="card-status completed">Done</span>
          <span class="card-amount">$125</span>
        </div>
      </div>
      <div class="wo-card status-in_progress" draggable="true">
        <div class="card-time">9:30 AM</div>
        <div class="card-customer">Maria Garcia</div>
        <div class="card-info-row">
          <span class="card-vehicle">Toyota Camry</span>
          <span class="card-dot"></span>
          <span class="card-status in_progress">Active</span>
          <span class="card-amount">$1,250</span>
        </div>
      </div>
      <div class="wo-card status-urgent" draggable="true">
        <div class="card-time">2:00 PM</div>
        <div class="card-customer">Kevin O'Brien</div>
        <div class="card-info-row">
          <span class="card-vehicle">Jeep Wrangler</span>
          <span class="card-dot"></span>
          <span class="card-status urgent">Urgent</span>
          <span class="card-amount">TBD</span>
        </div>
      </div>
      <div class="add-card"><div class="add-card-icon">+</div><span>Add</span></div>
    </div>
  </div>

  <!-- Alex Lane -->
  <div class="tech-lane">
    <div class="lane-header">
      <div class="lane-info">
        <div class="tech-avatar orange">AL</div>
        <div class="tech-details">
          <h3>Alex Lee</h3>
          <span>Technician ‚Ä¢ Bay 3</span>
        </div>
      </div>
      <div class="lane-stats">
        <div class="stat-item"><div class="stat-value">3</div><div class="stat-label">Jobs</div></div>
        <div class="stat-item"><div class="stat-value">4.5h</div><div class="stat-label">Booked</div></div>
      </div>
    </div>
    <div class="lane-cards" data-tech="alex">
      <div class="wo-card status-completed" draggable="true">
        <div class="card-time">8:30 AM</div>
        <div class="card-customer">Lisa Brown</div>
        <div class="card-info-row">
          <span class="card-vehicle">Mazda CX-5</span>
          <span class="card-dot"></span>
          <span class="card-status completed">Done</span>
          <span class="card-amount">$185</span>
        </div>
      </div>
      <div class="wo-card status-in_progress" draggable="true">
        <div class="card-time">11:00 AM</div>
        <div class="card-customer">Chris Taylor</div>
        <div class="card-info-row">
          <span class="card-vehicle">Audi Q7</span>
          <span class="card-dot"></span>
          <span class="card-status in_progress">Active</span>
          <span class="card-amount">$395</span>
        </div>
      </div>
      <div class="wo-card" draggable="true">
        <div class="card-time">2:30 PM</div>
        <div class="card-customer">Amanda White</div>
        <div class="card-info-row">
          <span class="card-vehicle">Hyundai Tucson</span>
          <span class="card-dot"></span>
          <span class="card-status scheduled">Scheduled</span>
          <span class="card-amount">$0</span>
        </div>
      </div>
      <div class="add-card"><div class="add-card-icon">+</div><span>Add</span></div>
    </div>
  </div>

  <!-- Unassigned Lane -->
  <div class="tech-lane">
    <div class="lane-header">
      <div class="lane-info">
        <div class="tech-avatar purple">?</div>
        <div class="tech-details">
          <h3>Unassigned</h3>
          <span>Drag to assign tech</span>
        </div>
      </div>
      <div class="lane-stats">
        <div class="stat-item"><div class="stat-value">2</div><div class="stat-label">Jobs</div></div>
      </div>
    </div>
    <div class="lane-cards" data-tech="unassigned">
      <div class="wo-card" draggable="true">
        <div class="card-time">TBD</div>
        <div class="card-customer">Michael Chang</div>
        <div class="card-info-row">
          <span class="card-vehicle">Kia Telluride</span>
          <span class="card-dot"></span>
          <span class="card-status scheduled">Scheduled</span>
          <span class="card-amount">$220</span>
        </div>
      </div>
      <div class="wo-card status-waiting" draggable="true">
        <div class="card-time">TBD</div>
        <div class="card-customer">Jennifer Lopez</div>
        <div class="card-info-row">
          <span class="card-vehicle">Lexus RX</span>
          <span class="card-dot"></span>
          <span class="card-status waiting">Parts</span>
          <span class="card-amount">$400</span>
        </div>
      </div>
      <div class="add-card"><div class="add-card-icon">+</div><span>Add</span></div>
    </div>
  </div>
</div>

<!-- Mobile Action Buttons -->
<div class="mobile-action-buttons">
  <div class="mobile-action-grid">
    <button class="mobile-action-btn">+ Work Order</button>
    <button class="mobile-action-btn active">Scheduler</button>
    <button class="mobile-action-btn">+ Appointment</button>
  </div>
</div>

<!-- Mobile Bottom Nav -->
<nav class="mobile-bottom-nav">
  <div class="mobile-nav-top">
    <a href="#" class="mobile-nav-btn related">Business</a>
    <a href="#" class="mobile-nav-btn">Search</a>
  </div>
  <div class="mobile-nav-secondary">
    <a href="#" class="mobile-nav-btn related">Service</a>
    <a href="#" class="mobile-nav-btn related">Parts</a>
    <a href="#" class="mobile-nav-btn related">Sales</a>
  </div>
</nav>

<div class="toast" id="toast"></div>

<script>
const themes = ['dark-blue','grey','slate','charcoal','midnight','navy','graphite','ocean','forest','obsidian','steel','espresso','onyx'];
let ti = 0;
function loadTheme() {
  const t = localStorage.getItem('app-theme') || 'dark-blue';
  document.documentElement.setAttribute('data-theme', t);
  ti = themes.indexOf(t);
}
function cycleTheme() {
  ti = (ti + 1) % themes.length;
  document.documentElement.setAttribute('data-theme', themes[ti]);
  localStorage.setItem('app-theme', themes[ti]);
  showToast('Theme: ' + themes[ti]);
}
loadTheme();

// Date nav
(function() {
  const nav = document.getElementById('dateNav');
  const today = new Date();
  const days = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
  let h = '';
  for (let i = -2; i < 7; i++) {
    const d = new Date(today); d.setDate(d.getDate() + i);
    h += `<div class="date-chip ${i===0?'active':''}" data-i="${i}"><span class="day-name">${days[d.getDay()]}</span><span class="day-num">${d.getDate()}</span></div>`;
  }
  nav.innerHTML = h;
  nav.querySelectorAll('.date-chip').forEach(c => c.onclick = () => {
    nav.querySelectorAll('.date-chip').forEach(x => x.classList.remove('active'));
    c.classList.add('active');
  });
})();

// Drag & drop
let dragged = null;
document.querySelectorAll('.wo-card').forEach(c => {
  c.ondragstart = () => { dragged = c; c.classList.add('dragging'); };
  c.ondragend = () => { c.classList.remove('dragging'); document.querySelectorAll('.lane-cards').forEach(l => l.classList.remove('drop-active')); dragged = null; };
});
document.querySelectorAll('.lane-cards').forEach(l => {
  l.ondragover = e => { e.preventDefault(); l.classList.add('drop-active'); };
  l.ondragleave = () => l.classList.remove('drop-active');
  l.ondrop = e => {
    e.preventDefault(); l.classList.remove('drop-active');
    if (dragged) { const a = l.querySelector('.add-card'); a ? l.insertBefore(dragged, a) : l.appendChild(dragged); showToast('Moved to ' + l.dataset.tech); }
  };
});

// Touch drag
document.querySelectorAll('.wo-card').forEach(c => {
  let lpt, dr = false, gh, sp = {x:0,y:0};
  c.ontouchstart = e => {
    sp = {x:e.touches[0].clientX, y:e.touches[0].clientY};
    lpt = setTimeout(() => {
      dr = true; c.classList.add('dragging'); navigator.vibrate && navigator.vibrate(50);
      gh = c.cloneNode(true); gh.style.cssText = `position:fixed;pointer-events:none;z-index:1000;width:${c.offsetWidth}px;opacity:0.9;transform:rotate(2deg);box-shadow:0 8px 32px rgba(0,0,0,0.3);`;
      document.body.appendChild(gh);
    }, 400);
  };
  c.ontouchmove = e => {
    if (!dr) { if (Math.abs(e.touches[0].clientY - sp.y) > 10 || Math.abs(e.touches[0].clientX - sp.x) > 10) clearTimeout(lpt); return; }
    e.preventDefault(); const t = e.touches[0];
    if (gh) { gh.style.left = (t.clientX - 110) + 'px'; gh.style.top = (t.clientY - 35) + 'px'; }
    document.querySelectorAll('.lane-cards').forEach(l => {
      const r = l.getBoundingClientRect();
      l.classList.toggle('drop-active', t.clientY >= r.top && t.clientY <= r.bottom);
    });
  };
  c.ontouchend = () => {
    clearTimeout(lpt);
    if (dr) {
      const al = document.querySelector('.lane-cards.drop-active');
      if (al) { const a = al.querySelector('.add-card'); a ? al.insertBefore(c, a) : al.appendChild(c); showToast('Moved to ' + al.dataset.tech); }
      c.classList.remove('dragging'); if (gh) gh.remove(); gh = null; dr = false;
    }
    document.querySelectorAll('.lane-cards').forEach(l => l.classList.remove('drop-active'));
  };
});

function showToast(m) {
  const t = document.getElementById('toast'); t.textContent = m; t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2000);
}
</script>
</body>
</html>
