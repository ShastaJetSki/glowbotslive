<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Progress View</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #0b0f14;
      min-height: 100vh;
      padding: 20px;
      color: #e8eef6;
    }

    .container {
      max-width: 1600px;
      margin: 0 auto;
    }

    /* Header */
    .header {
      background: #0f1621;
      border: 1px solid #2d3f56;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .header h1 {
      color: #60a5fa;
      font-size: 28px;
      font-weight: 700;
    }

    .header-nav {
      display: flex;
      gap: 12px;
    }

    .btn {
      padding: 10px 20px;
      border-radius: 8px;
      border: 1px solid #2d3f56;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      color: white;
      background: #3b82f6;
      font-size: 14px;
    }

    .btn:hover {
      background: #2563eb;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
    }

    .btn.secondary {
      background: #1e40af;
    }

    .btn.secondary:hover {
      background: #1e3a8a;
    }

    /* Overview Stats */
    .overview {
      background: #0f1621;
      border: 1px solid #2d3f56;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .overview-title {
      font-size: 18px;
      font-weight: 700;
      color: #60a5fa;
      margin-bottom: 16px;
    }

    .overview-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
    }

    .overview-stat {
      background: #1a2535;
      padding: 16px;
      border-radius: 10px;
      border-left: 4px solid #3b82f6;
      transition: all 0.2s;
    }

    .overview-stat:hover {
      border-left-color: #60a5fa;
      transform: translateY(-2px);
    }

    .overview-stat-label {
      font-size: 11px;
      color: #94a3b8;
      font-weight: 600;
      margin-bottom: 6px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .overview-stat-value {
      font-size: 28px;
      font-weight: 700;
      color: #e8eef6;
    }

    /* Column Cards Grid */
    .columns-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 20px;
    }

    .column-card {
      background: #0f1621;
      border: 1px solid #2d3f56;
      border-radius: 12px;
      padding: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      transition: all 0.3s;
    }

    .column-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3);
      border-color: #3b82f6;
    }

    .column-card-header {
      margin-bottom: 20px;
    }

    .column-card-title {
      font-size: 20px;
      font-weight: 700;
      color: #60a5fa;
      margin-bottom: 8px;
    }

    .column-card-subtitle {
      font-size: 13px;
      color: #94a3b8;
    }

    /* Progress Ring */
    .progress-ring {
      width: 160px;
      height: 160px;
      margin: 20px auto;
      position: relative;
    }

    .progress-ring svg {
      transform: rotate(-90deg);
    }

    .progress-ring-circle {
      fill: none;
      stroke: #2d3f56;
      stroke-width: 12;
    }

    .progress-ring-progress {
      fill: none;
      stroke: #3b82f6;
      stroke-width: 12;
      stroke-linecap: round;
      transition: stroke-dashoffset 0.5s ease;
    }

    .progress-ring-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 36px;
      font-weight: 700;
      color: #60a5fa;
    }

    /* Project List */
    .project-list {
      margin-top: 20px;
    }

    .project-item {
      background: #1a2535;
      padding: 12px 16px;
      border-radius: 8px;
      margin-bottom: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all 0.2s;
      border: 1px solid #2d3f56;
    }

    .project-item:hover {
      background: #223044;
      transform: translateX(4px);
      border-color: #3b82f6;
    }

    .project-item-name {
      font-size: 14px;
      font-weight: 600;
      color: #e8eef6;
      flex: 1;
    }

    .project-item-status {
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
    }

    .status-not-started {
      background: #2d3f56;
      color: #94a3b8;
    }

    .status-in-progress {
      background: #1e40af;
      color: #93c5fd;
    }

    .status-completed {
      background: #065f46;
      color: #6ee7b7;
    }

    /* Stats */
    .column-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-top: 20px;
    }

    .stat-box {
      text-align: center;
      padding: 12px;
      background: #1a2535;
      border-radius: 8px;
      border: 1px solid #2d3f56;
      transition: all 0.2s;
    }

    .stat-box:hover {
      border-color: #3b82f6;
    }

    .stat-box-value {
      font-size: 24px;
      font-weight: 700;
      color: #e8eef6;
      margin-bottom: 4px;
    }

    .stat-box-label {
      font-size: 10px;
      color: #94a3b8;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    @media (max-width: 768px) {
      .columns-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <!-- Header -->
  <div class="header">
    <h1>Progress View</h1>
    <div class="header-nav">
      <a href="admin-dashboard.html" class="btn">Dashboard</a>
      <a href="screen-tracker.html" class="btn secondary">Screen Tracker</a>
    </div>
  </div>

  <!-- Overview -->
  <div class="overview">
    <div class="overview-title">Overall Progress</div>
    <div class="overview-grid">
      <div class="overview-stat">
        <div class="overview-stat-label">Total Screens</div>
        <div class="overview-stat-value" id="totalScreens">0</div>
      </div>
      <div class="overview-stat">
        <div class="overview-stat-label">Completed</div>
        <div class="overview-stat-value" id="completedScreens">0</div>
      </div>
      <div class="overview-stat">
        <div class="overview-stat-label">In Progress</div>
        <div class="overview-stat-value" id="inProgressScreens">0</div>
      </div>
      <div class="overview-stat">
        <div class="overview-stat-label">Average Completion</div>
        <div class="overview-stat-value" id="avgCompletion">0%</div>
      </div>
    </div>
  </div>

  <!-- Column Cards -->
  <div class="columns-grid" id="columnsGrid"></div>
</div>

<script>
  const columns = [
    "Wireframe", "Buttons", "Tables", "Connections",
    "Testing", "UI", "AI", "Beta", "Prod"
  ];

  const screens = [
    {
      title: "Login Page",
      progress: [4, 4, 3, 3, 2, 2, 1, 0, 0]
    },
    {
      title: "Dashboard",
      progress: [4, 3, 3, 2, 1, 1, 0, 0, 0]
    },
    {
      title: "User Profile",
      progress: [4, 3, 2, 1, 0, 0, 0, 0, 0]
    },
    {
      title: "Settings",
      progress: [4, 4, 4, 4, 3, 2, 1, 0, 0]
    },
    {
      title: "Reports",
      progress: [2, 1, 1, 0, 0, 0, 0, 0, 0]
    }
  ];

  function getStatusFromProgress(progress) {
    if (progress === 0) return { cls: 'status-not-started', text: 'Not Started' };
    if (progress === 4) return { cls: 'status-completed', text: 'Completed' };
    return { cls: 'status-in-progress', text: 'In Progress' };
  }

  function calculateColumnStats(columnIndex) {
    let notStarted = 0;
    let inProgress = 0;
    let completed = 0;
    let totalProgress = 0;

    screens.forEach(screen => {
      const progress = screen.progress[columnIndex];
      totalProgress += progress;
      
      if (progress === 0) notStarted++;
      else if (progress === 4) completed++;
      else inProgress++;
    });

    const avgProgress = Math.round((totalProgress / (screens.length * 4)) * 100);

    return { notStarted, inProgress, completed, avgProgress };
  }

  function createProgressRing(percentage) {
    const radius = 70;
    const circumference = 2 * Math.PI * radius;
    const offset = circumference - (percentage / 100) * circumference;

    return `
      <svg width="160" height="160">
        <circle class="progress-ring-circle" cx="80" cy="80" r="${radius}"></circle>
        <circle 
          class="progress-ring-progress" 
          cx="80" 
          cy="80" 
          r="${radius}"
          stroke-dasharray="${circumference}"
          stroke-dashoffset="${offset}"
        ></circle>
      </svg>
      <div class="progress-ring-text">${percentage}%</div>
    `;
  }

  function renderColumns() {
    const grid = document.getElementById('columnsGrid');
    grid.innerHTML = '';

    columns.forEach((column, index) => {
      const stats = calculateColumnStats(index);

      const card = document.createElement('div');
      card.className = 'column-card';

      card.innerHTML = `
        <div class="column-card-header">
          <div class="column-card-title">${column}</div>
          <div class="column-card-subtitle">${screens.length} screens tracked</div>
        </div>

        <div class="progress-ring">
          ${createProgressRing(stats.avgProgress)}
        </div>

        <div class="column-stats">
          <div class="stat-box">
            <div class="stat-box-value">${stats.notStarted}</div>
            <div class="stat-box-label">Not Started</div>
          </div>
          <div class="stat-box">
            <div class="stat-box-value">${stats.inProgress}</div>
            <div class="stat-box-label">In Progress</div>
          </div>
          <div class="stat-box">
            <div class="stat-box-value">${stats.completed}</div>
            <div class="stat-box-label">Completed</div>
          </div>
        </div>

        <div class="project-list">
          ${screens.map(screen => {
            const status = getStatusFromProgress(screen.progress[index]);
            return `
              <div class="project-item">
                <div class="project-item-name">${screen.title}</div>
                <div class="project-item-status ${status.cls}">${status.text}</div>
              </div>
            `;
          }).join('')}
        </div>
      `;

      grid.appendChild(card);
    });
  }

  function updateOverview() {
    let totalCompleted = 0;
    let totalInProgress = 0;
    let totalProgressSum = 0;

    screens.forEach(screen => {
      const allComplete = screen.progress.every(p => p === 4);
      const anyProgress = screen.progress.some(p => p > 0);
      
      if (allComplete) totalCompleted++;
      else if (anyProgress) totalInProgress++;

      const screenAvg = screen.progress.reduce((sum, p) => sum + p, 0) / (screen.progress.length * 4);
      totalProgressSum += screenAvg;
    });

    const avgCompletion = Math.round((totalProgressSum / screens.length) * 100);

    document.getElementById('totalScreens').textContent = screens.length;
    document.getElementById('completedScreens').textContent = totalCompleted;
    document.getElementById('inProgressScreens').textContent = totalInProgress;
    document.getElementById('avgCompletion').textContent = avgCompletion + '%';
  }

  renderColumns();
  updateOverview();
</script>

</body>
</html>
