<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Settings</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #0b0f14;
      min-height: 100vh;
      padding: 20px;
      color: #e8eef6;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    .header {
      background: #0f1621;
      border: 1px solid #2d3f56;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .header h1 {
      color: #60a5fa;
      font-size: 28px;
      font-weight: 700;
    }

    .header-nav {
      display: flex;
      gap: 12px;
    }

    .btn {
      padding: 10px 20px;
      border-radius: 8px;
      border: 1px solid #2d3f56;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      color: white;
      background: #3b82f6;
      font-size: 14px;
    }

    .btn:hover {
      background: #2563eb;
      transform: translateY(-2px);
    }

    .btn.success {
      background: #10b981;
    }

    .btn.success:hover {
      background: #059669;
    }

    /* Tabs */
    .tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 24px;
      background: #0f1621;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid #2d3f56;
    }

    .tab {
      padding: 12px 24px;
      border-radius: 8px;
      background: transparent;
      border: 1px solid transparent;
      color: #94a3b8;
      cursor: pointer;
      transition: all 0.2s;
      font-weight: 600;
    }

    .tab:hover {
      background: #1a2535;
      color: #e8eef6;
    }

    .tab.active {
      background: #3b82f6;
      color: white;
      border-color: #3b82f6;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .panel {
      background: #0f1621;
      border: 1px solid #2d3f56;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 20px;
    }

    .panel-title {
      font-size: 18px;
      font-weight: 700;
      color: #60a5fa;
      margin-bottom: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .form-group.full-width {
      grid-column: 1 / -1;
    }

    .form-label {
      font-size: 13px;
      font-weight: 600;
      color: #94a3b8;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .form-input, .form-select, .form-textarea {
      padding: 10px 12px;
      border-radius: 8px;
      border: 1px solid #2d3f56;
      background: #1a2535;
      color: #e8eef6;
      font-size: 14px;
      font-family: inherit;
      transition: all 0.2s;
    }

    .form-input:focus, .form-select:focus, .form-textarea:focus {
      outline: none;
      border-color: #3b82f6;
      background: #223044;
    }

    .form-textarea {
      min-height: 80px;
      resize: vertical;
    }

    /* Cost List Table */
    .cost-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 16px;
    }

    .cost-table thead {
      background: #1a2535;
      border-bottom: 2px solid #2d3f56;
    }

    .cost-table th {
      padding: 12px;
      text-align: left;
      font-size: 11px;
      font-weight: 700;
      color: #94a3b8;
      text-transform: uppercase;
    }

    .cost-table td {
      padding: 12px;
      border-bottom: 1px solid #2d3f56;
      font-size: 13px;
    }

    .cost-table tr:hover {
      background: #1a2535;
    }

    .action-btn {
      padding: 6px 12px;
      border-radius: 6px;
      border: 1px solid #2d3f56;
      background: #1a2535;
      color: #94a3b8;
      font-size: 11px;
      font-weight: 600;
      cursor: pointer;
      margin-right: 4px;
    }

    .action-btn:hover {
      background: #223044;
      border-color: #3b82f6;
      color: #60a5fa;
    }

    .action-btn.delete:hover {
      background: #7f1d1d;
      border-color: #ef4444;
      color: #fca5a5;
    }

    .category-badge {
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
    }

    .cat-infrastructure { background: #7f1d1d; color: #fca5a5; }
    .cat-services { background: #78350f; color: #fcd34d; }
    .cat-fees { background: #1e40af; color: #93c5fd; }
    .cat-operations { background: #5b21b6; color: #c4b5fd; }
    .cat-marketing { background: #065f46; color: #6ee7b7; }

    @media (max-width: 768px) {
      .form-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <!-- Header -->
  <div class="header">
    <h1>Settings</h1>
    <div class="header-nav">
      <a href="admin-dashboard-complete.html" class="btn">Dashboard</a>
      <a href="screen-tracker.html" class="btn">Screen Tracker</a>
    </div>
  </div>

  <!-- Tabs -->
  <div class="tabs">
    <div class="tab active" onclick="switchTab('costs')">Operational Costs</div>
    <div class="tab" onclick="switchTab('tiers')">Subscription Tiers</div>
    <div class="tab" onclick="switchTab('general')">General Settings</div>
    <div class="tab" onclick="switchTab('billing')">Billing Settings</div>
  </div>

  <!-- Costs Tab -->
  <div class="tab-content active" id="costs">
    <div class="panel">
      <div class="panel-title">
        <span>Add New Cost</span>
        <button class="btn success" onclick="saveCost()">Save Cost</button>
      </div>

      <div class="form-grid">
        <div class="form-group">
          <label class="form-label">Service Name</label>
          <input type="text" class="form-input" id="serviceName" placeholder="e.g., AWS Cloud Hosting">
        </div>

        <div class="form-group">
          <label class="form-label">Provider</label>
          <input type="text" class="form-input" id="provider" placeholder="e.g., Amazon Web Services">
        </div>

        <div class="form-group">
          <label class="form-label">Category</label>
          <select class="form-select" id="category">
            <option value="Infrastructure">Infrastructure</option>
            <option value="Services">Services</option>
            <option value="Payment Processing">Payment Processing</option>
            <option value="Operations">Operations</option>
            <option value="Marketing">Marketing</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Billing Cycle</label>
          <select class="form-select" id="billingCycle">
            <option value="monthly">Monthly</option>
            <option value="annual">Annual</option>
            <option value="one_time">One Time</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Monthly Cost ($)</label>
          <input type="number" class="form-input" id="monthlyCost" placeholder="0.00" step="0.01">
        </div>

        <div class="form-group">
          <label class="form-label">Annual Cost ($)</label>
          <input type="number" class="form-input" id="annualCost" placeholder="0.00" step="0.01">
        </div>

        <div class="form-group full-width">
          <label class="form-label">Notes</label>
          <textarea class="form-textarea" id="notes" placeholder="Additional details about this cost..."></textarea>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="panel-title">Current Operational Costs</div>

      <table class="cost-table">
        <thead>
          <tr>
            <th>Service</th>
            <th>Provider</th>
            <th>Category</th>
            <th>Monthly Cost</th>
            <th>Annual Cost</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="costsTableBody">
        </tbody>
      </table>
    </div>
  </div>

  <!-- Subscription Tiers Tab -->
  <div class="tab-content" id="tiers">
    <div class="panel">
      <div class="panel-title">
        <span>Manage Subscription Tiers</span>
        <button class="btn success" onclick="saveTier()">Add New Tier</button>
      </div>

      <div class="form-grid">
        <div class="form-group">
          <label class="form-label">Tier Name</label>
          <input type="text" class="form-input" id="tierName" placeholder="e.g., Pro Plan">
        </div>

        <div class="form-group">
          <label class="form-label">Tier Key</label>
          <input type="text" class="form-input" id="tierKey" placeholder="e.g., pro">
        </div>

        <div class="form-group">
          <label class="form-label">Monthly Price ($)</label>
          <input type="number" class="form-input" id="tierMonthly" placeholder="49.00" step="0.01">
        </div>

        <div class="form-group">
          <label class="form-label">Annual Price ($)</label>
          <input type="number" class="form-input" id="tierAnnual" placeholder="490.00" step="0.01">
        </div>

        <div class="form-group full-width">
          <label class="form-label">Features (one per line)</label>
          <textarea class="form-textarea" id="tierFeatures" placeholder="Feature 1
Feature 2
Feature 3"></textarea>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="panel-title">Current Subscription Tiers</div>

      <table class="cost-table">
        <thead>
          <tr>
            <th>Tier</th>
            <th>Monthly Price</th>
            <th>Annual Price</th>
            <th>Features</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="tiersTableBody">
        </tbody>
      </table>
    </div>
  </div>

  <!-- General Settings Tab -->
  <div class="tab-content" id="general">
    <div class="panel">
      <div class="panel-title">
        <span>General Settings</span>
        <button class="btn success" onclick="saveGeneralSettings()">Save Settings</button>
      </div>

      <div class="form-grid">
        <div class="form-group">
          <label class="form-label">Company Name</label>
          <input type="text" class="form-input" id="companyName" value="My SaaS App">
        </div>

        <div class="form-group">
          <label class="form-label">Support Email</label>
          <input type="email" class="form-input" id="supportEmail" value="support@example.com">
        </div>

        <div class="form-group">
          <label class="form-label">Currency</label>
          <select class="form-select" id="currency">
            <option value="USD">USD - US Dollar</option>
            <option value="EUR">EUR - Euro</option>
            <option value="GBP">GBP - British Pound</option>
            <option value="CAD">CAD - Canadian Dollar</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Timezone</label>
          <select class="form-select" id="timezone">
            <option value="America/New_York">Eastern Time (ET)</option>
            <option value="America/Chicago">Central Time (CT)</option>
            <option value="America/Denver">Mountain Time (MT)</option>
            <option value="America/Los_Angeles">Pacific Time (PT)</option>
          </select>
        </div>

        <div class="form-group full-width">
          <label class="form-label">Company Address</label>
          <textarea class="form-textarea" id="companyAddress" placeholder="Full company address..."></textarea>
        </div>
      </div>
    </div>
  </div>

  <!-- Billing Settings Tab -->
  <div class="tab-content" id="billing">
    <div class="panel">
      <div class="panel-title">
        <span>Billing Configuration</span>
        <button class="btn success" onclick="saveBillingSettings()">Save Settings</button>
      </div>

      <div class="form-grid">
        <div class="form-group">
          <label class="form-label">Default Trial Days</label>
          <input type="number" class="form-input" id="trialDays" value="14">
        </div>

        <div class="form-group">
          <label class="form-label">Payment Processor</label>
          <select class="form-select" id="paymentProcessor">
            <option value="stripe">Stripe</option>
            <option value="paypal">PayPal</option>
            <option value="square">Square</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Stripe Public Key</label>
          <input type="text" class="form-input" id="stripePublic" placeholder="pk_live_...">
        </div>

        <div class="form-group">
          <label class="form-label">Stripe Secret Key</label>
          <input type="password" class="form-input" id="stripeSecret" placeholder="sk_live_...">
        </div>

        <div class="form-group">
          <label class="form-label">Tax Rate (%)</label>
          <input type="number" class="form-input" id="taxRate" value="0" step="0.01">
        </div>

        <div class="form-group">
          <label class="form-label">Auto Charge Failed Payments</label>
          <select class="form-select" id="autoRetry">
            <option value="yes">Yes</option>
            <option value="no">No</option>
          </select>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Sample data
  const costs = [
    { id: 1, service: "Cloud Hosting (AWS)", provider: "Amazon Web Services", category: "Infrastructure", monthly: 3200, annual: 38400 },
    { id: 2, service: "CDN & Storage", provider: "Cloudflare", category: "Infrastructure", monthly: 850, annual: 10200 },
    { id: 3, service: "Database Hosting", provider: "Supabase Pro", category: "Infrastructure", monthly: 800, annual: 9600 },
    { id: 4, service: "Email Service", provider: "SendGrid", category: "Services", monthly: 450, annual: 5400 },
    { id: 5, service: "Authentication", provider: "Auth0", category: "Services", monthly: 680, annual: 8160 },
    { id: 6, service: "Payment Processing", provider: "Stripe", category: "Payment Processing", monthly: 1810, annual: 21720 },
    { id: 7, service: "Support Staff", provider: "Contract", category: "Operations", monthly: 1800, annual: 21600 }
  ];

  const tiers = [
    { id: 1, name: "Free Plan", key: "free", monthly: 0, annual: 0, features: "Basic features\nCommunity support\n1 user" },
    { id: 2, name: "Basic Plan", key: "basic", monthly: 19, annual: 190, features: "All Free features\nEmail support\n5 users\n10GB storage" },
    { id: 3, name: "Pro Plan", key: "pro", monthly: 49, annual: 490, features: "All Basic features\nPriority support\n25 users\n100GB storage" },
    { id: 4, name: "Enterprise", key: "enterprise", monthly: 299, annual: 2990, features: "All Pro features\n24/7 support\nUnlimited users\n1TB storage" }
  ];

  function switchTab(tabName) {
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
    
    event.target.classList.add('active');
    document.getElementById(tabName).classList.add('active');
  }

  function getCategoryClass(category) {
    const map = {
      'Infrastructure': 'cat-infrastructure',
      'Services': 'cat-services',
      'Payment Processing': 'cat-fees',
      'Operations': 'cat-operations',
      'Marketing': 'cat-marketing'
    };
    return map[category] || 'cat-services';
  }

  function renderCosts() {
    const tbody = document.getElementById('costsTableBody');
    tbody.innerHTML = costs.map(cost => `
      <tr>
        <td>${cost.service}</td>
        <td>${cost.provider}</td>
        <td><span class="category-badge ${getCategoryClass(cost.category)}">${cost.category}</span></td>
        <td>$${cost.monthly.toLocaleString()}</td>
        <td>$${cost.annual.toLocaleString()}</td>
        <td>
          <button class="action-btn" onclick="editCost(${cost.id})">Edit</button>
          <button class="action-btn delete" onclick="deleteCost(${cost.id})">Delete</button>
        </td>
      </tr>
    `).join('');
  }

  function renderTiers() {
    const tbody = document.getElementById('tiersTableBody');
    tbody.innerHTML = tiers.map(tier => `
      <tr>
        <td><strong>${tier.name}</strong><br><small style="color: #94a3b8;">${tier.key}</small></td>
        <td>$${tier.monthly.toFixed(2)}</td>
        <td>$${tier.annual.toFixed(2)}</td>
        <td><small>${tier.features.replace(/\n/g, ', ')}</small></td>
        <td>
          <button class="action-btn" onclick="editTier(${tier.id})">Edit</button>
          <button class="action-btn delete" onclick="deleteTier(${tier.id})">Delete</button>
        </td>
      </tr>
    `).join('');
  }

  function saveCost() {
    const newCost = {
      id: costs.length + 1,
      service: document.getElementById('serviceName').value,
      provider: document.getElementById('provider').value,
      category: document.getElementById('category').value,
      monthly: parseFloat(document.getElementById('monthlyCost').value) || 0,
      annual: parseFloat(document.getElementById('annualCost').value) || 0
    };

    if (!newCost.service || !newCost.provider) {
      alert('Please fill in service name and provider');
      return;
    }

    costs.push(newCost);
    renderCosts();
    
    // Clear form
    document.getElementById('serviceName').value = '';
    document.getElementById('provider').value = '';
    document.getElementById('monthlyCost').value = '';
    document.getElementById('annualCost').value = '';
    document.getElementById('notes').value = '';
    
    alert('Cost added successfully!');
  }

  function saveTier() {
    const newTier = {
      id: tiers.length + 1,
      name: document.getElementById('tierName').value,
      key: document.getElementById('tierKey').value,
      monthly: parseFloat(document.getElementById('tierMonthly').value) || 0,
      annual: parseFloat(document.getElementById('tierAnnual').value) || 0,
      features: document.getElementById('tierFeatures').value
    };

    if (!newTier.name || !newTier.key) {
      alert('Please fill in tier name and key');
      return;
    }

    tiers.push(newTier);
    renderTiers();
    
    // Clear form
    document.getElementById('tierName').value = '';
    document.getElementById('tierKey').value = '';
    document.getElementById('tierMonthly').value = '';
    document.getElementById('tierAnnual').value = '';
    document.getElementById('tierFeatures').value = '';
    
    alert('Tier added successfully!');
  }

  function editCost(id) {
    const cost = costs.find(c => c.id === id);
    if (cost) {
      document.getElementById('serviceName').value = cost.service;
      document.getElementById('provider').value = cost.provider;
      document.getElementById('category').value = cost.category;
      document.getElementById('monthlyCost').value = cost.monthly;
      document.getElementById('annualCost').value = cost.annual;
      window.scrollTo(0, 0);
    }
  }

  function deleteCost(id) {
    if (confirm('Delete this cost item?')) {
      const index = costs.findIndex(c => c.id === id);
      costs.splice(index, 1);
      renderCosts();
    }
  }

  function editTier(id) {
    alert(`Edit tier #${id} - Feature coming soon!`);
  }

  function deleteTier(id) {
    if (confirm('Delete this subscription tier?')) {
      const index = tiers.findIndex(t => t.id === id);
      tiers.splice(index, 1);
      renderTiers();
    }
  }

  function saveGeneralSettings() {
    alert('General settings saved successfully!');
  }

  function saveBillingSettings() {
    alert('Billing settings saved successfully!');
  }

  renderCosts();
  renderTiers();
</script>

</body>
</html>
