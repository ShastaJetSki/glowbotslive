<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kelly5 â€” GlowbotsLive</title>

  <style>
    /* ========================================
       FONT IMPORTS
       ======================================== */
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');
    
    /* ========================================
       GLOBAL RESET & BASE STYLES
       ======================================== */
    * { margin:0; padding:0; box-sizing:border-box; }
    html, body {
      height: 100%;
      background: #000;
      overflow: hidden;
      font-family: 'Orbitron', sans-serif;
      /* Prevent text size adjustment on mobile */
      -webkit-text-size-adjust: 100%;
      -moz-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
      text-size-adjust: 100%;
    }

    /* ========================================
       BRAND TITLE (Top Left)
       ======================================== */
    .brand {
      position: fixed;
      top: 15px;
      left: 20px;
      color: #5af2ff;
      font-size: 28px;
      font-weight: 700;
      text-shadow: 0 0 12px #00eaff;
      z-index: 10000;
      font-family: 'Orbitron', sans-serif;
    }

    /* Mobile: Smaller brand text */
    @media (max-width: 768px) {
      .brand {
        font-size: 22px;
        top: 10px;
        left: 15px;
      }
    }

    /* ========================================
       WHITE INFORMATION STRIP
       ======================================== */
    .white-strip {
      position: fixed;
      top: 60px;
      left: 0;
      width: 100vw;
      height: 240px;
      background: #ffffff;
      z-index: 8000;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      padding: 10px 180px 20px 180px;
      text-align: center;
      overflow: hidden;
    }

    /* Mobile: Adjust strip padding */
    @media (max-width: 768px) {
      .white-strip {
        padding: 10px 20px 15px 20px;
        top: 50px;
        height: 200px;
      }
    }

    /* ========================================
       TYPEWRITER TEXT STYLES
       ======================================== */
    .typewriter, .second-paragraph {
      font-family: 'Orbitron', sans-serif;
      font-size: 24px;
      font-weight: bold;
      color: #000;
      white-space: pre-line;
      text-align: left;
      margin-top: 0;
      width: 75%;
      max-width: 600px;
      align-self: flex-start;
      position: absolute;
      top: 10px;
      left: 180px;
    }

    .second-paragraph {
      display: none; /* Hidden until animation triggers */
    }

    /* Phone numbers - centered at bottom of white strip */
    .phone-numbers {
      font-family: 'Orbitron', sans-serif;
      font-size: 20px;
      font-weight: 900;
      color: #000;
      text-align: center;
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 1s ease;
      white-space: nowrap;
    }

    /* Mobile: Smaller text, adjusted positioning */
    @media (max-width: 768px) {
      .typewriter, .second-paragraph {
        font-size: 16px;
        white-space: normal;
        word-wrap: break-word;
        left: 20px;
        width: calc(100% - 40px);
      }
      
      .phone-numbers {
        font-size: 14px;
        bottom: 15px;
        white-space: nowrap;
      }
    }

    /* ========================================
       GLOWBOT IMAGE (Bottom Left)
       ======================================== */
    .bot-wrapper {
      position: fixed;
      bottom: 20px;
      left: 20px;
      width: 20%;
      z-index: 9000;
      pointer-events: none;
    }
    .bot-img { 
      width:100%; 
      display:block;
    }

    /* Mobile: Larger bot for visibility */
    @media (max-width: 768px) {
      .bot-wrapper {
        width: 30%;
      }
    }

    /* ========================================
       NAVIGATION LINKS (Bottom Right)
       ======================================== */
    .nav {
      position: fixed;
      bottom: 35px;
      right: 25px;
      z-index: 10000;
    }
    .nav a {
      color:#5af2ff;
      margin-left:25px;
      font-size:20px;
      text-decoration:none;
      text-shadow:0 0 10px #00eaff;
      transition:opacity .3s;
      font-family: 'Orbitron', sans-serif;
    }
    .nav a:hover { opacity:0.6; }

    /* ========================================
       VOICE BUTTON - MAIN STYLES
       Color: HOT PINK (#FF1B8D)
       ======================================== */
    #voice-button {
      position: fixed;
      left: 50%;
      bottom: 35%;
      transform: translateX(-50%);
      width: 120px;
      height: 120px;
      border-radius: 50%;
      border: none;
      cursor: pointer;

      /* HOT PINK GRADIENT - Adjust these values to change button color */
      background: radial-gradient(
        circle at 35% 35%, 
        #FFB8E0,      /* Light pink (top-left highlight) */
        #FF1B8D 40%,  /* Main hot pink */
        #D91677 70%,  /* Medium dark pink */
        #B01261       /* Dark pink (bottom shadow) */
      );

      /* 3D DEPTH SHADOWS - Creates realistic sphere effect */
      box-shadow: 
        /* Outer glow - hot pink */
        0 10px 40px rgba(255, 27, 141, 0.55),
        /* Drop shadows for depth */
        0 15px 25px rgba(0, 0, 0, 0.5),
        0 5px 10px rgba(0, 0, 0, 0.3),
        /* Bottom inset shadow (dark) */
        inset 0 -15px 30px rgba(0, 0, 0, 0.4),
        inset 0 -5px 15px rgba(0, 0, 0, 0.25),
        /* Top inset highlight (light) */
        inset 0 15px 30px rgba(255, 255, 255, 0.3),
        inset 2px 2px 8px rgba(255, 255, 255, 0.4),
        /* Teal border ring */
        inset 0 0 0 4px rgba(0, 230, 255, 0.6);

      transition: all 0.6s ease;
      z-index: 9999;
      color: white;
      font-weight: bold;
      font-family: 'Orbitron', sans-serif;
      animation: softPulse 3s ease-in-out infinite;
      overflow: hidden;
      opacity: 0.81; /* Resting brightness: 81% */
    }

    /* Mobile: Smaller button, adjusted position */
    @media (max-width: 768px) {
      #voice-button {
        width: 100px;
        height: 100px;
        bottom: 40%;
      }
    }

    /* Mobile landscape: Adjust position */
    @media (max-width: 768px) and (orientation: landscape) {
      #voice-button {
        bottom: 45%;
      }
    }

    /* ========================================
       SPINNING GLOBE LINES EFFECT
       ======================================== */
    #voice-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 300%;
      height: 100%;
      /* Vertical lines pattern */
      background: repeating-linear-gradient(
        90deg,
        transparent,
        transparent 18px,
        rgba(255, 255, 255, 0.08) 18px, /* Line opacity */
        rgba(255, 255, 255, 0.08) 20px  /* Line width */
      );
      border-radius: 50%;
      animation: globeSpin 15s linear infinite; /* Speed: 15 seconds */
      pointer-events: none;
      z-index: 1;
      /* Fade at edges for sphere effect */
      mask-image: radial-gradient(circle, black 45%, transparent 70%);
      -webkit-mask-image: radial-gradient(circle, black 45%, transparent 70%);
    }

    /* ========================================
       WIGGLING ANIMATED RING
       ======================================== */
    #voice-button::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      height: 100%;
      border-radius: 50%;
      /* Ring gradient - adjust color here */
      background: radial-gradient(
        circle, 
        transparent 20%,              /* Inner transparent */
        rgba(217, 22, 119, 0.4) 40%,  /* Hot pink ring color */
        transparent 60%                /* Outer fade */
      );
      /* Two animations: pulse in/out + wiggle */
      animation: 
        ringStrobe 8s ease-in-out infinite,      /* 8s pulse */
        ringWiggle 0.2s ease-in-out infinite alternate; /* Fast wiggle */
      pointer-events: none;
      z-index: 3;
    }

    /* ========================================
       HOVER STATE
       ======================================== */
    #voice-button:hover {
      transform: translateX(-50%) scale(1.03); /* Subtle 3% expansion */
      opacity: 0.60; /* Hover brightness: 60% */
      box-shadow: 
        0 10px 50px rgba(255, 27, 141, 0.65),
        0 18px 30px rgba(0, 0, 0, 0.55),
        0 6px 12px rgba(0, 0, 0, 0.35),
        inset 0 -15px 30px rgba(0, 0, 0, 0.4),
        inset 0 -5px 15px rgba(0, 0, 0, 0.25),
        inset 0 15px 30px rgba(255, 255, 255, 0.35),
        inset 2px 2px 8px rgba(255, 255, 255, 0.45),
        inset 0 0 0 4px rgba(0, 230, 255, 0.6);
    }

    /* Disable hover on touch devices */
    @media (hover: none) {
      #voice-button:hover {
        transform: translateX(-50%) scale(1);
        opacity: 0.81;
      }
    }

    /* ========================================
       LISTENING STATE (Active/Connected)
       ======================================== */
    #voice-button.listening { 
      animation: tealPulse 3s ease-in-out infinite;
      opacity: 1.0; /* Connected brightness: 100% */
    }
    
    /* ========================================
       ANIMATION: SOFT PULSE (Resting)
       ======================================== */
    @keyframes softPulse {
      0%, 100% { 
        box-shadow: 0 10px 40px rgba(255, 27, 141, 0.45),
                    0 15px 25px rgba(0, 0, 0, 0.5),
                    0 5px 10px rgba(0, 0, 0, 0.3),
                    inset 0 -15px 30px rgba(0, 0, 0, 0.4),
                    inset 0 -5px 15px rgba(0, 0, 0, 0.25),
                    inset 0 15px 30px rgba(255, 255, 255, 0.3),
                    inset 2px 2px 8px rgba(255, 255, 255, 0.4);
      }
      50% { 
        box-shadow: 0 10px 50px rgba(255, 27, 141, 0.6),
                    0 15px 25px rgba(0, 0, 0, 0.5),
                    0 5px 10px rgba(0, 0, 0, 0.3),
                    inset 0 -15px 30px rgba(0, 0, 0, 0.4),
                    inset 0 -5px 15px rgba(0, 0, 0, 0.25),
                    inset 0 15px 30px rgba(255, 255, 255, 0.3),
                    inset 2px 2px 8px rgba(255, 255, 255, 0.4);
      }
    }
    
    /* ========================================
       ANIMATION: TEAL PULSE (Listening)
       ======================================== */
    @keyframes tealPulse {
      0%,100% { 
        box-shadow:0 10px 40px rgba(255, 27, 141, 0.55),
                   0 15px 25px rgba(0, 0, 0, 0.5),
                   0 5px 10px rgba(0, 0, 0, 0.3),
                   inset 0 -15px 30px rgba(0, 0, 0, 0.4),
                   inset 0 -5px 15px rgba(0, 0, 0, 0.25),
                   inset 0 15px 30px rgba(255, 255, 255, 0.3),
                   inset 2px 2px 8px rgba(255, 255, 255, 0.4);
      }
      50% { 
        box-shadow:0 10px 70px rgba(255, 27, 141, 0.85),
                   0 15px 25px rgba(0, 0, 0, 0.5),
                   0 5px 10px rgba(0, 0, 0, 0.3),
                   inset 0 -15px 30px rgba(0, 0, 0, 0.4),
                   inset 0 -5px 15px rgba(0, 0, 0, 0.25),
                   inset 0 15px 30px rgba(255, 255, 255, 0.3),
                   inset 2px 2px 8px rgba(255, 255, 255, 0.4);
      }
    }

    /* ========================================
       ANIMATION: RING PULSE (In/Out)
       ======================================== */
    @keyframes ringStrobe {
      0% { 
        width: 100%;  /* Start at button edge */
        height: 100%;
        opacity: 1;
      }
      50% { 
        width: 0%;    /* Collapse to center */
        height: 0%;
        opacity: 1;
      }
      100% { 
        width: 100%;  /* Expand back to edge */
        height: 100%;
        opacity: 1;
      }
    }

    /* ========================================
       ANIMATION: RING WIGGLE (Organic movement)
       ======================================== */
    @keyframes ringWiggle {
      0% { 
        border-radius: 50% 48% 52% 50% / 50% 52% 48% 50%;
      }
      25% { 
        border-radius: 52% 50% 48% 50% / 48% 50% 52% 50%;
      }
      50% { 
        border-radius: 50% 52% 50% 48% / 52% 48% 50% 50%;
      }
      75% { 
        border-radius: 48% 50% 50% 52% / 50% 50% 48% 52%;
      }
      100% { 
        border-radius: 50% 48% 52% 50% / 50% 52% 48% 50%;
      }
    }

    /* ========================================
       ANIMATION: GLOBE SPIN (Scrolling lines)
       ======================================== */
    @keyframes globeSpin {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(33.33%); /* Moves 1/3 width for seamless loop */
      }
    }

    /* ========================================
       EXTERNAL STATIC BORDER RING (Teal)
       ======================================== */
    #voice-button-border {
      position: fixed;
      left: 50%;
      bottom: calc(35% - 8px); /* Offset to center with button */
      transform: translateX(-50%);
      width: 136px;
      height: 136px;
      border-radius: 50%;
      border: 4px solid rgba(0, 230, 255, 0.6); /* Teal border */
      pointer-events: none;
      z-index: 9998; /* Below button */
    }

    /* Mobile: Smaller border */
    @media (max-width: 768px) {
      #voice-button-border {
        width: 116px;
        height: 116px;
        bottom: calc(40% - 8px);
      }
    }

    /* ========================================
       STATUS TEXT (Bottom Center)
       ======================================== */
    .status {
      position: fixed;
      left: 50%;
      bottom: 25%;
      transform: translateX(-50%);
      color: #5af2ff;
      font-size: 22px;
      text-shadow: 0 0 10px #00eaff;
      z-index: 9999;
      text-align: center;
      font-family: 'Orbitron', sans-serif;
      white-space: nowrap; /* Prevent text wrapping */
    }

    /* Mobile: Smaller status text, allow wrapping */
    @media (max-width: 768px) {
      .status {
        font-size: 16px;
        bottom: 28%;
        white-space: normal;
        max-width: 80%;
      }
    }
  </style>
</head>

<body>

  <!-- TITLE -->
  <div class="brand">GlowbotsLive</div>

  <!-- WHITE STRIP -->
  <div class="white-strip">
    <div id="firstPara" class="typewriter"></div>
    <div id="phoneNumbers" class="phone-numbers">510-555-9999 &nbsp;&nbsp;&nbsp; 530-555-1234</div>
    <div id="secondPara" class="second-paragraph"></div>
  </div>

  <div class="bot-wrapper">
    <img src="glowbot.png" class="bot-img" alt="Glowbot">
  </div>

  <!-- NAVIGATION -->
  <div class="nav">
    <a href="index.html">Neon9</a>
    <a href="service.html">Kelly5</a>
    <a href="admin.html">Sony6</a>
  </div>

  <!-- VOICE BUTTON -->
  <div id="voice-button-border"></div>
  <button id="voice-button"></button>
  <div class="status" id="status">Push to speak to Kelly5</div>

  <!-- VAPI SDK -->
  <script src="https://cdn.jsdelivr.net/gh/balacodeio/Vapi-Web-UMD@latest/dist/latest/vapi-web-bundle.min.js"></script>

  <script>
    /* ========================================
       TYPEWRITER ANIMATION
       Displays informational text in white strip
       ======================================== */
    
    // First paragraph text
    const firstText = `Kelly5 works for a watercraft shop will ask you for your phone number so she can help you with your watercraft. use one of the numbers below to test the system.`;

    // Second paragraph text (displayed after first)
    const secondText = `you can ask her all the questions your clients will. is it done. when will it be done. how much. did the parts get ordered?, what did the mecanic say? how much are the parts ?`;

    const firstPara = document.getElementById("firstPara");
    const secondPara = document.getElementById("secondPara");
    const phoneNumbers = document.getElementById("phoneNumbers");

    // Type out first paragraph character by character
    let i = 0;
    function typeFirst() {
      if (i < firstText.length) {
        firstPara.textContent += firstText.charAt(i);
        i++;
        // Random delay between 20-140ms for natural effect
        setTimeout(typeFirst, Math.random()*120+20);
      } else {
        // Wait 1 second after completion, then fade out
        setTimeout(() => {
          firstPara.style.transition = "transform 1s ease, opacity 1s ease";
          firstPara.style.transform = "translateY(-100%)";
          firstPara.style.opacity = 0;

          // Fade in phone numbers as first paragraph scrolls up
          setTimeout(() => {
            phoneNumbers.style.opacity = 1;
          }, 500);

          // Start second paragraph after phone numbers appear
          setTimeout(typeSecond, 1000);
        }, 1000);
      }
    }

    // Type out second paragraph
    let j = 0;
    function typeSecond() {
      secondPara.style.display = "block";
      secondPara.style.opacity = "1";
      
      function typeChar() {
        if (j < secondText.length) {
          secondPara.textContent += secondText.charAt(j);
          j++;
          // Random delay between 20-120ms
          setTimeout(typeChar, Math.random()*100+20);
        } else {
          // After typing finishes, wait 2s then scroll up
          setTimeout(() => {
            secondPara.style.transition = "transform 2s ease, opacity 1s ease";
            secondPara.style.transform = "translateY(-100%)";
            secondPara.style.opacity = 0;
          }, 2000);
        }
      }
      typeChar();
    }

    // Start first paragraph after 800ms delay
    setTimeout(typeFirst, 800);

    /* ========================================
       VAPI VOICE CONNECTION
       Handles voice button and call states
       ======================================== */
    
    let vapi = null;
    const button = document.getElementById("voice-button");
    const status = document.getElementById("status");

    /* ----------------------------------------
       TYPEWRITER EFFECT FOR STATUS TEXT
       ---------------------------------------- */
    
    // Type out status text character by character
    function typeStatus(text, callback) {
      status.style.opacity = 1;
      status.textContent = "";
      let i = 0;
      
      function type() {
        if (i < text.length) {
          status.textContent += text.charAt(i);
          i++;
          setTimeout(type, 50); // 50ms per character
        } else if (callback) {
          callback(); // Run callback when done
        }
      }
      type();
    }

    // Fade out current text, then type new text
    function fadeAndType(text, callback) {
      status.style.transition = "opacity 0.4s ease";
      status.style.opacity = 0;
      
      // Wait for fade out to complete
      setTimeout(() => {
        typeStatus(text, callback);
      }, 400);
    }

    /* ----------------------------------------
       VAPI INITIALIZATION & EVENT HANDLERS
       ---------------------------------------- */
    
    function initVapi() {
      if (window.Vapi) {
        // Initialize with your API key
        vapi = new window.Vapi("b66ad6e7-ec9d-421c-88b7-157068b27f6d");
        
        // Set initial resting message
        typeStatus("Push to speak to Kelly5");

        // EVENT: Call connected successfully
        vapi.on("call-start", () => {
          button.classList.add("listening"); // Changes to 100% opacity
          fadeAndType("CONNECTED");
        });

        // EVENT: Call ended
        vapi.on("call-end", () => {
          button.classList.remove("listening"); // Returns to 81% opacity
          fadeAndType("Chat ended...", () => {
            // After 2 seconds, return to initial message
            setTimeout(() => {
              fadeAndType("Push to speak to Kelly5");
            }, 2000);
          });
        });
      }
    }

    // Initialize VAPI when page loads
    document.addEventListener("DOMContentLoaded", initVapi);

    /* ----------------------------------------
       BUTTON CLICK HANDLER
       ---------------------------------------- */
    
    button.addEventListener("click", () => {
      if (!vapi) return; // Safety check

      if (button.classList.contains("listening")) {
        // If already connected, hang up
        vapi.stop();
      } else {
        // Start new call
        fadeAndType("CONNECTING..."); // Show connecting message immediately
        vapi.start("78a7055c-03c4-4d29-8621-b2bf2b7333ad"); // Your assistant ID
      }
    });
  </script>

</body>
</html>
