<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Settings</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <meta name="supabase-anon-key"
    content="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt4cWt3cGttdGd2bXRocGFmb3F4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NDI1OTQsImV4cCI6MjA4MTAxODU5NH0.GT9pOMqrUr1EvVLh1magyoB4I_LprziRaybKsGHhrX4" />

  <style>
    /* ================= EXISTING STYLES (UNCHANGED) ================= */
    body { margin:0; padding:0; font-family:system-ui; background:#0b0f14; color:#e8eef6; }
    h1 { margin:0; font-size:40px; }
    h2 { margin:18px 0 10px; font-size:18px; }
    button {
      padding:8px 14px;border-radius:10px;border:1px solid #2a3b55;
      background:#1a2535;color:#fff;cursor:pointer;
    }
    button:hover { background:#243648; }
    .card {
      background:#0f1621;border:1px solid #223044;border-radius:14px;
      padding:20px;margin-bottom:16px;
    }
    .accordion-header {
      display:flex;justify-content:space-between;align-items:center;
      cursor:pointer;background:none;border:none;width:100%;
    }
    .accordion-icon { color:#9fb0c3; transition:transform .2s; }
    .accordion-header.active .accordion-icon { transform:rotate(180deg); }
    .accordion-content { max-height:0; overflow:hidden; transition:max-height .3s ease; }
    .accordion-content.active { max-height:5000px; }
    .accordion-inner { padding-top:16px; }
    .setting-description { font-size:12px;color:#9fb0c3; }

    /* ================= THEME PICKER (ADDED ONLY) ================= */
    .theme-grid {
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(90px,1fr));
      gap:12px;
      margin-top:12px;
    }
    .theme-swatch {
      height:48px;
      border-radius:10px;
      border:2px solid #223044;
      cursor:pointer;
      transition:transform .15s,border-color .15s;
    }
    .theme-swatch:hover { transform:scale(1.05); border-color:#3b82f6; }
    .theme-swatch.active {
      border-color:#3b82f6;
      box-shadow:0 0 0 2px rgba(59,130,246,.4);
    }
  </style>
</head>

<body>

<div style="padding:24px;">

  <!-- ================= THEME PICKER CARD (ADDED ONLY) ================= -->
  <div class="card">
    <button class="accordion-header" onclick="toggleAccordion(this)">
      <h2>Appearance & Theme</h2>
      <span class="accordion-icon">â–¼</span>
    </button>
    <div class="accordion-content">
      <div class="accordion-inner">
        <div class="setting-description">
          Choose your interface theme. Saved automatically.
        </div>

        <div class="theme-grid" id="themeGrid">
          <!-- Dark -->
          <div class="theme-swatch" data-theme="dark-blue" style="background:#0b0f14"></div>
          <div class="theme-swatch" data-theme="dark-green" style="background:#0b1410"></div>
          <div class="theme-swatch" data-theme="dark-purple" style="background:#120b14"></div>
          <div class="theme-swatch" data-theme="dark-teal" style="background:#0b1414"></div>
          <div class="theme-swatch" data-theme="dark-crimson" style="background:#140b0b"></div>
          <div class="theme-swatch" data-theme="dark-gray" style="background:#111827"></div>

          <!-- Light -->
          <div class="theme-swatch" data-theme="light-blue" style="background:#eaf2ff"></div>
          <div class="theme-swatch" data-theme="light-green" style="background:#ecfdf5"></div>
          <div class="theme-swatch" data-theme="light-purple" style="background:#f5f3ff"></div>
          <div class="theme-swatch" data-theme="light-teal" style="background:#f0fdfa"></div>
          <div class="theme-swatch" data-theme="light-crimson" style="background:#fef2f2"></div>
          <div class="theme-swatch" data-theme="light-gray" style="background:#f3f4f6"></div>
        </div>
      </div>
    </div>
  </div>

</div>

<script>
/* ================= EXISTING FUNCTION ================= */
function toggleAccordion(btn){
  const content = btn.nextElementSibling;
  btn.classList.toggle('active');
  content.classList.toggle('active');
}

/* ================= THEME PICKER LOGIC (ADDED ONLY) ================= */
(function(){
  const swatches = document.querySelectorAll('.theme-swatch');
  const saved = localStorage.getItem('wl_theme') || 'dark-blue';

  applyTheme(saved);

  swatches.forEach(s => {
    if (s.dataset.theme === saved) s.classList.add('active');
    s.onclick = () => {
      swatches.forEach(x => x.classList.remove('active'));
      s.classList.add('active');
      localStorage.setItem('wl_theme', s.dataset.theme);
      applyTheme(s.dataset.theme);
    };
  });
})();

function applyTheme(theme){
  document.documentElement.setAttribute('data-theme', theme);
}
</script>

</body>
</html>
