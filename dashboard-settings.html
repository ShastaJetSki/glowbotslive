<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Settings</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="supabase-anon-key" content="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt4cWt3cGttdGd2bXRocGFmb3F4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NDI1OTQsImV4cCI6MjA4MTAxODU5NH0.GT9pOMqrUr1EvVLh1magyoB4I_LprziRaybKsGHhrX4" />
  <link rel="stylesheet" href="theme-system.css">
  <style>
    /* ===== INLINE THEME DEFINITIONS (backup) ===== */
    :root {
      --bg-primary: #0b0f14; --bg-secondary: #0f1621; --bg-card: #1a2535; --bg-hover: #223044;
      --border-default: #223044; --text-primary: #e8eef6; --text-secondary: #9fb0c3;
      --accent-primary: #3b82f6; --accent-light: #60a5fa;
    }
    [data-theme="dark-blue"] {
      --bg-primary: #0b0f14; --bg-secondary: #0f1621; --bg-card: #1a2535; --bg-hover: #223044;
      --border-default: #223044; --text-primary: #e8eef6; --text-secondary: #9fb0c3;
      --accent-primary: #3b82f6; --accent-light: #60a5fa;
    }
    [data-theme="grey"] {
      --bg-primary: #111111; --bg-secondary: #1a1a1a; --bg-card: #242424; --bg-hover: #2e2e2e;
      --border-default: #333333; --text-primary: #e5e5e5; --text-secondary: #a3a3a3;
      --accent-primary: #525252; --accent-light: #737373;
    }
    [data-theme="slate"] {
      --bg-primary: #0f172a; --bg-secondary: #1e293b; --bg-card: #273549; --bg-hover: #334155;
      --border-default: #334155; --text-primary: #f1f5f9; --text-secondary: #94a3b8;
      --accent-primary: #6366f1; --accent-light: #818cf8;
    }
    [data-theme="charcoal"] {
      --bg-primary: #121214; --bg-secondary: #18181b; --bg-card: #27272a; --bg-hover: #3f3f46;
      --border-default: #3f3f46; --text-primary: #fafafa; --text-secondary: #a1a1aa;
      --accent-primary: #a1a1aa; --accent-light: #d4d4d8;
    }
    [data-theme="midnight"] {
      --bg-primary: #09090b; --bg-secondary: #0f0f12; --bg-card: #18181d; --bg-hover: #222228;
      --border-default: #27272f; --text-primary: #eeeef0; --text-secondary: #9898a4;
      --accent-primary: #8b5cf6; --accent-light: #a78bfa;
    }
    [data-theme="navy"] {
      --bg-primary: #0a0e1a; --bg-secondary: #0f1526; --bg-card: #182035; --bg-hover: #1f2a45;
      --border-default: #253352; --text-primary: #e8ecf4; --text-secondary: #9aa5bd;
      --accent-primary: #4a7cc9; --accent-light: #6b9ae0;
    }
    [data-theme="graphite"] {
      --bg-primary: #0d0d0d; --bg-secondary: #141414; --bg-card: #1f1f1f; --bg-hover: #292929;
      --border-default: #2e2e2e; --text-primary: #e8e8e8; --text-secondary: #999999;
      --accent-primary: #4a9eff; --accent-light: #6bb3ff;
    }
    [data-theme="ocean"] {
      --bg-primary: #0a1214; --bg-secondary: #0e181c; --bg-card: #152228; --bg-hover: #1c2d35;
      --border-default: #243842; --text-primary: #e5f0f3; --text-secondary: #8faab5;
      --accent-primary: #14b8a6; --accent-light: #2dd4bf;
    }
    [data-theme="forest"] {
      --bg-primary: #0a100c; --bg-secondary: #0f1812; --bg-card: #16221a; --bg-hover: #1e2e24;
      --border-default: #263830; --text-primary: #e5f0e8; --text-secondary: #8faa96;
      --accent-primary: #22c55e; --accent-light: #4ade80;
    }
    [data-theme="obsidian"] {
      --bg-primary: #050505; --bg-secondary: #0a0a0a; --bg-card: #141414; --bg-hover: #1c1c1c;
      --border-default: #252525; --text-primary: #e0e0e0; --text-secondary: #888888;
      --accent-primary: #0ea5e9; --accent-light: #38bdf8;
    }
    [data-theme="steel"] {
      --bg-primary: #0c0f13; --bg-secondary: #12161c; --bg-card: #1a2028; --bg-hover: #242c38;
      --border-default: #2c3644; --text-primary: #e4e8ed; --text-secondary: #8b95a5;
      --accent-primary: #64748b; --accent-light: #94a3b8;
    }
    [data-theme="espresso"] {
      --bg-primary: #0f0c0a; --bg-secondary: #161210; --bg-card: #211c18; --bg-hover: #2c2520;
      --border-default: #382f28; --text-primary: #f0ebe5; --text-secondary: #a89e94;
      --accent-primary: #a78b6e; --accent-light: #c4a88a;
    }
    [data-theme="onyx"] {
      --bg-primary: #000000; --bg-secondary: #080808; --bg-card: #121212; --bg-hover: #1a1a1a;
      --border-default: #222222; --text-primary: #f5f5f5; --text-secondary: #8c8c8c;
      --accent-primary: #06b6d4; --accent-light: #22d3ee;
    }
    /* Light Themes */
    [data-theme="light-blue"] {
      --bg-primary: #f8fafc; --bg-secondary: #f1f5f9; --bg-card: #ffffff; --bg-hover: #e2e8f0;
      --border-default: #cbd5e1; --text-primary: #0f172a; --text-secondary: #475569;
      --accent-primary: #2563eb; --accent-light: #3b82f6;
    }
    [data-theme="light-grey"] {
      --bg-primary: #fafafa; --bg-secondary: #f5f5f5; --bg-card: #ffffff; --bg-hover: #e5e5e5;
      --border-default: #d4d4d4; --text-primary: #171717; --text-secondary: #525252;
      --accent-primary: #404040; --accent-light: #525252;
    }
    [data-theme="light-slate"] {
      --bg-primary: #f8fafc; --bg-secondary: #f1f5f9; --bg-card: #ffffff; --bg-hover: #e2e8f0;
      --border-default: #cbd5e1; --text-primary: #0f172a; --text-secondary: #475569;
      --accent-primary: #4f46e5; --accent-light: #6366f1;
    }
    [data-theme="light-ocean"] {
      --bg-primary: #f0fdfa; --bg-secondary: #ccfbf1; --bg-card: #ffffff; --bg-hover: #99f6e4;
      --border-default: #5eead4; --text-primary: #134e4a; --text-secondary: #0f766e;
      --accent-primary: #0d9488; --accent-light: #14b8a6;
    }
    [data-theme="light-forest"] {
      --bg-primary: #f0fdf4; --bg-secondary: #dcfce7; --bg-card: #ffffff; --bg-hover: #bbf7d0;
      --border-default: #86efac; --text-primary: #14532d; --text-secondary: #166534;
      --accent-primary: #16a34a; --accent-light: #22c55e;
    }
    [data-theme="light-midnight"] {
      --bg-primary: #faf5ff; --bg-secondary: #f3e8ff; --bg-card: #ffffff; --bg-hover: #e9d5ff;
      --border-default: #d8b4fe; --text-primary: #1e1b4b; --text-secondary: #5b21b6;
      --accent-primary: #7c3aed; --accent-light: #8b5cf6;
    }
    [data-theme="light-obsidian"] {
      --bg-primary: #f0f9ff; --bg-secondary: #e0f2fe; --bg-card: #ffffff; --bg-hover: #bae6fd;
      --border-default: #7dd3fc; --text-primary: #0c4a6e; --text-secondary: #0369a1;
      --accent-primary: #0284c7; --accent-light: #0ea5e9;
    }
    [data-theme="light-espresso"] {
      --bg-primary: #fefcfb; --bg-secondary: #fdf4ef; --bg-card: #ffffff; --bg-hover: #f5e6db;
      --border-default: #ddc9b8; --text-primary: #3d2c1e; --text-secondary: #6b5344;
      --accent-primary: #8b6f4e; --accent-light: #a78b6e;
    }
    [data-theme="light-graphite"] {
      --bg-primary: #fafafa; --bg-secondary: #f5f5f5; --bg-card: #ffffff; --bg-hover: #ebebeb;
      --border-default: #d1d1d1; --text-primary: #1a1a1a; --text-secondary: #4a4a4a;
      --accent-primary: #2196f3; --accent-light: #42a5f5;
    }
    [data-theme="light-onyx"] {
      --bg-primary: #ecfeff; --bg-secondary: #cffafe; --bg-card: #ffffff; --bg-hover: #a5f3fc;
      --border-default: #67e8f9; --text-primary: #164e63; --text-secondary: #0e7490;
      --accent-primary: #0891b2; --accent-light: #06b6d4;
    }
    [data-theme="light-steel"] {
      --bg-primary: #f8fafc; --bg-secondary: #f1f5f9; --bg-card: #ffffff; --bg-hover: #e2e8f0;
      --border-default: #cbd5e1; --text-primary: #1e293b; --text-secondary: #475569;
      --accent-primary: #475569; --accent-light: #64748b;
    }
    [data-theme="light-navy"] {
      --bg-primary: #f0f4ff; --bg-secondary: #e0e7ff; --bg-card: #ffffff; --bg-hover: #c7d2fe;
      --border-default: #a5b4fc; --text-primary: #1e1b4b; --text-secondary: #3730a3;
      --accent-primary: #3949ab; --accent-light: #5c6bc0;
    }
    [data-theme="light-charcoal"] {
      --bg-primary: #fafafa; --bg-secondary: #f4f4f5; --bg-card: #ffffff; --bg-hover: #e4e4e7;
      --border-default: #d4d4d8; --text-primary: #18181b; --text-secondary: #52525b;
      --accent-primary: #71717a; --accent-light: #a1a1aa;
    }
    /* ===== END THEME DEFINITIONS ===== */
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { background: var(--bg-primary, #0b0f14); }
    body { font-family: system-ui; background: var(--bg-primary, #0b0f14); color: var(--text-primary, #e8eef6); padding-bottom: 120px; }
    
    h1 { margin: 0; font-size: 32px; font-weight: 600; }
    h2 { margin: 0; font-size: 18px; font-weight: 700; }

    button {
      padding: 8px 14px; border-radius: 8px;
      border: 1px solid var(--border-default, #223044);
      background: var(--bg-card, #1a2535);
      color: var(--text-primary, #e8eef6);
      cursor: pointer; white-space: nowrap; font-size: 13px;
    }
    button:hover { background: var(--bg-hover, #223044); }

    .card {
      background: var(--bg-secondary, #0f1621);
      border: 1px solid var(--border-default, #223044);
      border-radius: 12px; padding: 20px; margin-bottom: 16px;
    }

    .setting-row {
      display: flex; justify-content: space-between; align-items: center;
      padding: 12px 0; border-bottom: 1px solid var(--border-default, #223044);
    }
    .setting-row:last-child { border-bottom: none; }

    .setting-label { font-size: 14px; font-weight: 500; }
    .setting-description { font-size: 12px; color: var(--text-secondary, #9fb0c3); margin-top: 4px; }

    input[type="text"], input[type="number"], input[type="email"], input[type="tel"], input[type="file"], input[type="date"], select {
      padding: 8px 12px; border-radius: 8px;
      border: 1px solid var(--border-default, #223044);
      background: var(--bg-card, #1a2535);
      color: var(--text-primary, #e8eef6); width: 200px; font-size: 14px;
    }
    input[type="date"]::-webkit-calendar-picker-indicator { filter: invert(1); cursor: pointer; }
    [data-theme^="light-"] input[type="date"]::-webkit-calendar-picker-indicator { filter: none; }
    input[type="file"] { padding: 6px 12px; font-size: 12px; }
    input:focus, select:focus { outline: none; border-color: var(--accent-primary, #3b82f6); }

    .save-btn {
      background: color-mix(in srgb, var(--accent-primary) 60%, transparent);
      border-color: var(--accent-primary, #3b82f6);
      margin-top: 16px; color: var(--text-primary); padding: 10px 20px;
    }
    .save-btn:hover { background: color-mix(in srgb, var(--accent-primary) 75%, transparent); }

    .success { color: #4ade80; font-size: 12px; margin-top: 8px; }
    .error { color: #ef4444; font-size: 12px; margin-top: 8px; }

    .employee-grid {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 16px; margin-top: 16px;
    }

    .employee-card {
      background: var(--bg-primary, #0b0f14);
      border: 1px solid var(--border-default, #223044);
      border-radius: 12px; padding: 16px; text-align: center;
    }

    .employee-avatar-preview {
      width: 100px; height: 100px; border-radius: 12px;
      border: 2px solid var(--border-default, #223044);
      background: var(--bg-secondary, #0f1621);
      margin: 0 auto 12px; display: flex; align-items: center; justify-content: center;
      font-weight: 700; font-size: 32px; color: var(--text-primary, #e8eef6);
      overflow: hidden; background-size: cover; background-position: center;
      cursor: pointer; transition: all 0.2s ease; position: relative;
    }
    .employee-avatar-preview:hover {
      border-color: var(--accent-primary, #3b82f6);
      transform: scale(1.05); box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent-primary) 20%, transparent);
    }

    .employee-name { font-size: 14px; font-weight: 600; margin-bottom: 4px; }
    .employee-role { font-size: 11px; color: var(--text-secondary, #9fb0c3); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 12px; }

    .employee-stats { margin-top: 12px; padding-top: 12px; border-top: 1px solid var(--border-default, #223044); text-align: left; }
    .stat-row { display: flex; justify-content: space-between; margin-bottom: 6px; font-size: 11px; }
    .stat-label { color: var(--text-secondary, #9fb0c3); }
    .stat-value { color: var(--text-primary, #e8eef6); font-weight: 600; }

    .accordion-header {
      display: flex; justify-content: space-between; align-items: center;
      cursor: pointer; padding: 0; background: transparent;
      border: none; width: 100%; text-align: left;
    }
    .accordion-icon { font-size: 20px; color: var(--text-secondary, #9fb0c3); transition: transform 0.2s ease; }
    .accordion-header.active .accordion-icon { transform: rotate(180deg); }
    .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; }
    .accordion-content.active { max-height: 5000px; }
    .accordion-inner { padding-top: 16px; }

    .icon-nav-bar {
      display: flex; gap: 6px; margin-top: 12px; padding: 6px;
      background: color-mix(in srgb, var(--bg-secondary) 50%, transparent); border-radius: 10px;
      border: 1px solid var(--border-default, #223044);
    }
    .icon-nav-btn {
      flex: 1; height: 36px; display: flex; align-items: center; justify-content: center;
      border-radius: 6px; border: 1px solid transparent;
      cursor: pointer; transition: all 0.15s ease; background: transparent; padding: 0;
    }
    .icon-nav-primary { color: var(--text-secondary); }
    .icon-nav-primary:hover { background: color-mix(in srgb, var(--accent-primary) 10%, transparent); border-color: var(--accent-primary, #3b82f6); color: var(--accent-primary, #3b82f6); }
    .icon-nav-danger { color: var(--text-secondary); }
    .icon-nav-danger:hover { background: color-mix(in srgb, #ef4444 10%, transparent); border-color: #ef4444; color: #ef4444; }
    .icon-nav-btn:active { transform: scale(0.95); }
    input[type="file"].hidden { display: none; }

    /* Desktop Header */
    .desktop-header {
      position: sticky; top: 0; z-index: 100;
      background: var(--bg-primary, #0b0f14);
      border-bottom: 1px solid var(--border-default, #223044);
    }

    /* Mobile Top Header */
    .mobile-top-header {
      display: none; position: sticky; top: 0; z-index: 100;
      background: var(--bg-secondary, #0f1621);
      border-bottom: 1px solid var(--border-default, #223044);
    }
    .mobile-header-bar {
      display: flex; justify-content: space-between; align-items: center; padding: 12px;
    }
    .mobile-menu-toggle {
      background: transparent; border: 1px solid transparent;
      border-radius: 6px; color: var(--text-secondary, #6b7280); font-size: 20px;
      padding: 0; width: 36px; height: 36px; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
    }
    .mobile-header-center { flex: 1; margin-left: 12px; }
    .mobile-header-title { font-size: 18px; font-weight: 600; }
    .mobile-header-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; }
    .mobile-header-content.expanded { max-height: 200px; }
    .mobile-header-actions {
      display: grid; grid-template-columns: repeat(3, 1fr);
      gap: 8px; padding: 8px 12px 12px;
      background: var(--bg-primary, #0b0f14);
      border-top: 1px solid var(--border-default, #223044);
    }
    .mobile-header-actions button {
      padding: 10px; font-size: 13px;
      background: color-mix(in srgb, var(--accent-primary) 10%, transparent);
      border: 1px solid color-mix(in srgb, var(--accent-primary) 30%, transparent);
      color: var(--accent-light, #60a5fa); border-radius: 8px;
    }

    /* ========== MOBILE BOTTOM NAV ========== */
    .mobile-bottom-nav {
      display: none; position: fixed;
      bottom: 0; left: 0; right: 0;
      background: var(--bg-secondary, #0f1621); padding: 8px; z-index: 100;
    }
    .mobile-nav-grid {
      display: grid; grid-template-columns: repeat(4, 1fr);
      gap: 6px; margin-bottom: 6px;
    }
    .mobile-nav-secondary {
      display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px;
    }
    .mobile-nav-btn {
      padding: 10px 8px; border-radius: 8px;
      border: 1px solid var(--border-default, #223044); 
      background: var(--bg-card, #1a2535);
      color: var(--text-secondary, #9fb0c3); font-size: 12px; font-weight: 600;
      cursor: pointer; text-decoration: none;
      display: flex; align-items: center; justify-content: center;
      min-height: 44px;
    }
    .mobile-nav-btn.active { 
      background: color-mix(in srgb, var(--accent-primary) 60%, transparent);
      border-color: var(--accent-primary, #3b82f6); 
      color: var(--text-primary);
    }
    .mobile-nav-btn.related {
      background: color-mix(in srgb, var(--accent-primary) 10%, transparent);
      border-color: color-mix(in srgb, var(--accent-primary) 30%, transparent);
      color: var(--text-primary);
    }
    /* ========== END MOBILE BOTTOM NAV ========== */

    /* Theme Cards */
    .theme-card {
      background: var(--bg-secondary, #0f1621);
      border: 2px solid var(--border-default, #223044);
      border-radius: 10px; padding: 12px; cursor: pointer;
      text-align: center; transition: all 0.2s;
    }
    .theme-card:hover { border-color: var(--text-secondary, #9fb0c3); }
    .theme-card.active { border-color: var(--accent-primary, #3b82f6); box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent-primary) 20%, transparent); }

    @media (max-width: 768px) {
      .desktop-header { display: none !important; }
      .mobile-top-header { display: block; }
      .mobile-bottom-nav { display: block !important; }
      h1 { font-size: 24px !important; }
      .setting-row { flex-direction: column; align-items: flex-start; gap: 8px; }
      input[type="text"], input[type="number"], input[type="email"], input[type="tel"], input[type="file"], select { width: 100%; }
      .employee-grid { grid-template-columns: 1fr; }
    }
    
    @media (min-width: 769px) {
      .mobile-top-header { display: none !important; }
      .mobile-bottom-nav { display: none !important; }
    }
  </style>
</head>

<body>
  <!-- Mobile Top Header -->
  <div class="mobile-top-header">
    <div class="mobile-header-bar">
      <button class="mobile-menu-toggle" onclick="toggleMobileMenu(this)">
        <span>‚ò∞</span>
      </button>
      <div class="mobile-header-center">
        <div class="mobile-header-title">Settings</div>
      </div>
      <a onclick="logout()" style="color:var(--text-secondary); cursor:pointer; font-size:14px; text-decoration:none;">Logout</a>
    </div>
    <div class="mobile-header-content" id="mobileHeaderContent">
      <div class="mobile-header-actions">
        <button onclick="location.href='dashboard-service.html'">Service</button>
        <button onclick="location.href='dashboard-parts.html'">Parts</button>
        <button onclick="location.href='dashboard-sales.html'">Sales</button>
      </div>
    </div>
  </div>

  <!-- Desktop Header -->
  <div class="desktop-header">
    <div style="padding:16px 24px 8px; display:flex; justify-content:space-between; align-items:center;">
      <h1>Settings</h1>
      <a onclick="logout()" style="color:var(--text-secondary); cursor:pointer; font-size:14px; text-decoration:none;">Logout</a>
    </div>
    <div style="padding:0 24px 12px;">
      <nav style="display:flex; gap:24px; overflow-x:auto;">
        <a href="dashboard-business.html" style="padding:12px 0; color:var(--text-secondary); text-decoration:none; font-size:14px; white-space:nowrap; border-bottom:2px solid transparent;">Dashboard</a>
        <a href="dashboard-search.html" style="padding:12px 0; color:var(--text-secondary); text-decoration:none; font-size:14px; white-space:nowrap; border-bottom:2px solid transparent;">Search</a>
        <a href="dashboard-settings.html" style="padding:12px 0; color:var(--accent-primary); text-decoration:none; font-size:14px; white-space:nowrap; border-bottom:2px solid var(--accent-primary);">Settings</a>
      </nav>
    </div>
    <div style="padding:0 24px 12px; border-top:1px solid var(--border-default); padding-top:12px;">
      <div style="display:flex; gap:12px; justify-content:flex-end;">
        <button onclick="location.href='dashboard-service.html'">Service</button>
        <button onclick="location.href='dashboard-parts.html'">Parts</button>
        <button onclick="location.href='dashboard-sales.html'">Sales</button>
      </div>
    </div>
  </div>

  <!-- Mobile Bottom Nav -->
  <div class="mobile-bottom-nav">
    <div class="mobile-nav-grid">
      <a href="dashboard-business.html" class="mobile-nav-btn">Dashboard</a>
      <a href="dashboard-search.html" class="mobile-nav-btn">Search</a>
      <a href="dashboard-settings.html" class="mobile-nav-btn active">Settings</a>
      <a href="support.html" class="mobile-nav-btn">Support</a>
    </div>
    <div class="mobile-nav-secondary">
      <a href="dashboard-service.html" class="mobile-nav-btn related">Service</a>
      <a href="dashboard-parts.html" class="mobile-nav-btn related">Parts</a>
      <a href="dashboard-sales.html" class="mobile-nav-btn related">Sales</a>
    </div>
  </div>

  <!-- Main Content -->
  <div style="padding:24px;">

  <!-- APPEARANCE & THEMES - MOVED TO TOP -->
  <div class="card">
    <button class="accordion-header active" onclick="toggleAccordion(this)">
      <h2>üé® Appearance & Themes</h2>
      <span class="accordion-icon">‚ñº</span>
    </button>
    <div class="accordion-content active">
      <div class="accordion-inner">
        <div class="setting-description" style="margin-bottom:16px;">
          Choose your preferred color scheme. Changes apply instantly across all pages.
        </div>
        
        <h3 style="font-size:14px; margin:20px 0 12px; color:var(--accent-light);">üåô Dark Themes - Recommended</h3>
        <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(130px, 1fr)); gap:10px;">
          
          <div class="theme-card" data-theme="dark-blue" onclick="setTheme('dark-blue')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#0b0f14;">
              <div style="flex:1; border-radius:3px; background:#1a2535;"></div>
              <div style="flex:1; border-radius:3px; background:#3b82f6;"></div>
              <div style="flex:1; border-radius:3px; background:#60a5fa;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Dark Blue</div>
            <div style="font-size:10px; color:var(--text-secondary);">Default</div>
          </div>
          
          <div class="theme-card" data-theme="slate" onclick="setTheme('slate')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#0f172a;">
              <div style="flex:1; border-radius:3px; background:#273549;"></div>
              <div style="flex:1; border-radius:3px; background:#6366f1;"></div>
              <div style="flex:1; border-radius:3px; background:#818cf8;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Slate</div>
            <div style="font-size:10px; color:var(--text-secondary);">Blue-grey</div>
          </div>
          
          <div class="theme-card" data-theme="graphite" onclick="setTheme('graphite')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#0d0d0d;">
              <div style="flex:1; border-radius:3px; background:#1f1f1f;"></div>
              <div style="flex:1; border-radius:3px; background:#4a9eff;"></div>
              <div style="flex:1; border-radius:3px; background:#6bb3ff;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Graphite</div>
            <div style="font-size:10px; color:var(--text-secondary);">Pure neutral</div>
          </div>
          
          <div class="theme-card" data-theme="obsidian" onclick="setTheme('obsidian')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#050505;">
              <div style="flex:1; border-radius:3px; background:#141414;"></div>
              <div style="flex:1; border-radius:3px; background:#0ea5e9;"></div>
              <div style="flex:1; border-radius:3px; background:#38bdf8;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Obsidian</div>
            <div style="font-size:10px; color:var(--text-secondary);">Near black</div>
          </div>
          
          <div class="theme-card" data-theme="midnight" onclick="setTheme('midnight')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#09090b;">
              <div style="flex:1; border-radius:3px; background:#18181d;"></div>
              <div style="flex:1; border-radius:3px; background:#8b5cf6;"></div>
              <div style="flex:1; border-radius:3px; background:#a78bfa;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Midnight</div>
            <div style="font-size:10px; color:var(--text-secondary);">Purple</div>
          </div>
          
          <div class="theme-card" data-theme="ocean" onclick="setTheme('ocean')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#0a1214;">
              <div style="flex:1; border-radius:3px; background:#152228;"></div>
              <div style="flex:1; border-radius:3px; background:#14b8a6;"></div>
              <div style="flex:1; border-radius:3px; background:#2dd4bf;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Ocean</div>
            <div style="font-size:10px; color:var(--text-secondary);">Teal</div>
          </div>
          
          <div class="theme-card" data-theme="forest" onclick="setTheme('forest')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#0a100c;">
              <div style="flex:1; border-radius:3px; background:#16221a;"></div>
              <div style="flex:1; border-radius:3px; background:#22c55e;"></div>
              <div style="flex:1; border-radius:3px; background:#4ade80;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Forest</div>
            <div style="font-size:10px; color:var(--text-secondary);">Green</div>
          </div>
          
          <div class="theme-card" data-theme="grey" onclick="setTheme('grey')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#111111;">
              <div style="flex:1; border-radius:3px; background:#242424;"></div>
              <div style="flex:1; border-radius:3px; background:#525252;"></div>
              <div style="flex:1; border-radius:3px; background:#737373;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Grey</div>
            <div style="font-size:10px; color:var(--text-secondary);">Monochrome</div>
          </div>
          
        </div>
        
        <h3 style="font-size:14px; margin:24px 0 12px; color:var(--text-secondary);">üåô More Dark Options</h3>
        <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(130px, 1fr)); gap:10px;">
          
          <div class="theme-card" data-theme="charcoal" onclick="setTheme('charcoal')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#121214;">
              <div style="flex:1; border-radius:3px; background:#27272a;"></div>
              <div style="flex:1; border-radius:3px; background:#a1a1aa;"></div>
              <div style="flex:1; border-radius:3px; background:#d4d4d8;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Charcoal</div>
            <div style="font-size:10px; color:var(--text-secondary);">Warm neutral</div>
          </div>
          
          <div class="theme-card" data-theme="navy" onclick="setTheme('navy')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#0a0e1a;">
              <div style="flex:1; border-radius:3px; background:#182035;"></div>
              <div style="flex:1; border-radius:3px; background:#4a7cc9;"></div>
              <div style="flex:1; border-radius:3px; background:#6b9ae0;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Navy</div>
            <div style="font-size:10px; color:var(--text-secondary);">Corporate</div>
          </div>
          
          <div class="theme-card" data-theme="steel" onclick="setTheme('steel')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#0c0f13;">
              <div style="flex:1; border-radius:3px; background:#1a2028;"></div>
              <div style="flex:1; border-radius:3px; background:#64748b;"></div>
              <div style="flex:1; border-radius:3px; background:#94a3b8;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Steel</div>
            <div style="font-size:10px; color:var(--text-secondary);">Industrial</div>
          </div>
          
          <div class="theme-card" data-theme="espresso" onclick="setTheme('espresso')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#0f0c0a;">
              <div style="flex:1; border-radius:3px; background:#211c18;"></div>
              <div style="flex:1; border-radius:3px; background:#a78b6e;"></div>
              <div style="flex:1; border-radius:3px; background:#c4a88a;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Espresso</div>
            <div style="font-size:10px; color:var(--text-secondary);">Warm brown</div>
          </div>
          
          <div class="theme-card" data-theme="onyx" onclick="setTheme('onyx')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#000000;">
              <div style="flex:1; border-radius:3px; background:#121212;"></div>
              <div style="flex:1; border-radius:3px; background:#06b6d4;"></div>
              <div style="flex:1; border-radius:3px; background:#22d3ee;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Onyx</div>
            <div style="font-size:10px; color:var(--text-secondary);">True black</div>
          </div>
          
        </div>
        
        <h3 style="font-size:14px; margin:24px 0 12px; color:var(--accent-light);">‚òÄÔ∏è Light Themes</h3>
        <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(130px, 1fr)); gap:10px;">
          
          <div class="theme-card" data-theme="light-blue" onclick="setTheme('light-blue')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#f8fafc; border:1px solid #cbd5e1;">
              <div style="flex:1; border-radius:3px; background:#ffffff;"></div>
              <div style="flex:1; border-radius:3px; background:#2563eb;"></div>
              <div style="flex:1; border-radius:3px; background:#3b82f6;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Light Blue</div>
            <div style="font-size:10px; color:var(--text-secondary);">Clean blue</div>
          </div>
          
          <div class="theme-card" data-theme="light-slate" onclick="setTheme('light-slate')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#f8fafc; border:1px solid #cbd5e1;">
              <div style="flex:1; border-radius:3px; background:#ffffff;"></div>
              <div style="flex:1; border-radius:3px; background:#4f46e5;"></div>
              <div style="flex:1; border-radius:3px; background:#6366f1;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Light Slate</div>
            <div style="font-size:10px; color:var(--text-secondary);">Indigo</div>
          </div>
          
          <div class="theme-card" data-theme="light-graphite" onclick="setTheme('light-graphite')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#fafafa; border:1px solid #d1d1d1;">
              <div style="flex:1; border-radius:3px; background:#ffffff;"></div>
              <div style="flex:1; border-radius:3px; background:#2196f3;"></div>
              <div style="flex:1; border-radius:3px; background:#42a5f5;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Light Graphite</div>
            <div style="font-size:10px; color:var(--text-secondary);">Material</div>
          </div>
          
          <div class="theme-card" data-theme="light-ocean" onclick="setTheme('light-ocean')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#f0fdfa; border:1px solid #5eead4;">
              <div style="flex:1; border-radius:3px; background:#ffffff;"></div>
              <div style="flex:1; border-radius:3px; background:#0d9488;"></div>
              <div style="flex:1; border-radius:3px; background:#14b8a6;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Light Ocean</div>
            <div style="font-size:10px; color:var(--text-secondary);">Teal</div>
          </div>
          
          <div class="theme-card" data-theme="light-forest" onclick="setTheme('light-forest')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#f0fdf4; border:1px solid #86efac;">
              <div style="flex:1; border-radius:3px; background:#ffffff;"></div>
              <div style="flex:1; border-radius:3px; background:#16a34a;"></div>
              <div style="flex:1; border-radius:3px; background:#22c55e;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Light Forest</div>
            <div style="font-size:10px; color:var(--text-secondary);">Green</div>
          </div>
          
          <div class="theme-card" data-theme="light-midnight" onclick="setTheme('light-midnight')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#faf5ff; border:1px solid #d8b4fe;">
              <div style="flex:1; border-radius:3px; background:#ffffff;"></div>
              <div style="flex:1; border-radius:3px; background:#7c3aed;"></div>
              <div style="flex:1; border-radius:3px; background:#8b5cf6;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Light Midnight</div>
            <div style="font-size:10px; color:var(--text-secondary);">Purple</div>
          </div>
          
          <div class="theme-card" data-theme="light-grey" onclick="setTheme('light-grey')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#fafafa; border:1px solid #d4d4d4;">
              <div style="flex:1; border-radius:3px; background:#ffffff;"></div>
              <div style="flex:1; border-radius:3px; background:#404040;"></div>
              <div style="flex:1; border-radius:3px; background:#525252;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Light Grey</div>
            <div style="font-size:10px; color:var(--text-secondary);">Neutral</div>
          </div>
          
          <div class="theme-card" data-theme="light-obsidian" onclick="setTheme('light-obsidian')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#f0f9ff; border:1px solid #7dd3fc;">
              <div style="flex:1; border-radius:3px; background:#ffffff;"></div>
              <div style="flex:1; border-radius:3px; background:#0284c7;"></div>
              <div style="flex:1; border-radius:3px; background:#0ea5e9;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Light Obsidian</div>
            <div style="font-size:10px; color:var(--text-secondary);">Sky blue</div>
          </div>
          
          <div class="theme-card" data-theme="light-espresso" onclick="setTheme('light-espresso')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#fefcfb; border:1px solid #ddc9b8;">
              <div style="flex:1; border-radius:3px; background:#ffffff;"></div>
              <div style="flex:1; border-radius:3px; background:#8b6f4e;"></div>
              <div style="flex:1; border-radius:3px; background:#a78b6e;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Light Espresso</div>
            <div style="font-size:10px; color:var(--text-secondary);">Warm brown</div>
          </div>
          
          <div class="theme-card" data-theme="light-onyx" onclick="setTheme('light-onyx')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#ecfeff; border:1px solid #67e8f9;">
              <div style="flex:1; border-radius:3px; background:#ffffff;"></div>
              <div style="flex:1; border-radius:3px; background:#0891b2;"></div>
              <div style="flex:1; border-radius:3px; background:#06b6d4;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Light Onyx</div>
            <div style="font-size:10px; color:var(--text-secondary);">Cyan</div>
          </div>
          
          <div class="theme-card" data-theme="light-steel" onclick="setTheme('light-steel')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#f8fafc; border:1px solid #cbd5e1;">
              <div style="flex:1; border-radius:3px; background:#ffffff;"></div>
              <div style="flex:1; border-radius:3px; background:#475569;"></div>
              <div style="flex:1; border-radius:3px; background:#64748b;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Light Steel</div>
            <div style="font-size:10px; color:var(--text-secondary);">Industrial</div>
          </div>
          
          <div class="theme-card" data-theme="light-navy" onclick="setTheme('light-navy')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#f0f4ff; border:1px solid #a5b4fc;">
              <div style="flex:1; border-radius:3px; background:#ffffff;"></div>
              <div style="flex:1; border-radius:3px; background:#3949ab;"></div>
              <div style="flex:1; border-radius:3px; background:#5c6bc0;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Light Navy</div>
            <div style="font-size:10px; color:var(--text-secondary);">Corporate</div>
          </div>
          
          <div class="theme-card" data-theme="light-charcoal" onclick="setTheme('light-charcoal')">
            <div style="height:40px; border-radius:6px; margin-bottom:8px; display:flex; gap:2px; padding:4px; background:#fafafa; border:1px solid #d4d4d8;">
              <div style="flex:1; border-radius:3px; background:#ffffff;"></div>
              <div style="flex:1; border-radius:3px; background:#71717a;"></div>
              <div style="flex:1; border-radius:3px; background:#a1a1aa;"></div>
            </div>
            <div style="font-size:12px; font-weight:600;">Light Charcoal</div>
            <div style="font-size:10px; color:var(--text-secondary);">Warm neutral</div>
          </div>
          
        </div>
      </div>
    </div>
  </div>

  <!-- BUSINESS DEPARTMENT -->
  <div class="card">
    <button class="accordion-header" onclick="toggleAccordion(this)">
      <h2>Business Settings</h2>
      <span class="accordion-icon">‚ñº</span>
    </button>
    <div class="accordion-content">
      <div class="accordion-inner">
        <div class="setting-description">Business settings coming soon. Configure company info, employees, and invoicing.</div>
      </div>
    </div>
  </div>

  <!-- SERVICE DEPARTMENT -->
  <div class="card">
    <button class="accordion-header" onclick="toggleAccordion(this)">
      <h2>Service Settings</h2>
      <span class="accordion-icon">‚ñº</span>
    </button>
    <div class="accordion-content">
      <div class="accordion-inner">
        <div class="setting-description">Service settings coming soon. Configure labor rates, work order defaults, and labor codes.</div>
      </div>
    </div>
  </div>

  <!-- PARTS DEPARTMENT -->
  <div class="card">
    <button class="accordion-header" onclick="toggleAccordion(this)">
      <h2>Parts Settings</h2>
      <span class="accordion-icon">‚ñº</span>
    </button>
    <div class="accordion-content">
      <div class="accordion-inner">
        <div class="setting-description">Parts settings coming soon. Configure markup, inventory thresholds, and vendors.</div>
      </div>
    </div>
  </div>

  <!-- SALES DEPARTMENT -->
  <div class="card">
    <button class="accordion-header" onclick="toggleAccordion(this)">
      <h2>Sales Settings</h2>
      <span class="accordion-icon">‚ñº</span>
    </button>
    <div class="accordion-content">
      <div class="accordion-inner">
        <div class="setting-description">Sales settings coming soon. Configure commissions, discounts, and quotes.</div>
      </div>
    </div>
  </div>

  </div>
  <!-- End Main Content -->

<script>
function toggleMobileMenu(button) {
  const content = document.getElementById('mobileHeaderContent');
  content.classList.toggle('expanded');
}

function toggleAccordion(button) {
  const content = button.nextElementSibling;
  button.classList.toggle('active');
  content.classList.toggle('active');
}

function logout() {
  localStorage.removeItem("sb_access_token");
  location.replace("login.html");
}

function setTheme(theme) {
  localStorage.setItem('app-theme', theme);
  document.documentElement.setAttribute('data-theme', theme);
  updateThemeCardStates(theme);
}

function updateThemeCardStates(activeTheme) {
  document.querySelectorAll('.theme-card').forEach(card => {
    const cardTheme = card.getAttribute('data-theme');
    if (cardTheme === activeTheme) {
      card.classList.add('active');
    } else {
      card.classList.remove('active');
    }
  });
}

function loadTheme() {
  const savedTheme = localStorage.getItem('app-theme') || 'dark-blue';
  document.documentElement.setAttribute('data-theme', savedTheme);
  setTimeout(() => updateThemeCardStates(savedTheme), 100);
}

loadTheme();
</script>
</body>
</html>
